{"ast":null,"code":"import React, { useContext, useRef, useEffect, createElement, useState, useMemo, Fragment, useCallback } from 'react';\nimport { isPlatform as isPlatform$1, getPlatforms as getPlatforms$1, componentOnReady, createAnimation, actionSheetController, alertController, toastController, modalController, popoverController, pickerController, loadingController, initialize } from '@ionic/core/components';\nexport { IonicSafeString, IonicSlides, createAnimation, createGesture, getIonPageElement, getTimeGivenProgression, iosTransitionAnimation, mdTransitionAnimation, openURL } from '@ionic/core/components';\nimport { __rest } from 'tslib';\nimport ReactDOM, { createPortal } from 'react-dom';\nimport { defineCustomElement as defineCustomElement$1 } from '@ionic/core/components/ion-accordion.js';\nimport { defineCustomElement as defineCustomElement$2 } from '@ionic/core/components/ion-accordion-group.js';\nimport { defineCustomElement as defineCustomElement$3 } from '@ionic/core/components/ion-avatar.js';\nimport { defineCustomElement as defineCustomElement$4 } from '@ionic/core/components/ion-backdrop.js';\nimport { defineCustomElement as defineCustomElement$5 } from '@ionic/core/components/ion-badge.js';\nimport { defineCustomElement as defineCustomElement$6 } from '@ionic/core/components/ion-breadcrumbs.js';\nimport { defineCustomElement as defineCustomElement$7 } from '@ionic/core/components/ion-buttons.js';\nimport { defineCustomElement as defineCustomElement$8 } from '@ionic/core/components/ion-card-content.js';\nimport { defineCustomElement as defineCustomElement$9 } from '@ionic/core/components/ion-card-header.js';\nimport { defineCustomElement as defineCustomElement$a } from '@ionic/core/components/ion-card-subtitle.js';\nimport { defineCustomElement as defineCustomElement$b } from '@ionic/core/components/ion-card-title.js';\nimport { defineCustomElement as defineCustomElement$c } from '@ionic/core/components/ion-checkbox.js';\nimport { defineCustomElement as defineCustomElement$d } from '@ionic/core/components/ion-chip.js';\nimport { defineCustomElement as defineCustomElement$e } from '@ionic/core/components/ion-col.js';\nimport { defineCustomElement as defineCustomElement$f } from '@ionic/core/components/ion-content.js';\nimport { defineCustomElement as defineCustomElement$g } from '@ionic/core/components/ion-datetime.js';\nimport { defineCustomElement as defineCustomElement$h } from '@ionic/core/components/ion-datetime-button.js';\nimport { defineCustomElement as defineCustomElement$i } from '@ionic/core/components/ion-fab.js';\nimport { defineCustomElement as defineCustomElement$j } from '@ionic/core/components/ion-fab-list.js';\nimport { defineCustomElement as defineCustomElement$k } from '@ionic/core/components/ion-footer.js';\nimport { defineCustomElement as defineCustomElement$l } from '@ionic/core/components/ion-grid.js';\nimport { defineCustomElement as defineCustomElement$m } from '@ionic/core/components/ion-header.js';\nimport { defineCustomElement as defineCustomElement$n } from '@ionic/core/components/ion-img.js';\nimport { defineCustomElement as defineCustomElement$o } from '@ionic/core/components/ion-infinite-scroll.js';\nimport { defineCustomElement as defineCustomElement$p } from '@ionic/core/components/ion-infinite-scroll-content.js';\nimport { defineCustomElement as defineCustomElement$q } from '@ionic/core/components/ion-input.js';\nimport { defineCustomElement as defineCustomElement$r } from '@ionic/core/components/ion-input-password-toggle.js';\nimport { defineCustomElement as defineCustomElement$s } from '@ionic/core/components/ion-item-divider.js';\nimport { defineCustomElement as defineCustomElement$t } from '@ionic/core/components/ion-item-group.js';\nimport { defineCustomElement as defineCustomElement$u } from '@ionic/core/components/ion-item-options.js';\nimport { defineCustomElement as defineCustomElement$v } from '@ionic/core/components/ion-item-sliding.js';\nimport { defineCustomElement as defineCustomElement$w } from '@ionic/core/components/ion-label.js';\nimport { defineCustomElement as defineCustomElement$x } from '@ionic/core/components/ion-list.js';\nimport { defineCustomElement as defineCustomElement$y } from '@ionic/core/components/ion-list-header.js';\nimport { defineCustomElement as defineCustomElement$z } from '@ionic/core/components/ion-menu.js';\nimport { defineCustomElement as defineCustomElement$A } from '@ionic/core/components/ion-menu-button.js';\nimport { defineCustomElement as defineCustomElement$B } from '@ionic/core/components/ion-menu-toggle.js';\nimport { defineCustomElement as defineCustomElement$1h } from '@ionic/core/components/ion-nav.js';\nimport { defineCustomElement as defineCustomElement$C } from '@ionic/core/components/ion-nav-link.js';\nimport { defineCustomElement as defineCustomElement$D } from '@ionic/core/components/ion-note.js';\nimport { defineCustomElement as defineCustomElement$E } from '@ionic/core/components/ion-picker.js';\nimport { defineCustomElement as defineCustomElement$F } from '@ionic/core/components/ion-picker-column.js';\nimport { defineCustomElement as defineCustomElement$G } from '@ionic/core/components/ion-picker-column-option.js';\nimport { defineCustomElement as defineCustomElement$H } from '@ionic/core/components/ion-progress-bar.js';\nimport { defineCustomElement as defineCustomElement$I } from '@ionic/core/components/ion-radio.js';\nimport { defineCustomElement as defineCustomElement$J } from '@ionic/core/components/ion-radio-group.js';\nimport { defineCustomElement as defineCustomElement$K } from '@ionic/core/components/ion-range.js';\nimport { defineCustomElement as defineCustomElement$L } from '@ionic/core/components/ion-refresher.js';\nimport { defineCustomElement as defineCustomElement$M } from '@ionic/core/components/ion-refresher-content.js';\nimport { defineCustomElement as defineCustomElement$N } from '@ionic/core/components/ion-reorder.js';\nimport { defineCustomElement as defineCustomElement$O } from '@ionic/core/components/ion-reorder-group.js';\nimport { defineCustomElement as defineCustomElement$P } from '@ionic/core/components/ion-ripple-effect.js';\nimport { defineCustomElement as defineCustomElement$Q } from '@ionic/core/components/ion-row.js';\nimport { defineCustomElement as defineCustomElement$R } from '@ionic/core/components/ion-searchbar.js';\nimport { defineCustomElement as defineCustomElement$S } from '@ionic/core/components/ion-segment.js';\nimport { defineCustomElement as defineCustomElement$T } from '@ionic/core/components/ion-segment-button.js';\nimport { defineCustomElement as defineCustomElement$U } from '@ionic/core/components/ion-select.js';\nimport { defineCustomElement as defineCustomElement$V } from '@ionic/core/components/ion-select-option.js';\nimport { defineCustomElement as defineCustomElement$W } from '@ionic/core/components/ion-skeleton-text.js';\nimport { defineCustomElement as defineCustomElement$X } from '@ionic/core/components/ion-spinner.js';\nimport { defineCustomElement as defineCustomElement$Y } from '@ionic/core/components/ion-split-pane.js';\nimport { defineCustomElement as defineCustomElement$Z } from '@ionic/core/components/ion-tab.js';\nimport { defineCustomElement as defineCustomElement$_ } from '@ionic/core/components/ion-text.js';\nimport { defineCustomElement as defineCustomElement$$ } from '@ionic/core/components/ion-textarea.js';\nimport { defineCustomElement as defineCustomElement$10 } from '@ionic/core/components/ion-thumbnail.js';\nimport { defineCustomElement as defineCustomElement$11 } from '@ionic/core/components/ion-title.js';\nimport { defineCustomElement as defineCustomElement$12 } from '@ionic/core/components/ion-toggle.js';\nimport { defineCustomElement as defineCustomElement$13 } from '@ionic/core/components/ion-toolbar.js';\nimport { IonBreadcrumb as IonBreadcrumb$1 } from '@ionic/core/components/ion-breadcrumb.js';\nimport { IonButton as IonButton$1 } from '@ionic/core/components/ion-button.js';\nimport { IonCard as IonCard$1 } from '@ionic/core/components/ion-card.js';\nimport { IonFabButton as IonFabButton$1 } from '@ionic/core/components/ion-fab-button.js';\nimport { IonItemOption as IonItemOption$1 } from '@ionic/core/components/ion-item-option.js';\nimport { IonItem as IonItem$1 } from '@ionic/core/components/ion-item.js';\nimport { IonRouterLink as IonRouterLink$1 } from '@ionic/core/components/ion-router-link.js';\nimport { defineCustomElement as defineCustomElement$14 } from '@ionic/core/components/ion-alert.js';\nimport { defineCustomElement as defineCustomElement$15 } from '@ionic/core/components/ion-loading.js';\nimport { defineCustomElement as defineCustomElement$16 } from '@ionic/core/components/ion-toast.js';\nimport { defineCustomElement as defineCustomElement$17 } from '@ionic/core/components/ion-picker-legacy.js';\nimport { defineCustomElement as defineCustomElement$18 } from '@ionic/core/components/ion-action-sheet.js';\nimport { defineCustomElement as defineCustomElement$19 } from '@ionic/core/components/ion-modal.js';\nimport { defineCustomElement as defineCustomElement$1a } from '@ionic/core/components/ion-popover.js';\nimport { defineCustomElement as defineCustomElement$1g } from '@ionic/core/components/ion-app.js';\nimport { defineCustomElement as defineCustomElement$1f } from '@ionic/core/components/ion-back-button.js';\nimport { defineCustomElement as defineCustomElement$1c } from '@ionic/core/components/ion-router-outlet.js';\nimport { defineCustomElement as defineCustomElement$1b } from '@ionic/core/components/ion-tab-bar.js';\nimport { defineCustomElement as defineCustomElement$1e } from '@ionic/core/components/ion-tab-button.js';\nimport { defineCustomElement as defineCustomElement$1d } from 'ionicons/components/ion-icon.js';\nconst IonLifeCycleContext = /*@__PURE__*/React.createContext({\n  onIonViewWillEnter: () => {\n    return;\n  },\n  ionViewWillEnter: () => {\n    return;\n  },\n  onIonViewDidEnter: () => {\n    return;\n  },\n  ionViewDidEnter: () => {\n    return;\n  },\n  onIonViewWillLeave: () => {\n    return;\n  },\n  ionViewWillLeave: () => {\n    return;\n  },\n  onIonViewDidLeave: () => {\n    return;\n  },\n  ionViewDidLeave: () => {\n    return;\n  },\n  cleanupIonViewWillEnter: () => {\n    return;\n  },\n  cleanupIonViewDidEnter: () => {\n    return;\n  },\n  cleanupIonViewWillLeave: () => {\n    return;\n  },\n  cleanupIonViewDidLeave: () => {\n    return;\n  }\n});\nconst DefaultIonLifeCycleContext = class {\n  constructor() {\n    this.ionViewWillEnterCallbacks = [];\n    this.ionViewDidEnterCallbacks = [];\n    this.ionViewWillLeaveCallbacks = [];\n    this.ionViewDidLeaveCallbacks = [];\n    this.ionViewWillEnterDestructorCallbacks = [];\n    this.ionViewDidEnterDestructorCallbacks = [];\n    this.ionViewWillLeaveDestructorCallbacks = [];\n    this.ionViewDidLeaveDestructorCallbacks = [];\n  }\n  onIonViewWillEnter(callback) {\n    if (callback.id) {\n      const index = this.ionViewWillEnterCallbacks.findIndex(x => x.id === callback.id);\n      if (index > -1) {\n        this.ionViewWillEnterCallbacks[index] = callback;\n      } else {\n        this.ionViewWillEnterCallbacks.push(callback);\n      }\n    } else {\n      this.ionViewWillEnterCallbacks.push(callback);\n    }\n  }\n  teardownCallback(callback, callbacks) {\n    // Find any destructors that have been registered for the callback\n    const matches = callbacks.filter(x => x.id === callback.id);\n    if (matches.length !== 0) {\n      // Execute the destructor for each matching item\n      matches.forEach(match => {\n        if (match && typeof match.destructor === 'function') {\n          match.destructor();\n        }\n      });\n      // Remove all matching items from the array\n      callbacks = callbacks.filter(x => x.id !== callback.id);\n    }\n  }\n  /**\n   * Tears down the user-provided ionViewWillEnter lifecycle callback.\n   * This is the same behavior as React's useEffect hook. The callback\n   * is invoked when the component is unmounted.\n   */\n  cleanupIonViewWillEnter(callback) {\n    this.teardownCallback(callback, this.ionViewWillEnterDestructorCallbacks);\n  }\n  /**\n   * Tears down the user-provided ionViewDidEnter lifecycle callback.\n   * This is the same behavior as React's useEffect hook. The callback\n   * is invoked when the component is unmounted.\n   */\n  cleanupIonViewDidEnter(callback) {\n    this.teardownCallback(callback, this.ionViewDidEnterDestructorCallbacks);\n  }\n  /**\n   * Tears down the user-provided ionViewWillLeave lifecycle callback.\n   * This is the same behavior as React's useEffect hook. The callback\n   * is invoked when the component is unmounted.\n   */\n  cleanupIonViewWillLeave(callback) {\n    this.teardownCallback(callback, this.ionViewWillLeaveDestructorCallbacks);\n  }\n  /**\n   * Tears down the user-provided ionViewDidLeave lifecycle callback.\n   * This is the same behavior as React's useEffect hook. The callback\n   * is invoked when the component is unmounted.\n   */\n  cleanupIonViewDidLeave(callback) {\n    this.teardownCallback(callback, this.ionViewDidLeaveDestructorCallbacks);\n  }\n  ionViewWillEnter() {\n    this.ionViewWillEnterCallbacks.forEach(cb => {\n      const destructor = cb();\n      if (cb.id) {\n        this.ionViewWillEnterDestructorCallbacks.push({\n          id: cb.id,\n          destructor\n        });\n      }\n    });\n  }\n  onIonViewDidEnter(callback) {\n    if (callback.id) {\n      const index = this.ionViewDidEnterCallbacks.findIndex(x => x.id === callback.id);\n      if (index > -1) {\n        this.ionViewDidEnterCallbacks[index] = callback;\n      } else {\n        this.ionViewDidEnterCallbacks.push(callback);\n      }\n    } else {\n      this.ionViewDidEnterCallbacks.push(callback);\n    }\n  }\n  ionViewDidEnter() {\n    this.ionViewDidEnterCallbacks.forEach(cb => {\n      const destructor = cb();\n      if (cb.id) {\n        this.ionViewDidEnterDestructorCallbacks.push({\n          id: cb.id,\n          destructor\n        });\n      }\n    });\n  }\n  onIonViewWillLeave(callback) {\n    if (callback.id) {\n      const index = this.ionViewWillLeaveCallbacks.findIndex(x => x.id === callback.id);\n      if (index > -1) {\n        this.ionViewWillLeaveCallbacks[index] = callback;\n      } else {\n        this.ionViewWillLeaveCallbacks.push(callback);\n      }\n    } else {\n      this.ionViewWillLeaveCallbacks.push(callback);\n    }\n  }\n  ionViewWillLeave() {\n    this.ionViewWillLeaveCallbacks.forEach(cb => {\n      const destructor = cb();\n      if (cb.id) {\n        this.ionViewWillLeaveDestructorCallbacks.push({\n          id: cb.id,\n          destructor\n        });\n      }\n    });\n  }\n  onIonViewDidLeave(callback) {\n    if (callback.id) {\n      const index = this.ionViewDidLeaveCallbacks.findIndex(x => x.id === callback.id);\n      if (index > -1) {\n        this.ionViewDidLeaveCallbacks[index] = callback;\n      } else {\n        this.ionViewDidLeaveCallbacks.push(callback);\n      }\n    } else {\n      this.ionViewDidLeaveCallbacks.push(callback);\n    }\n  }\n  ionViewDidLeave() {\n    this.ionViewDidLeaveCallbacks.forEach(cb => {\n      const destructor = cb();\n      if (cb.id) {\n        this.ionViewDidLeaveDestructorCallbacks.push({\n          id: cb.id,\n          destructor\n        });\n      }\n    });\n    this.componentCanBeDestroyed();\n  }\n  onComponentCanBeDestroyed(callback) {\n    this.componentCanBeDestroyedCallback = callback;\n  }\n  componentCanBeDestroyed() {\n    if (this.componentCanBeDestroyedCallback) {\n      this.componentCanBeDestroyedCallback();\n    }\n  }\n};\n\n// TODO(FW-2959): types\nconst withIonLifeCycle = WrappedComponent => {\n  return class IonLifeCycle extends React.Component {\n    constructor(props) {\n      super(props);\n      this.componentRef = React.createRef();\n    }\n    componentDidMount() {\n      const element = this.componentRef.current;\n      this.context.onIonViewWillEnter(() => {\n        if (element && element.ionViewWillEnter) {\n          element.ionViewWillEnter();\n        }\n      });\n      this.context.onIonViewDidEnter(() => {\n        if (element && element.ionViewDidEnter) {\n          element.ionViewDidEnter();\n        }\n      });\n      this.context.onIonViewWillLeave(() => {\n        if (element && element.ionViewWillLeave) {\n          element.ionViewWillLeave();\n        }\n      });\n      this.context.onIonViewDidLeave(() => {\n        if (element && element.ionViewDidLeave) {\n          element.ionViewDidLeave();\n        }\n      });\n    }\n    render() {\n      return React.createElement(IonLifeCycleContext.Consumer, null, context => {\n        this.context = context;\n        return React.createElement(WrappedComponent, Object.assign({\n          ref: this.componentRef\n        }, this.props));\n      });\n    }\n  };\n};\nconst useIonViewWillEnter = (callback, deps = []) => {\n  const context = useContext(IonLifeCycleContext);\n  const id = useRef();\n  id.current = id.current || Math.floor(Math.random() * 1000000);\n  useEffect(() => {\n    callback.id = id.current;\n    context.onIonViewWillEnter(callback);\n    return () => {\n      context.cleanupIonViewWillEnter(callback);\n    };\n  }, deps);\n};\nconst useIonViewDidEnter = (callback, deps = []) => {\n  const context = useContext(IonLifeCycleContext);\n  const id = useRef();\n  id.current = id.current || Math.floor(Math.random() * 1000000);\n  useEffect(() => {\n    callback.id = id.current;\n    context.onIonViewDidEnter(callback);\n    return () => {\n      context.cleanupIonViewDidEnter(callback);\n    };\n  }, deps);\n};\nconst useIonViewWillLeave = (callback, deps = []) => {\n  const context = useContext(IonLifeCycleContext);\n  const id = useRef();\n  id.current = id.current || Math.floor(Math.random() * 1000000);\n  useEffect(() => {\n    callback.id = id.current;\n    context.onIonViewWillLeave(callback);\n    return () => {\n      context.cleanupIonViewWillLeave(callback);\n    };\n  }, deps);\n};\nconst useIonViewDidLeave = (callback, deps = []) => {\n  const context = useContext(IonLifeCycleContext);\n  const id = useRef();\n  id.current = id.current || Math.floor(Math.random() * 1000000);\n  useEffect(() => {\n    callback.id = id.current;\n    context.onIonViewDidLeave(callback);\n    return () => {\n      context.cleanupIonViewDidLeave(callback);\n    };\n  }, deps);\n};\nconst NavContext = /*@__PURE__*/React.createContext({\n  getIonRedirect: () => undefined,\n  getIonRoute: () => undefined,\n  getPageManager: () => undefined,\n  getStackManager: () => undefined,\n  goBack: route => {\n    if (typeof window !== 'undefined') {\n      if (typeof route === 'string') {\n        window.location.pathname = route;\n      } else {\n        window.history.back();\n      }\n    }\n  },\n  navigate: path => {\n    if (typeof window !== 'undefined') {\n      window.location.pathname = path;\n    }\n  },\n  hasIonicRouter: () => false,\n  routeInfo: undefined,\n  setCurrentTab: () => undefined,\n  changeTab: (_tab, path) => {\n    if (typeof window !== 'undefined') {\n      window.location.pathname = path;\n    }\n  },\n  resetTab: (_tab, path) => {\n    if (typeof window !== 'undefined') {\n      window.location.pathname = path;\n    }\n  }\n});\nconst dashToPascalCase = str => str.toLowerCase().split('-').map(segment => segment.charAt(0).toUpperCase() + segment.slice(1)).join('');\nconst camelToDashCase = str => str.replace(/([A-Z])/g, m => `-${m[0].toLowerCase()}`);\nconst attachProps = (node, newProps, oldProps = {}) => {\n  // some test frameworks don't render DOM elements, so we test here to make sure we are dealing with DOM first\n  if (node instanceof Element) {\n    // add any classes in className to the class list\n    const className = getClassName(node.classList, newProps, oldProps);\n    if (className !== '') {\n      node.className = className;\n    }\n    Object.keys(newProps).forEach(name => {\n      if (name === 'children' || name === 'style' || name === 'ref' || name === 'class' || name === 'className' || name === 'forwardedRef') {\n        return;\n      }\n      if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n        const eventName = name.substring(2);\n        const eventNameLc = eventName[0].toLowerCase() + eventName.substring(1);\n        if (!isCoveredByReact(eventNameLc)) {\n          syncEvent(node, eventNameLc, newProps[name]);\n        }\n      } else {\n        node[name] = newProps[name];\n        const propType = typeof newProps[name];\n        if (propType === 'string') {\n          node.setAttribute(camelToDashCase(name), newProps[name]);\n        }\n      }\n    });\n  }\n};\nconst getClassName = (classList, newProps, oldProps) => {\n  const newClassProp = newProps.className || newProps.class;\n  const oldClassProp = oldProps.className || oldProps.class;\n  // map the classes to Maps for performance\n  const currentClasses = arrayToMap(classList);\n  const incomingPropClasses = arrayToMap(newClassProp ? newClassProp.split(' ') : []);\n  const oldPropClasses = arrayToMap(oldClassProp ? oldClassProp.split(' ') : []);\n  const finalClassNames = [];\n  // loop through each of the current classes on the component\n  // to see if it should be a part of the classNames added\n  currentClasses.forEach(currentClass => {\n    if (incomingPropClasses.has(currentClass)) {\n      // add it as its already included in classnames coming in from newProps\n      finalClassNames.push(currentClass);\n      incomingPropClasses.delete(currentClass);\n    } else if (!oldPropClasses.has(currentClass)) {\n      // add it as it has NOT been removed by user\n      finalClassNames.push(currentClass);\n    }\n  });\n  incomingPropClasses.forEach(s => finalClassNames.push(s));\n  return finalClassNames.join(' ');\n};\n/**\n * Transforms a React event name to a browser event name.\n */\nconst transformReactEventName = eventNameSuffix => {\n  switch (eventNameSuffix) {\n    case 'doubleclick':\n      return 'dblclick';\n  }\n  return eventNameSuffix;\n};\n/**\n * Checks if an event is supported in the current execution environment.\n * @license Modernizr 3.0.0pre (Custom Build) | MIT\n */\nconst isCoveredByReact = eventNameSuffix => {\n  if (typeof document === 'undefined') {\n    return true;\n  } else {\n    const eventName = 'on' + transformReactEventName(eventNameSuffix);\n    let isSupported = (eventName in document);\n    if (!isSupported) {\n      const element = document.createElement('div');\n      element.setAttribute(eventName, 'return;');\n      isSupported = typeof element[eventName] === 'function';\n    }\n    return isSupported;\n  }\n};\nconst syncEvent = (node, eventName, newEventHandler) => {\n  const eventStore = node.__events || (node.__events = {});\n  const oldEventHandler = eventStore[eventName];\n  // Remove old listener so they don't double up.\n  if (oldEventHandler) {\n    node.removeEventListener(eventName, oldEventHandler);\n  }\n  // Bind new listener.\n  node.addEventListener(eventName, eventStore[eventName] = function handler(e) {\n    if (newEventHandler) {\n      newEventHandler.call(this, e);\n    }\n  });\n};\nconst arrayToMap = arr => {\n  const map = new Map();\n  arr.forEach(s => map.set(s, s));\n  return map;\n};\nconst setRef = (ref, value) => {\n  if (typeof ref === 'function') {\n    ref(value);\n  } else if (ref != null) {\n    // Cast as a MutableRef so we can assign current\n    ref.current = value;\n  }\n};\nconst mergeRefs = (...refs) => {\n  return value => {\n    refs.forEach(ref => {\n      setRef(ref, value);\n    });\n  };\n};\nconst createForwardRef$1 = (ReactComponent, displayName) => {\n  const forwardRef = (props, ref) => {\n    return React.createElement(ReactComponent, Object.assign({}, props, {\n      forwardedRef: ref\n    }));\n  };\n  forwardRef.displayName = displayName;\n  return React.forwardRef(forwardRef);\n};\nconst defineCustomElement = (tagName, customElement) => {\n  if (customElement !== undefined && typeof customElements !== 'undefined' && !customElements.get(tagName)) {\n    customElements.define(tagName, customElement);\n  }\n};\nconst createReactComponent = (tagName, ReactComponentContext, manipulatePropsFunction, defineCustomElement) => {\n  if (defineCustomElement !== undefined) {\n    defineCustomElement();\n  }\n  const displayName = dashToPascalCase(tagName);\n  const ReactComponent = class extends React.Component {\n    constructor(props) {\n      super(props);\n      this.setComponentElRef = element => {\n        this.componentEl = element;\n      };\n    }\n    componentDidMount() {\n      this.componentDidUpdate(this.props);\n    }\n    componentDidUpdate(prevProps) {\n      attachProps(this.componentEl, this.props, prevProps);\n    }\n    render() {\n      const _a = this.props,\n        {\n          children,\n          forwardedRef,\n          style,\n          className,\n          ref\n        } = _a,\n        cProps = __rest(_a, [\"children\", \"forwardedRef\", \"style\", \"className\", \"ref\"]);\n      let propsToPass = Object.keys(cProps).reduce((acc, name) => {\n        const value = cProps[name];\n        if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n          const eventName = name.substring(2).toLowerCase();\n          if (typeof document !== 'undefined' && isCoveredByReact(eventName)) {\n            acc[name] = value;\n          }\n        } else {\n          // we should only render strings, booleans, and numbers as attrs in html.\n          // objects, functions, arrays etc get synced via properties on mount.\n          const type = typeof value;\n          if (type === 'string' || type === 'boolean' || type === 'number') {\n            acc[camelToDashCase(name)] = value;\n          }\n        }\n        return acc;\n      }, {});\n      if (manipulatePropsFunction) {\n        propsToPass = manipulatePropsFunction(this.props, propsToPass);\n      }\n      const newProps = Object.assign(Object.assign({}, propsToPass), {\n        ref: mergeRefs(forwardedRef, this.setComponentElRef),\n        style\n      });\n      /**\n       * We use createElement here instead of\n       * React.createElement to work around a\n       * bug in Vite (https://github.com/vitejs/vite/issues/6104).\n       * React.createElement causes all elements to be rendered\n       * as <tagname> instead of the actual Web Component.\n       */\n      return createElement(tagName, newProps, children);\n    }\n    static get displayName() {\n      return displayName;\n    }\n  };\n  // If context was passed to createReactComponent then conditionally add it to the Component Class\n  if (ReactComponentContext) {\n    ReactComponent.contextType = ReactComponentContext;\n  }\n  return createForwardRef$1(ReactComponent, displayName);\n};\n\n/* eslint-disable */\n/* tslint:disable */\n/* auto-generated react proxies */\nconst IonAccordion = /*@__PURE__*/createReactComponent('ion-accordion', undefined, undefined, defineCustomElement$1);\nconst IonAccordionGroup = /*@__PURE__*/createReactComponent('ion-accordion-group', undefined, undefined, defineCustomElement$2);\nconst IonAvatar = /*@__PURE__*/createReactComponent('ion-avatar', undefined, undefined, defineCustomElement$3);\nconst IonBackdrop = /*@__PURE__*/createReactComponent('ion-backdrop', undefined, undefined, defineCustomElement$4);\nconst IonBadge = /*@__PURE__*/createReactComponent('ion-badge', undefined, undefined, defineCustomElement$5);\nconst IonBreadcrumbs = /*@__PURE__*/createReactComponent('ion-breadcrumbs', undefined, undefined, defineCustomElement$6);\nconst IonButtons = /*@__PURE__*/createReactComponent('ion-buttons', undefined, undefined, defineCustomElement$7);\nconst IonCardContent = /*@__PURE__*/createReactComponent('ion-card-content', undefined, undefined, defineCustomElement$8);\nconst IonCardHeader = /*@__PURE__*/createReactComponent('ion-card-header', undefined, undefined, defineCustomElement$9);\nconst IonCardSubtitle = /*@__PURE__*/createReactComponent('ion-card-subtitle', undefined, undefined, defineCustomElement$a);\nconst IonCardTitle = /*@__PURE__*/createReactComponent('ion-card-title', undefined, undefined, defineCustomElement$b);\nconst IonCheckbox = /*@__PURE__*/createReactComponent('ion-checkbox', undefined, undefined, defineCustomElement$c);\nconst IonChip = /*@__PURE__*/createReactComponent('ion-chip', undefined, undefined, defineCustomElement$d);\nconst IonCol = /*@__PURE__*/createReactComponent('ion-col', undefined, undefined, defineCustomElement$e);\nconst IonContent = /*@__PURE__*/createReactComponent('ion-content', undefined, undefined, defineCustomElement$f);\nconst IonDatetime = /*@__PURE__*/createReactComponent('ion-datetime', undefined, undefined, defineCustomElement$g);\nconst IonDatetimeButton = /*@__PURE__*/createReactComponent('ion-datetime-button', undefined, undefined, defineCustomElement$h);\nconst IonFab = /*@__PURE__*/createReactComponent('ion-fab', undefined, undefined, defineCustomElement$i);\nconst IonFabList = /*@__PURE__*/createReactComponent('ion-fab-list', undefined, undefined, defineCustomElement$j);\nconst IonFooter = /*@__PURE__*/createReactComponent('ion-footer', undefined, undefined, defineCustomElement$k);\nconst IonGrid = /*@__PURE__*/createReactComponent('ion-grid', undefined, undefined, defineCustomElement$l);\nconst IonHeader = /*@__PURE__*/createReactComponent('ion-header', undefined, undefined, defineCustomElement$m);\nconst IonImg = /*@__PURE__*/createReactComponent('ion-img', undefined, undefined, defineCustomElement$n);\nconst IonInfiniteScroll = /*@__PURE__*/createReactComponent('ion-infinite-scroll', undefined, undefined, defineCustomElement$o);\nconst IonInfiniteScrollContent = /*@__PURE__*/createReactComponent('ion-infinite-scroll-content', undefined, undefined, defineCustomElement$p);\nconst IonInput = /*@__PURE__*/createReactComponent('ion-input', undefined, undefined, defineCustomElement$q);\nconst IonInputPasswordToggle = /*@__PURE__*/createReactComponent('ion-input-password-toggle', undefined, undefined, defineCustomElement$r);\nconst IonItemDivider = /*@__PURE__*/createReactComponent('ion-item-divider', undefined, undefined, defineCustomElement$s);\nconst IonItemGroup = /*@__PURE__*/createReactComponent('ion-item-group', undefined, undefined, defineCustomElement$t);\nconst IonItemOptions = /*@__PURE__*/createReactComponent('ion-item-options', undefined, undefined, defineCustomElement$u);\nconst IonItemSliding = /*@__PURE__*/createReactComponent('ion-item-sliding', undefined, undefined, defineCustomElement$v);\nconst IonLabel = /*@__PURE__*/createReactComponent('ion-label', undefined, undefined, defineCustomElement$w);\nconst IonList = /*@__PURE__*/createReactComponent('ion-list', undefined, undefined, defineCustomElement$x);\nconst IonListHeader = /*@__PURE__*/createReactComponent('ion-list-header', undefined, undefined, defineCustomElement$y);\nconst IonMenu = /*@__PURE__*/createReactComponent('ion-menu', undefined, undefined, defineCustomElement$z);\nconst IonMenuButton = /*@__PURE__*/createReactComponent('ion-menu-button', undefined, undefined, defineCustomElement$A);\nconst IonMenuToggle = /*@__PURE__*/createReactComponent('ion-menu-toggle', undefined, undefined, defineCustomElement$B);\nconst IonNavLink = /*@__PURE__*/createReactComponent('ion-nav-link', undefined, undefined, defineCustomElement$C);\nconst IonNote = /*@__PURE__*/createReactComponent('ion-note', undefined, undefined, defineCustomElement$D);\nconst IonPicker = /*@__PURE__*/createReactComponent('ion-picker', undefined, undefined, defineCustomElement$E);\nconst IonPickerColumn = /*@__PURE__*/createReactComponent('ion-picker-column', undefined, undefined, defineCustomElement$F);\nconst IonPickerColumnOption = /*@__PURE__*/createReactComponent('ion-picker-column-option', undefined, undefined, defineCustomElement$G);\nconst IonProgressBar = /*@__PURE__*/createReactComponent('ion-progress-bar', undefined, undefined, defineCustomElement$H);\nconst IonRadio = /*@__PURE__*/createReactComponent('ion-radio', undefined, undefined, defineCustomElement$I);\nconst IonRadioGroup = /*@__PURE__*/createReactComponent('ion-radio-group', undefined, undefined, defineCustomElement$J);\nconst IonRange = /*@__PURE__*/createReactComponent('ion-range', undefined, undefined, defineCustomElement$K);\nconst IonRefresher = /*@__PURE__*/createReactComponent('ion-refresher', undefined, undefined, defineCustomElement$L);\nconst IonRefresherContent = /*@__PURE__*/createReactComponent('ion-refresher-content', undefined, undefined, defineCustomElement$M);\nconst IonReorder = /*@__PURE__*/createReactComponent('ion-reorder', undefined, undefined, defineCustomElement$N);\nconst IonReorderGroup = /*@__PURE__*/createReactComponent('ion-reorder-group', undefined, undefined, defineCustomElement$O);\nconst IonRippleEffect = /*@__PURE__*/createReactComponent('ion-ripple-effect', undefined, undefined, defineCustomElement$P);\nconst IonRow = /*@__PURE__*/createReactComponent('ion-row', undefined, undefined, defineCustomElement$Q);\nconst IonSearchbar = /*@__PURE__*/createReactComponent('ion-searchbar', undefined, undefined, defineCustomElement$R);\nconst IonSegment = /*@__PURE__*/createReactComponent('ion-segment', undefined, undefined, defineCustomElement$S);\nconst IonSegmentButton = /*@__PURE__*/createReactComponent('ion-segment-button', undefined, undefined, defineCustomElement$T);\nconst IonSelect = /*@__PURE__*/createReactComponent('ion-select', undefined, undefined, defineCustomElement$U);\nconst IonSelectOption = /*@__PURE__*/createReactComponent('ion-select-option', undefined, undefined, defineCustomElement$V);\nconst IonSkeletonText = /*@__PURE__*/createReactComponent('ion-skeleton-text', undefined, undefined, defineCustomElement$W);\nconst IonSpinner = /*@__PURE__*/createReactComponent('ion-spinner', undefined, undefined, defineCustomElement$X);\nconst IonSplitPane = /*@__PURE__*/createReactComponent('ion-split-pane', undefined, undefined, defineCustomElement$Y);\nconst IonTab = /*@__PURE__*/createReactComponent('ion-tab', undefined, undefined, defineCustomElement$Z);\nconst IonText = /*@__PURE__*/createReactComponent('ion-text', undefined, undefined, defineCustomElement$_);\nconst IonTextarea = /*@__PURE__*/createReactComponent('ion-textarea', undefined, undefined, defineCustomElement$$);\nconst IonThumbnail = /*@__PURE__*/createReactComponent('ion-thumbnail', undefined, undefined, defineCustomElement$10);\nconst IonTitle = /*@__PURE__*/createReactComponent('ion-title', undefined, undefined, defineCustomElement$11);\nconst IonToggle = /*@__PURE__*/createReactComponent('ion-toggle', undefined, undefined, defineCustomElement$12);\nconst IonToolbar = /*@__PURE__*/createReactComponent('ion-toolbar', undefined, undefined, defineCustomElement$13);\nconst createForwardRef = (ReactComponent,\n// TODO(FW-2959): type\ndisplayName) => {\n  const forwardRef = (props, ref) => {\n    return React.createElement(ReactComponent, Object.assign({}, props, {\n      forwardedRef: ref\n    }));\n  };\n  forwardRef.displayName = displayName;\n  return React.forwardRef(forwardRef);\n};\nconst isPlatform = platform => {\n  return isPlatform$1(window, platform);\n};\nconst getPlatforms = () => {\n  return getPlatforms$1(window);\n};\nconst getConfig = () => {\n  if (typeof window !== 'undefined') {\n    const Ionic = window.Ionic;\n    if (Ionic && Ionic.config) {\n      return Ionic.config;\n    }\n  }\n  return null;\n};\nconst createRoutingComponent = (tagName, customElement) => {\n  defineCustomElement(tagName, customElement);\n  const displayName = dashToPascalCase(tagName);\n  const ReactComponent = class extends React.Component {\n    constructor(props) {\n      super(props);\n      this.handleClick = e => {\n        const {\n          routerLink,\n          routerDirection,\n          routerOptions,\n          routerAnimation\n        } = this.props;\n        if (routerLink !== undefined) {\n          e.preventDefault();\n          this.context.navigate(routerLink, routerDirection, undefined, routerAnimation, routerOptions);\n        }\n      };\n      // Create a local ref to to attach props to the wrapped element.\n      this.ref = React.createRef();\n      // React refs must be stable (not created inline).\n      this.stableMergedRefs = mergeRefs(this.ref, this.props.forwardedRef);\n    }\n    componentDidMount() {\n      this.componentDidUpdate(this.props);\n    }\n    componentDidUpdate(prevProps) {\n      const node = this.ref.current;\n      attachProps(node, this.props, prevProps);\n    }\n    render() {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const _a = this.props,\n        {\n          children,\n          forwardedRef,\n          style,\n          className,\n          ref\n        } = _a,\n        cProps = __rest(_a, [\"children\", \"forwardedRef\", \"style\", \"className\", \"ref\"]);\n      const propsToPass = Object.keys(cProps).reduce((acc, name) => {\n        if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n          const eventName = name.substring(2).toLowerCase();\n          if (isCoveredByReact(eventName)) {\n            acc[name] = cProps[name];\n          }\n        } else if (['string', 'boolean', 'number'].includes(typeof cProps[name])) {\n          acc[camelToDashCase(name)] = cProps[name];\n        }\n        return acc;\n      }, {});\n      const newProps = Object.assign(Object.assign({}, propsToPass), {\n        ref: this.stableMergedRefs,\n        style\n      });\n      if (this.props.routerLink && !this.props.href) {\n        newProps.href = this.props.routerLink;\n      }\n      if (newProps.onClick) {\n        const oldClick = newProps.onClick;\n        newProps.onClick = e => {\n          oldClick(e);\n          if (!e.defaultPrevented) {\n            this.handleClick(e);\n          }\n        };\n      } else {\n        newProps.onClick = this.handleClick;\n      }\n      return createElement(tagName, newProps, children);\n    }\n    static get displayName() {\n      return displayName;\n    }\n    static get contextType() {\n      return NavContext;\n    }\n  };\n  return createForwardRef(ReactComponent, displayName);\n};\nconst IonRouterLink = /*@__PURE__*/createRoutingComponent('ion-router-link', IonRouterLink$1);\nconst IonButton = /*@__PURE__*/createRoutingComponent('ion-button', IonButton$1);\nconst IonCard = /*@__PURE__*/createRoutingComponent('ion-card', IonCard$1);\nconst IonFabButton = /*@__PURE__*/createRoutingComponent('ion-fab-button', IonFabButton$1);\nconst IonItem = /*@__PURE__*/createRoutingComponent('ion-item', IonItem$1);\nconst IonItemOption = /*@__PURE__*/createRoutingComponent('ion-item-option', IonItemOption$1);\nconst IonBreadcrumb = /*@__PURE__*/createRoutingComponent('ion-breadcrumb', IonBreadcrumb$1);\n\n/**\n * The @stencil/react-output-target will bind event listeners for any\n * attached props that use the `on` prefix. This function will remove\n * those event listeners when the component is unmounted.\n *\n * This prevents memory leaks and React state updates on unmounted components.\n */\nconst detachProps = (node, props) => {\n  if (node instanceof Element) {\n    Object.keys(props).forEach(name => {\n      if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n        const eventName = name.substring(2);\n        const eventNameLc = eventName[0].toLowerCase() + eventName.substring(1);\n        if (!isCoveredByReact(eventNameLc)) {\n          /**\n           * Detach custom event bindings (not built-in React events)\n           * that were added by the @stencil/react-output-target attachProps function.\n           */\n          detachEvent(node, eventNameLc);\n        }\n      }\n    });\n  }\n};\nconst detachEvent = (node, eventName) => {\n  const eventStore = node.__events || (node.__events = {});\n  /**\n   * If the event listener was added by attachProps, it will\n   * be stored in the __events object.\n   */\n  const eventHandler = eventStore[eventName];\n  if (eventHandler) {\n    node.removeEventListener(eventName, eventHandler);\n    eventStore[eventName] = undefined;\n  }\n};\nconst createInlineOverlayComponent = (tagName, defineCustomElement, hasDelegateHost) => {\n  if (defineCustomElement) {\n    defineCustomElement();\n  }\n  const displayName = dashToPascalCase(tagName);\n  const ReactComponent = class extends React.Component {\n    constructor(props) {\n      super(props);\n      this.handleIonMount = () => {\n        /**\n         * Mount the inner component when the\n         * overlay is about to open.\n         *\n         * For ion-popover, this is when `ionMount` is emitted.\n         * For other overlays, this is when `willPresent` is emitted.\n         */\n        this.setState({\n          isOpen: true\n        });\n      };\n      this.handleWillPresent = evt => {\n        this.setState({\n          isOpen: true\n        });\n        /**\n         * Manually call the onWillPresent\n         * handler if present as setState will\n         * cause the event handlers to be\n         * destroyed and re-created.\n         */\n        this.props.onWillPresent && this.props.onWillPresent(evt);\n      };\n      this.handleDidDismiss = evt => {\n        const wrapper = this.wrapperRef.current;\n        const el = this.ref.current;\n        /**\n         * This component might be unmounted already, if the containing\n         * element was removed while the overlay was still open. (For\n         * example, if an item contains an inline overlay with a button\n         * that removes the item.)\n         */\n        if (wrapper && el) {\n          el.append(wrapper);\n          this.setState({\n            isOpen: false\n          });\n        }\n        this.props.onDidDismiss && this.props.onDidDismiss(evt);\n      };\n      // Create a local ref to to attach props to the wrapped element.\n      this.ref = React.createRef();\n      // React refs must be stable (not created inline).\n      this.stableMergedRefs = mergeRefs(this.ref, this.props.forwardedRef);\n      // Component is hidden by default\n      this.state = {\n        isOpen: false\n      };\n      // Create a local ref to the inner child element.\n      this.wrapperRef = React.createRef();\n    }\n    componentDidMount() {\n      var _a, _b, _c;\n      this.componentDidUpdate(this.props);\n      (_a = this.ref.current) === null || _a === void 0 ? void 0 : _a.addEventListener('ionMount', this.handleIonMount);\n      (_b = this.ref.current) === null || _b === void 0 ? void 0 : _b.addEventListener('willPresent', this.handleWillPresent);\n      (_c = this.ref.current) === null || _c === void 0 ? void 0 : _c.addEventListener('didDismiss', this.handleDidDismiss);\n    }\n    componentDidUpdate(prevProps) {\n      const node = this.ref.current;\n      /**\n       * onDidDismiss and onWillPresent have manual implementations that\n       * will invoke the original handler. We need to filter those out\n       * so they don't get attached twice and called twice.\n       */\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const _a = this.props,\n        cProps = __rest(_a, [\"onDidDismiss\", \"onWillPresent\"]);\n      attachProps(node, cProps, prevProps);\n    }\n    componentWillUnmount() {\n      const node = this.ref.current;\n      /**\n       * If the overlay is being unmounted, but is still\n       * open, this means the unmount was triggered outside\n       * of the overlay being dismissed.\n       *\n       * This can happen with:\n       * - The parent component being unmounted\n       * - The overlay being conditionally rendered\n       * - A route change (push/pop/replace)\n       *\n       * Unmounting the overlay at this stage should skip\n       * the dismiss lifecycle, including skipping the transition.\n       *\n       */\n      if (node && this.state.isOpen) {\n        /**\n         * Detach the local event listener that performs the state updates,\n         * before dismissing the overlay, to prevent the callback handlers\n         * executing after the component has been unmounted. This is to\n         * avoid memory leaks.\n         */\n        node.removeEventListener('didDismiss', this.handleDidDismiss);\n        node.remove();\n        detachProps(node, this.props);\n      }\n    }\n    render() {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const _a = this.props,\n        {\n          children,\n          forwardedRef,\n          style,\n          className,\n          ref\n        } = _a,\n        cProps = __rest(_a, [\"children\", \"forwardedRef\", \"style\", \"className\", \"ref\"]);\n      const propsToPass = Object.keys(cProps).reduce((acc, name) => {\n        if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n          const eventName = name.substring(2).toLowerCase();\n          if (isCoveredByReact(eventName)) {\n            acc[name] = cProps[name];\n          }\n        } else if (['string', 'boolean', 'number'].includes(typeof cProps[name])) {\n          acc[camelToDashCase(name)] = cProps[name];\n        }\n        return acc;\n      }, {});\n      const newProps = Object.assign(Object.assign({}, propsToPass), {\n        ref: this.stableMergedRefs,\n        style\n      });\n      /**\n       * Some overlays need `.ion-page` so content\n       * takes up the full size of the parent overlay.\n       */\n      const getWrapperClasses = () => {\n        if (hasDelegateHost) {\n          return `${DELEGATE_HOST} ion-page`;\n        }\n        return DELEGATE_HOST;\n      };\n      return createElement('template', {}, createElement(tagName, newProps,\n      /**\n       * We only want the inner component\n       * to be mounted if the overlay is open,\n       * so conditionally render the component\n       * based on the isOpen state.\n       */\n      this.state.isOpen || this.props.keepContentsMounted ? createElement('div', {\n        ref: this.wrapperRef,\n        className: getWrapperClasses()\n      }, children) : null));\n    }\n    static get displayName() {\n      return displayName;\n    }\n  };\n  return createForwardRef(ReactComponent, displayName);\n};\nconst DELEGATE_HOST = 'ion-delegate-host';\nconst IonAlert = /*@__PURE__*/createInlineOverlayComponent('ion-alert', defineCustomElement$14);\nconst IonLoading = /*@__PURE__*/createInlineOverlayComponent('ion-loading', defineCustomElement$15);\nconst IonToast = /*@__PURE__*/createInlineOverlayComponent('ion-toast', defineCustomElement$16);\nconst IonPickerLegacy = /*@__PURE__*/createInlineOverlayComponent('ion-picker-legacy', defineCustomElement$17);\nconst IonActionSheet = /*@__PURE__*/createInlineOverlayComponent('ion-action-sheet', defineCustomElement$18);\nconst IonModal = /*@__PURE__*/createInlineOverlayComponent('ion-modal', defineCustomElement$19, true);\nconst IonPopover = /*@__PURE__*/createInlineOverlayComponent('ion-popover', defineCustomElement$1a);\nconst IonContext = React.createContext({\n  addOverlay: () => {\n    return;\n  },\n  removeOverlay: () => {\n    return;\n  }\n});\n\n/**\n * Manages overlays that are added via the useOverlay hook.\n * This is a standalone component so changes to its children don't cause other descendant\n * components to re-render when overlays are added. However, we need to communicate with the IonContext\n * that is set up in <IonApp />, so we register callbacks so when overlays are added to IonContext,\n * they ultimately added here.\n */\nconst IonOverlayManager = ({\n  onAddOverlay,\n  onRemoveOverlay\n}) => {\n  /**\n   * Because of the way we're passing around the addOverlay and removeOverlay\n   * callbacks, by the time they finally get called, they use a stale reference\n   * to the state that only has the initial values. So if two overlays are opened\n   * at the same time, both using useIonModal or similar (such as through nesting),\n   * the second will erase the first from the overlays list. This causes the content\n   * of the first overlay to unmount.\n   *\n   * We wrap the state in useRef to ensure the two callbacks always use the most\n   * up-to-date version.\n   *\n   * Further reading: https://stackoverflow.com/a/56554056\n   */\n  const [overlays, setOverlays] = useState({});\n  const overlaysRef = useRef({});\n  useEffect(() => {\n    /* Setup the callbacks that get called from <IonApp /> */\n    onAddOverlay(addOverlay);\n    onRemoveOverlay(removeOverlay);\n  }, []);\n  const addOverlay = (id, component, containerElement) => {\n    const newOverlays = Object.assign({}, overlaysRef.current);\n    newOverlays[id] = {\n      component,\n      containerElement\n    };\n    /**\n     * In order for this function to use the latest data\n     * we need to update the ref synchronously.\n     * However, updating a ref does not cause a re-render\n     * which is why we still update the state.\n     *\n     * Note that updating the ref in the body\n     * of IonOverlayManager is not sufficient\n     * because that relies on overlaysRef being\n     * updated as part of React's render loop. State updates\n     * are batched, so updating the state twice in quick succession does\n     * not necessarily result in 2 separate render calls.\n     * This means if two modals are added one after the other,\n     * the first modal will not have been added to\n     * overlaysRef since React has not re-rendered yet.\n     * More info: https://react.dev/reference/react/useState#setstate-caveats\n     */\n    overlaysRef.current = newOverlays;\n    setOverlays(newOverlays);\n  };\n  const removeOverlay = id => {\n    const newOverlays = Object.assign({}, overlaysRef.current);\n    delete newOverlays[id];\n    /**\n     * In order for this function to use the latest data\n     * we need to update the ref synchronously.\n     * However, updating a ref does not cause a re-render\n     * which is why we still update the state.\n     *\n     * Note that updating the ref in the body\n     * of IonOverlayManager is not sufficient\n     * because that relies on overlaysRef being\n     * updated as part of React's render loop. State updates\n     * are batched, so updating the state twice in quick succession does\n     * not necessarily result in 2 separate render calls.\n     * This means if two modals are added one after the other,\n     * the first modal will not have been added to\n     * overlaysRef since React has not re-rendered yet.\n     * More info: https://react.dev/reference/react/useState#setstate-caveats\n     */\n    overlaysRef.current = newOverlays;\n    setOverlays(newOverlays);\n  };\n  const overlayKeys = Object.keys(overlays);\n  return React.createElement(React.Fragment, null, overlayKeys.map(key => {\n    const overlay = overlays[key];\n    return ReactDOM.createPortal(overlay.component, overlay.containerElement, `overlay-${key}`);\n  }));\n};\nconst IonTabButtonInner = /*@__PURE__*/createReactComponent('ion-tab-button', undefined, undefined, defineCustomElement$1e);\nconst IonTabBarInner = /*@__PURE__*/createReactComponent('ion-tab-bar', undefined, undefined, defineCustomElement$1b);\nconst IonBackButtonInner = /*@__PURE__*/createReactComponent('ion-back-button', undefined, undefined, defineCustomElement$1f);\nconst IonRouterOutletInner = /*@__PURE__*/createReactComponent('ion-router-outlet', undefined, undefined, defineCustomElement$1c);\nconst IonAppInner = /*@__PURE__*/createReactComponent('ion-app', undefined, undefined, defineCustomElement$1g);\n// ionicons\nconst IonIconInner = /*@__PURE__*/createReactComponent('ion-icon', undefined, undefined, defineCustomElement$1d);\nconst IonApp = /*@__PURE__*/(() => class extends React.Component {\n  constructor(props) {\n    super(props);\n    /*\n      Wire up methods to call into IonOverlayManager\n    */\n    this.ionContext = {\n      addOverlay: (id, overlay, containerElement) => {\n        if (this.addOverlayCallback) {\n          this.addOverlayCallback(id, overlay, containerElement);\n        }\n      },\n      removeOverlay: id => {\n        if (this.removeOverlayCallback) {\n          this.removeOverlayCallback(id);\n        }\n      }\n    };\n  }\n  render() {\n    return React.createElement(IonContext.Provider, {\n      value: this.ionContext\n    }, React.createElement(IonAppInner, Object.assign({}, this.props), this.props.children), React.createElement(IonOverlayManager, {\n      onAddOverlay: callback => {\n        this.addOverlayCallback = callback;\n      },\n      onRemoveOverlay: callback => {\n        this.removeOverlayCallback = callback;\n      }\n    }));\n  }\n  static get displayName() {\n    return 'IonApp';\n  }\n})();\nconst StackContext = React.createContext({\n  registerIonPage: () => undefined,\n  isInOutlet: () => false\n});\nclass PageManager extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.ionPageElementRef = React.createRef();\n    // React refs must be stable (not created inline).\n    this.stableMergedRefs = mergeRefs(this.ionPageElementRef, this.props.forwardedRef);\n    /**\n     * This binds the scope of the following methods to the class scope.\n     * The `.bind` method returns a new function, so we need to assign it\n     * in the constructor rather than when adding or removing the listeners\n     * to avoid creating a new function.\n     */\n    this.ionViewWillEnterHandler = this.ionViewWillEnterHandler.bind(this);\n    this.ionViewDidEnterHandler = this.ionViewDidEnterHandler.bind(this);\n    this.ionViewWillLeaveHandler = this.ionViewWillLeaveHandler.bind(this);\n    this.ionViewDidLeaveHandler = this.ionViewDidLeaveHandler.bind(this);\n  }\n  componentDidMount() {\n    if (this.ionPageElementRef.current) {\n      if (this.context.isInOutlet()) {\n        this.ionPageElementRef.current.classList.add('ion-page-invisible');\n      }\n      this.context.registerIonPage(this.ionPageElementRef.current, this.props.routeInfo);\n      this.ionPageElementRef.current.addEventListener('ionViewWillEnter', this.ionViewWillEnterHandler);\n      this.ionPageElementRef.current.addEventListener('ionViewDidEnter', this.ionViewDidEnterHandler);\n      this.ionPageElementRef.current.addEventListener('ionViewWillLeave', this.ionViewWillLeaveHandler);\n      this.ionPageElementRef.current.addEventListener('ionViewDidLeave', this.ionViewDidLeaveHandler);\n    }\n  }\n  componentWillUnmount() {\n    if (this.ionPageElementRef.current) {\n      this.ionPageElementRef.current.removeEventListener('ionViewWillEnter', this.ionViewWillEnterHandler);\n      this.ionPageElementRef.current.removeEventListener('ionViewDidEnter', this.ionViewDidEnterHandler);\n      this.ionPageElementRef.current.removeEventListener('ionViewWillLeave', this.ionViewWillLeaveHandler);\n      /**\n       * We deliberately do not remove the `ionViewDidLeave` listener.\n       * The registered callback is used to unmount and remove the page.\n       * Removing the event listener prevents the callback from being called.\n       * The browser will automatically remove the event listener when the\n       * page element is removed from the DOM and garbage collected.\n       */\n    }\n  }\n  ionViewWillEnterHandler() {\n    this.ionLifeCycleContext.ionViewWillEnter();\n  }\n  ionViewDidEnterHandler() {\n    this.ionLifeCycleContext.ionViewDidEnter();\n  }\n  ionViewWillLeaveHandler() {\n    this.ionLifeCycleContext.ionViewWillLeave();\n  }\n  ionViewDidLeaveHandler() {\n    this.ionLifeCycleContext.ionViewDidLeave();\n  }\n  render() {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const _a = this.props,\n      {\n        className,\n        children,\n        routeInfo,\n        forwardedRef\n      } = _a,\n      props = __rest(_a, [\"className\", \"children\", \"routeInfo\", \"forwardedRef\"]);\n    return React.createElement(IonLifeCycleContext.Consumer, null, context => {\n      this.ionLifeCycleContext = context;\n      return React.createElement(\"div\", Object.assign({\n        className: className ? `${className} ion-page` : `ion-page`,\n        ref: this.stableMergedRefs\n      }, props), children);\n    });\n  }\n  static get contextType() {\n    return StackContext;\n  }\n}\nclass IonPageInternal extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    const _a = this.props,\n      {\n        className,\n        children,\n        forwardedRef\n      } = _a,\n      props = __rest(_a, [\"className\", \"children\", \"forwardedRef\"]);\n    return this.context.hasIonicRouter() ? React.createElement(PageManager, Object.assign({\n      className: className ? `${className}` : '',\n      routeInfo: this.context.routeInfo,\n      forwardedRef: forwardedRef\n    }, props), children) : React.createElement(\"div\", Object.assign({\n      className: className ? `ion-page ${className}` : 'ion-page',\n      ref: forwardedRef\n    }, props), children);\n  }\n  static get displayName() {\n    return 'IonPage';\n  }\n  static get contextType() {\n    return NavContext;\n  }\n}\nconst IonPage = createForwardRef(IonPageInternal, 'IonPage');\nconst ids = {\n  main: 0\n};\nconst generateId = (type = 'main') => {\n  var _a;\n  const id = ((_a = ids[type]) !== null && _a !== void 0 ? _a : 0) + 1;\n  ids[type] = id;\n  return id.toString();\n};\nconst ReactDelegate = (addView, removeView) => {\n  const refMap = new WeakMap();\n  const reactDelegateId = `react-delegate-${generateId()}`;\n  // Incrementing counter to generate unique keys for each view\n  let id = 0;\n  const attachViewToDom = async (parentElement, component, propsOrDataObj, cssClasses) => {\n    const div = document.createElement('div');\n    cssClasses && div.classList.add(...cssClasses);\n    parentElement.appendChild(div);\n    const componentWithProps = component(propsOrDataObj);\n    const key = `${reactDelegateId}-${id++}`;\n    const hostComponent = createPortal(componentWithProps, div, key);\n    refMap.set(div, hostComponent);\n    addView(hostComponent);\n    return Promise.resolve(div);\n  };\n  const removeViewFromDom = (_container, component) => {\n    const hostComponent = refMap.get(component);\n    hostComponent && removeView(hostComponent);\n    component.remove();\n    return Promise.resolve();\n  };\n  return {\n    attachViewToDom,\n    removeViewFromDom\n  };\n};\nconst IonNavInner = createReactComponent('ion-nav', undefined, undefined, defineCustomElement$1h);\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst IonNavInternal = _a => {\n  var {\n      children,\n      forwardedRef\n    } = _a,\n    restOfProps = __rest(_a, [\"children\", \"forwardedRef\"]);\n  const [views, setViews] = useState([]);\n  /**\n   * Allows us to create React components that are rendered within\n   * the context of the IonNav component.\n   */\n  const addView = view => setViews(existingViews => [...existingViews, view]);\n  const removeView = view => setViews(existingViews => existingViews.filter(v => v !== view));\n  const delegate = useMemo(() => ReactDelegate(addView, removeView), []);\n  return React.createElement(IonNavInner, Object.assign({\n    delegate: delegate,\n    ref: forwardedRef\n  }, restOfProps), views);\n};\nconst IonNav = createForwardRef(IonNavInternal, 'IonNav');\nconst IonTabsContext = React.createContext({\n  activeTab: undefined,\n  selectTab: () => false\n});\nconst HTMLElementSSR = typeof HTMLElement !== 'undefined' ? HTMLElement : class {};\nclass OutletPageManager extends React.Component {\n  constructor(props) {\n    super(props);\n    this.outletIsReady = false;\n    /**\n     * This binds the scope of the following methods to the class scope.\n     * The `.bind` method returns a new function, so we need to assign it\n     * in the constructor rather than when adding or removing the listeners\n     * to avoid creating a new function.\n     */\n    this.ionViewWillEnterHandler = this.ionViewWillEnterHandler.bind(this);\n    this.ionViewDidEnterHandler = this.ionViewDidEnterHandler.bind(this);\n    this.ionViewWillLeaveHandler = this.ionViewWillLeaveHandler.bind(this);\n    this.ionViewDidLeaveHandler = this.ionViewDidLeaveHandler.bind(this);\n  }\n  componentDidMount() {\n    if (this.ionRouterOutlet) {\n      /**\n       * This avoids multiple raf calls\n       * when React unmounts + remounts components.\n       */\n      if (!this.outletIsReady) {\n        componentOnReady(this.ionRouterOutlet, () => {\n          this.outletIsReady = true;\n          this.context.registerIonPage(this.ionRouterOutlet, this.props.routeInfo);\n        });\n      }\n      this.ionRouterOutlet.addEventListener('ionViewWillEnter', this.ionViewWillEnterHandler);\n      this.ionRouterOutlet.addEventListener('ionViewDidEnter', this.ionViewDidEnterHandler);\n      this.ionRouterOutlet.addEventListener('ionViewWillLeave', this.ionViewWillLeaveHandler);\n      this.ionRouterOutlet.addEventListener('ionViewDidLeave', this.ionViewDidLeaveHandler);\n    }\n  }\n  componentWillUnmount() {\n    if (this.ionRouterOutlet) {\n      this.ionRouterOutlet.removeEventListener('ionViewWillEnter', this.ionViewWillEnterHandler);\n      this.ionRouterOutlet.removeEventListener('ionViewDidEnter', this.ionViewDidEnterHandler);\n      this.ionRouterOutlet.removeEventListener('ionViewWillLeave', this.ionViewWillLeaveHandler);\n      this.ionRouterOutlet.removeEventListener('ionViewDidLeave', this.ionViewDidLeaveHandler);\n    }\n  }\n  ionViewWillEnterHandler() {\n    this.ionLifeCycleContext.ionViewWillEnter();\n  }\n  ionViewDidEnterHandler() {\n    this.ionLifeCycleContext.ionViewDidEnter();\n  }\n  ionViewWillLeaveHandler() {\n    this.ionLifeCycleContext.ionViewWillLeave();\n  }\n  ionViewDidLeaveHandler() {\n    this.ionLifeCycleContext.ionViewDidLeave();\n  }\n  render() {\n    const _a = this.props,\n      {\n        StackManager,\n        children,\n        routeInfo\n      } = _a,\n      props = __rest(_a, [\"StackManager\", \"children\", \"routeInfo\"]);\n    return React.createElement(IonLifeCycleContext.Consumer, null, context => {\n      this.ionLifeCycleContext = context;\n      return React.createElement(StackManager, {\n        routeInfo: routeInfo\n      }, React.createElement(IonRouterOutletInner, Object.assign({\n        setRef: val => this.ionRouterOutlet = val\n      }, props), children));\n    });\n  }\n  static get contextType() {\n    return StackContext;\n  }\n}\nclass IonRouterOutletContainer extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    const StackManager = this.context.getStackManager();\n    const _a = this.props,\n      {\n        children,\n        forwardedRef\n      } = _a,\n      props = __rest(_a, [\"children\", \"forwardedRef\"]);\n    return this.context.hasIonicRouter() ? props.ionPage ? React.createElement(OutletPageManager, Object.assign({\n      StackManager: StackManager,\n      routeInfo: this.context.routeInfo\n    }, props), children) : React.createElement(StackManager, {\n      routeInfo: this.context.routeInfo\n    }, React.createElement(IonRouterOutletInner, Object.assign({}, props, {\n      forwardedRef: forwardedRef\n    }), children)) : React.createElement(IonRouterOutletInner, Object.assign({\n      ref: forwardedRef\n    }, this.props), this.props.children);\n  }\n  static get contextType() {\n    return NavContext;\n  }\n}\nconst IonRouterOutlet = createForwardRef(IonRouterOutletContainer, 'IonRouterOutlet');\nconst IonTabButton = /*@__PURE__*/(() => class extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleIonTabButtonClick = this.handleIonTabButtonClick.bind(this);\n  }\n  handleIonTabButtonClick() {\n    if (this.props.onClick) {\n      this.props.onClick(new CustomEvent('ionTabButtonClick', {\n        detail: {\n          tab: this.props.tab,\n          href: this.props.href,\n          routeOptions: this.props.routerOptions\n        }\n      }));\n    }\n  }\n  render() {\n    /**\n     * onClick is excluded from the props, since it has a custom\n     * implementation within IonTabBar.tsx. Calling onClick within this\n     * component would result in duplicate handler calls.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const _a = this.props,\n      rest = __rest(_a, [\"onClick\"]);\n    return React.createElement(IonTabButtonInner, Object.assign({\n      onIonTabButtonClick: this.handleIonTabButtonClick\n    }, rest));\n  }\n  static get displayName() {\n    return 'IonTabButton';\n  }\n})();\n\n// TODO(FW-2959): types\nclass IonTabBarUnwrapped extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    // eslint-disable-next-line\n    this.setActiveTabOnContext = _tab => {};\n    const tabs = {};\n    React.Children.forEach(props.children, child => {\n      var _a, _b, _c, _d;\n      if (child != null && typeof child === 'object' && child.props && (child.type === IonTabButton || child.type.isTabButton)) {\n        tabs[child.props.tab] = {\n          originalHref: child.props.href,\n          currentHref: child.props.href,\n          originalRouteOptions: child.props.href === ((_a = props.routeInfo) === null || _a === void 0 ? void 0 : _a.pathname) ? (_b = props.routeInfo) === null || _b === void 0 ? void 0 : _b.routeOptions : undefined,\n          currentRouteOptions: child.props.href === ((_c = props.routeInfo) === null || _c === void 0 ? void 0 : _c.pathname) ? (_d = props.routeInfo) === null || _d === void 0 ? void 0 : _d.routeOptions : undefined\n        };\n      }\n    });\n    this.state = {\n      tabs\n    };\n    this.onTabButtonClick = this.onTabButtonClick.bind(this);\n    this.renderTabButton = this.renderTabButton.bind(this);\n    this.setActiveTabOnContext = this.setActiveTabOnContext.bind(this);\n    this.selectTab = this.selectTab.bind(this);\n  }\n  componentDidMount() {\n    const tabs = this.state.tabs;\n    const tabKeys = Object.keys(tabs);\n    const activeTab = tabKeys.find(key => {\n      const href = tabs[key].originalHref;\n      return this.props.routeInfo.pathname.startsWith(href);\n    });\n    if (activeTab) {\n      this.setState({\n        activeTab\n      });\n    }\n  }\n  componentDidUpdate() {\n    if (this.state.activeTab) {\n      this.setActiveTabOnContext(this.state.activeTab);\n    }\n  }\n  selectTab(tab) {\n    const tabUrl = this.state.tabs[tab];\n    if (tabUrl) {\n      this.onTabButtonClick(new CustomEvent('ionTabButtonClick', {\n        detail: {\n          href: tabUrl.currentHref,\n          tab,\n          selected: tab === this.state.activeTab,\n          routeOptions: undefined\n        }\n      }));\n      return true;\n    }\n    return false;\n  }\n  static getDerivedStateFromProps(props, state) {\n    var _a, _b, _c;\n    const tabs = Object.assign({}, state.tabs);\n    const tabKeys = Object.keys(state.tabs);\n    const activeTab = tabKeys.find(key => {\n      const href = state.tabs[key].originalHref;\n      return props.routeInfo.pathname.startsWith(href);\n    });\n    // Check to see if the tab button href has changed, and if so, update it in the tabs state\n    React.Children.forEach(props.children, child => {\n      if (child != null && typeof child === 'object' && child.props && (child.type === IonTabButton || child.type.isTabButton)) {\n        const tab = tabs[child.props.tab];\n        if (!tab || tab.originalHref !== child.props.href) {\n          tabs[child.props.tab] = {\n            originalHref: child.props.href,\n            currentHref: child.props.href,\n            originalRouteOptions: child.props.routeOptions,\n            currentRouteOptions: child.props.routeOptions\n          };\n        }\n      }\n    });\n    const {\n      activeTab: prevActiveTab\n    } = state;\n    if (activeTab && prevActiveTab) {\n      const prevHref = state.tabs[prevActiveTab].currentHref;\n      const prevRouteOptions = state.tabs[prevActiveTab].currentRouteOptions;\n      if (activeTab !== prevActiveTab || prevHref !== ((_a = props.routeInfo) === null || _a === void 0 ? void 0 : _a.pathname) || prevRouteOptions !== ((_b = props.routeInfo) === null || _b === void 0 ? void 0 : _b.routeOptions)) {\n        tabs[activeTab] = {\n          originalHref: tabs[activeTab].originalHref,\n          currentHref: props.routeInfo.pathname + (props.routeInfo.search || ''),\n          originalRouteOptions: tabs[activeTab].originalRouteOptions,\n          currentRouteOptions: (_c = props.routeInfo) === null || _c === void 0 ? void 0 : _c.routeOptions\n        };\n        if (props.routeInfo.routeAction === 'pop' && activeTab !== prevActiveTab) {\n          // If navigating back and the tabs change, set the prev tab back to its original href\n          tabs[prevActiveTab] = {\n            originalHref: tabs[prevActiveTab].originalHref,\n            currentHref: tabs[prevActiveTab].originalHref,\n            originalRouteOptions: tabs[prevActiveTab].originalRouteOptions,\n            currentRouteOptions: tabs[prevActiveTab].currentRouteOptions\n          };\n        }\n      }\n    }\n    activeTab && props.onSetCurrentTab(activeTab, props.routeInfo);\n    return {\n      activeTab,\n      tabs\n    };\n  }\n  onTabButtonClick(e, onClickFn) {\n    const tappedTab = this.state.tabs[e.detail.tab];\n    const originalHref = tappedTab.originalHref;\n    const currentHref = e.detail.href;\n    const {\n      activeTab: prevActiveTab\n    } = this.state;\n    if (onClickFn) {\n      /**\n       * If the user provides an onClick function, we call it\n       * with the original event.\n       */\n      onClickFn(e);\n    }\n    // this.props.onSetCurrentTab(e.detail.tab, this.props.routeInfo);\n    // Clicking the current tab will bring you back to the original href\n    if (prevActiveTab === e.detail.tab) {\n      if (originalHref !== currentHref) {\n        this.context.resetTab(e.detail.tab, originalHref, tappedTab.originalRouteOptions);\n      }\n    } else {\n      if (this.props.onIonTabsWillChange) {\n        this.props.onIonTabsWillChange(new CustomEvent('ionTabWillChange', {\n          detail: {\n            tab: e.detail.tab\n          }\n        }));\n      }\n      if (this.props.onIonTabsDidChange) {\n        this.props.onIonTabsDidChange(new CustomEvent('ionTabDidChange', {\n          detail: {\n            tab: e.detail.tab\n          }\n        }));\n      }\n      this.setActiveTabOnContext(e.detail.tab);\n      this.context.changeTab(e.detail.tab, currentHref, e.detail.routeOptions);\n    }\n  }\n  renderTabButton(activeTab) {\n    return child => {\n      var _a, _b;\n      if (child != null && child.props && (child.type === IonTabButton || child.type.isTabButton)) {\n        const href = child.props.tab === activeTab ? (_a = this.props.routeInfo) === null || _a === void 0 ? void 0 : _a.pathname : this.state.tabs[child.props.tab].currentHref;\n        const routeOptions = child.props.tab === activeTab ? (_b = this.props.routeInfo) === null || _b === void 0 ? void 0 : _b.routeOptions : this.state.tabs[child.props.tab].currentRouteOptions;\n        return React.cloneElement(child, {\n          href,\n          routeOptions,\n          onClick: ev => this.onTabButtonClick(ev, child.props.onClick)\n        });\n      }\n      return null;\n    };\n  }\n  render() {\n    const {\n      activeTab\n    } = this.state;\n    return React.createElement(IonTabBarInner, Object.assign({}, this.props, {\n      selectedTab: activeTab\n    }), React.Children.map(this.props.children, this.renderTabButton(activeTab)));\n  }\n  static get contextType() {\n    return NavContext;\n  }\n}\nconst IonTabBarContainer = React.memo(_a => {\n  var {\n      forwardedRef\n    } = _a,\n    props = __rest(_a, [\"forwardedRef\"]);\n  const context = useContext(NavContext);\n  return React.createElement(IonTabBarUnwrapped, Object.assign({\n    ref: forwardedRef\n  }, props, {\n    routeInfo: props.routeInfo || context.routeInfo || {\n      pathname: window.location.pathname\n    },\n    onSetCurrentTab: context.setCurrentTab\n  }), props.children);\n});\nconst IonTabBar = createForwardRef(IonTabBarContainer, 'IonTabBar');\nclass IonTabsElement extends HTMLElementSSR {\n  constructor() {\n    super();\n  }\n}\n// TODO(FW-2959): types\nif (typeof window !== 'undefined' && window.customElements) {\n  const element = window.customElements.get('ion-tabs');\n  if (!element) {\n    window.customElements.define('ion-tabs', IonTabsElement);\n  }\n}\nconst hostStyles = {\n  display: 'flex',\n  position: 'absolute',\n  top: '0',\n  left: '0',\n  right: '0',\n  bottom: '0',\n  flexDirection: 'column',\n  width: '100%',\n  height: '100%',\n  contain: 'layout size style'\n};\nconst tabsInner = {\n  position: 'relative',\n  flex: 1,\n  contain: 'layout size style'\n};\nconst IonTabs = /*@__PURE__*/(() => class extends React.Component {\n  constructor(props) {\n    super(props);\n    this.routerOutletRef = React.createRef();\n    this.tabBarRef = React.createRef();\n    this.ionTabContextState = {\n      activeTab: undefined,\n      selectTab: () => false\n    };\n  }\n  componentDidMount() {\n    if (this.tabBarRef.current) {\n      // Grab initial value\n      this.ionTabContextState.activeTab = this.tabBarRef.current.state.activeTab;\n      // Override method\n      this.tabBarRef.current.setActiveTabOnContext = tab => {\n        this.ionTabContextState.activeTab = tab;\n      };\n      this.ionTabContextState.selectTab = this.tabBarRef.current.selectTab;\n    }\n  }\n  render() {\n    let outlet;\n    let tabBar;\n    const _a = this.props,\n      {\n        className,\n        onIonTabsDidChange,\n        onIonTabsWillChange\n      } = _a,\n      props = __rest(_a, [\"className\", \"onIonTabsDidChange\", \"onIonTabsWillChange\"]);\n    const children = typeof this.props.children === 'function' ? this.props.children(this.ionTabContextState) : this.props.children;\n    React.Children.forEach(children, child => {\n      // eslint-disable-next-line no-prototype-builtins\n      if (child == null || typeof child !== 'object' || !child.hasOwnProperty('type')) {\n        return;\n      }\n      if (child.type === IonRouterOutlet || child.type.isRouterOutlet) {\n        outlet = React.cloneElement(child);\n      } else if (child.type === Fragment && child.props.children[0].type === IonRouterOutlet) {\n        outlet = child.props.children[0];\n      }\n      let childProps = {\n        ref: this.tabBarRef\n      };\n      /**\n       * Only pass these props\n       * down from IonTabs to IonTabBar\n       * if they are defined, otherwise\n       * if you have a handler set on\n       * IonTabBar it will be overridden.\n       */\n      if (onIonTabsDidChange !== undefined) {\n        childProps = Object.assign(Object.assign({}, childProps), {\n          onIonTabsDidChange\n        });\n      }\n      if (onIonTabsWillChange !== undefined) {\n        childProps = Object.assign(Object.assign({}, childProps), {\n          onIonTabsWillChange\n        });\n      }\n      if (child.type === IonTabBar || child.type.isTabBar) {\n        tabBar = React.cloneElement(child, childProps);\n      } else if (child.type === Fragment && (child.props.children[1].type === IonTabBar || child.props.children[1].type.isTabBar)) {\n        tabBar = React.cloneElement(child.props.children[1], childProps);\n      }\n    });\n    if (!outlet) {\n      throw new Error('IonTabs must contain an IonRouterOutlet');\n    }\n    if (!tabBar) {\n      throw new Error('IonTabs needs a IonTabBar');\n    }\n    return React.createElement(IonTabsContext.Provider, {\n      value: this.ionTabContextState\n    }, this.context.hasIonicRouter() ? React.createElement(PageManager, Object.assign({\n      className: className ? `${className}` : '',\n      routeInfo: this.context.routeInfo\n    }, props), React.createElement(\"ion-tabs\", {\n      className: \"ion-tabs\",\n      style: hostStyles\n    }, tabBar.props.slot === 'top' ? tabBar : null, React.createElement(\"div\", {\n      style: tabsInner,\n      className: \"tabs-inner\"\n    }, outlet), tabBar.props.slot === 'bottom' ? tabBar : null)) : React.createElement(\"div\", Object.assign({\n      className: className ? `${className}` : 'ion-tabs'\n    }, props, {\n      style: hostStyles\n    }), tabBar.props.slot === 'top' ? tabBar : null, React.createElement(\"div\", {\n      style: tabsInner,\n      className: \"tabs-inner\"\n    }, outlet), tabBar.props.slot === 'bottom' ? tabBar : null));\n  }\n  static get contextType() {\n    return NavContext;\n  }\n})();\nconst IonBackButton = /*@__PURE__*/(() => class extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.clickButton = e => {\n      /**\n       * If ion-back-button is being used inside\n       * of ion-nav then we should not interact with\n       * the router.\n       */\n      if (e.target && e.target.closest('ion-nav') !== null) {\n        return;\n      }\n      const {\n        defaultHref,\n        routerAnimation\n      } = this.props;\n      if (this.context.hasIonicRouter()) {\n        e.stopPropagation();\n        this.context.goBack(defaultHref, routerAnimation);\n      } else if (defaultHref !== undefined) {\n        window.location.href = defaultHref;\n      }\n    };\n  }\n  render() {\n    return React.createElement(IonBackButtonInner, Object.assign({\n      onClick: this.clickButton\n    }, this.props));\n  }\n  static get displayName() {\n    return 'IonBackButton';\n  }\n  static get contextType() {\n    return NavContext;\n  }\n})();\nclass IonIconContainer extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    if (this.props.name) {\n      console.warn('In Ionic React, you import icons from \"ionicons/icons\" and set the icon you imported to the \"icon\" property. Setting the \"name\" property has no effect.');\n    }\n  }\n  render() {\n    var _a, _b;\n    const _c = this.props,\n      {\n        icon,\n        ios,\n        md,\n        mode\n      } = _c,\n      rest = __rest(_c, [\"icon\", \"ios\", \"md\", \"mode\"]);\n    let iconToUse;\n    const config = getConfig();\n    const iconMode = mode || (config === null || config === void 0 ? void 0 : config.get('mode'));\n    if (ios || md) {\n      if (iconMode === 'ios') {\n        iconToUse = (_a = ios !== null && ios !== void 0 ? ios : md) !== null && _a !== void 0 ? _a : icon;\n      } else {\n        iconToUse = (_b = md !== null && md !== void 0 ? md : ios) !== null && _b !== void 0 ? _b : icon;\n      }\n    } else {\n      iconToUse = icon;\n    }\n    return React.createElement(IonIconInner, Object.assign({\n      ref: this.props.forwardedRef,\n      icon: iconToUse\n    }, rest), this.props.children);\n  }\n  static get contextType() {\n    return NavContext;\n  }\n}\nconst IonIcon = createForwardRef(IonIconContainer, 'IonIcon');\nclass IonRoute extends React.PureComponent {\n  render() {\n    const IonRouteInner = this.context.getIonRoute();\n    if (!this.context.hasIonicRouter() || !IonRoute) {\n      console.error('You either do not have an Ionic Router package, or your router does not support using <IonRoute>');\n      return null;\n    }\n    return React.createElement(IonRouteInner, Object.assign({}, this.props));\n  }\n  static get contextType() {\n    return NavContext;\n  }\n}\nclass IonRedirect extends React.PureComponent {\n  render() {\n    const IonRedirectInner = this.context.getIonRedirect();\n    if (!this.context.hasIonicRouter() || !IonRedirect) {\n      console.error('You either do not have an Ionic Router package, or your router does not support using <IonRedirect>');\n      return null;\n    }\n    return React.createElement(IonRedirectInner, Object.assign({}, this.props));\n  }\n  static get contextType() {\n    return NavContext;\n  }\n}\nconst IonRouterContext = React.createContext({\n  routeInfo: undefined,\n  push: () => {\n    throw new Error('An Ionic Router is required for IonRouterContext');\n  },\n  back: () => {\n    throw new Error('An Ionic Router is required for IonRouterContext');\n  },\n  canGoBack: () => {\n    throw new Error('An Ionic Router is required for IonRouterContext');\n  },\n  nativeBack: () => {\n    throw new Error('An Ionic Router is required for IonRouterContext');\n  }\n});\n/**\n * A hook for more direct control over routing in an Ionic React application. Allows you to pass additional meta-data to the router before the call to the native router.\n */\nfunction useIonRouter() {\n  const context = useContext(IonRouterContext);\n  return useMemo(() => ({\n    back: context.back,\n    push: context.push,\n    goBack: context.back,\n    canGoBack: context.canGoBack,\n    routeInfo: context.routeInfo\n  }), [context.back, context.push, context.canGoBack, context.routeInfo]);\n}\nclass CreateAnimation extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.nodes = new Map();\n    this.animation = createAnimation(props.id);\n  }\n  setupAnimation(props) {\n    const animation = this.animation;\n    if (this.nodes.size > 0) {\n      animation.addElement(Array.from(this.nodes.values()));\n    }\n    checkConfig(animation, props);\n    checkPlayback(animation, props);\n  }\n  componentDidMount() {\n    const props = this.props;\n    this.setupAnimation(props);\n  }\n  componentDidUpdate(prevProps) {\n    const animation = this.animation;\n    const props = this.props;\n    checkConfig(animation, props, prevProps);\n    checkProgress(animation, props, prevProps);\n    checkPlayback(animation, props, prevProps);\n  }\n  render() {\n    const {\n      children\n    } = this.props;\n    return React.createElement(React.Fragment, null, React.Children.map(children, (child, id) => React.cloneElement(child, {\n      ref: el => this.nodes.set(id, el)\n    })));\n  }\n}\nconst checkConfig = (animation, currentProps = {}, prevProps = {}) => {\n  const reservedProps = ['children', 'progressStart', 'progressStep', 'progressEnd', 'pause', 'stop', 'destroy', 'play', 'from', 'to', 'fromTo', 'onFinish'];\n  for (const key in currentProps) {\n    if (\n    // eslint-disable-next-line no-prototype-builtins\n    currentProps.hasOwnProperty(key) && !reservedProps.includes(key) && currentProps[key] !== prevProps[key]) {\n      animation[key](currentProps[key]);\n    }\n  }\n  const fromValues = currentProps.from;\n  if (fromValues && fromValues !== prevProps.from) {\n    const values = Array.isArray(fromValues) ? fromValues : [fromValues];\n    values.forEach(val => animation.from(val.property, val.value));\n  }\n  const toValues = currentProps.to;\n  if (toValues && toValues !== prevProps.to) {\n    const values = Array.isArray(toValues) ? toValues : [toValues];\n    values.forEach(val => animation.to(val.property, val.value));\n  }\n  const fromToValues = currentProps.fromTo;\n  if (fromToValues && fromToValues !== prevProps.fromTo) {\n    const values = Array.isArray(fromToValues) ? fromToValues : [fromToValues];\n    values.forEach(val => animation.fromTo(val.property, val.fromValue, val.toValue));\n  }\n  const onFinishValues = currentProps.onFinish;\n  if (onFinishValues && onFinishValues !== prevProps.onFinish) {\n    const values = Array.isArray(onFinishValues) ? onFinishValues : [onFinishValues];\n    values.forEach(val => animation.onFinish(val.callback, val.opts));\n  }\n};\nconst checkProgress = (animation, currentProps = {}, prevProps = {}) => {\n  var _a, _b, _c, _d, _e;\n  const {\n    progressStart,\n    progressStep,\n    progressEnd\n  } = currentProps;\n  if (progressStart && (((_a = prevProps.progressStart) === null || _a === void 0 ? void 0 : _a.forceLinearEasing) !== (progressStart === null || progressStart === void 0 ? void 0 : progressStart.forceLinearEasing) || ((_b = prevProps.progressStart) === null || _b === void 0 ? void 0 : _b.step) !== (progressStart === null || progressStart === void 0 ? void 0 : progressStart.step))) {\n    animation.progressStart(progressStart.forceLinearEasing, progressStart.step);\n  }\n  if (progressStep && ((_c = prevProps.progressStep) === null || _c === void 0 ? void 0 : _c.step) !== (progressStep === null || progressStep === void 0 ? void 0 : progressStep.step)) {\n    animation.progressStep(progressStep.step);\n  }\n  if (progressEnd && (((_d = prevProps.progressEnd) === null || _d === void 0 ? void 0 : _d.playTo) !== (progressEnd === null || progressEnd === void 0 ? void 0 : progressEnd.playTo) || ((_e = prevProps.progressEnd) === null || _e === void 0 ? void 0 : _e.step) !== (progressEnd === null || progressEnd === void 0 ? void 0 : progressEnd.step) || (prevProps === null || prevProps === void 0 ? void 0 : prevProps.dur) !== (progressEnd === null || progressEnd === void 0 ? void 0 : progressEnd.dur))) {\n    animation.progressEnd(progressEnd.playTo, progressEnd.step, progressEnd.dur);\n  }\n};\nconst checkPlayback = (animation, currentProps = {}, prevProps = {}) => {\n  if (!prevProps.play && currentProps.play) {\n    animation.play();\n  }\n  if (!prevProps.pause && currentProps.pause) {\n    animation.pause();\n  }\n  if (!prevProps.stop && currentProps.stop) {\n    animation.stop();\n  }\n  if (!prevProps.destroy && currentProps.destroy) {\n    animation.destroy();\n  }\n};\nfunction useController(displayName, controller, defineCustomElement) {\n  const overlayRef = useRef();\n  const didDismissEventName = useMemo(() => `on${displayName}DidDismiss`, [displayName]);\n  const didPresentEventName = useMemo(() => `on${displayName}DidPresent`, [displayName]);\n  const willDismissEventName = useMemo(() => `on${displayName}WillDismiss`, [displayName]);\n  const willPresentEventName = useMemo(() => `on${displayName}WillPresent`, [displayName]);\n  defineCustomElement();\n  const present = useCallback(async options => {\n    if (overlayRef.current) {\n      return;\n    }\n    const {\n        onDidDismiss,\n        onWillDismiss,\n        onDidPresent,\n        onWillPresent\n      } = options,\n      rest = __rest(options, [\"onDidDismiss\", \"onWillDismiss\", \"onDidPresent\", \"onWillPresent\"]);\n    const handleDismiss = event => {\n      if (onDidDismiss) {\n        onDidDismiss(event);\n      }\n      overlayRef.current = undefined;\n    };\n    overlayRef.current = await controller.create(Object.assign({}, rest));\n    attachProps(overlayRef.current, {\n      [didDismissEventName]: handleDismiss,\n      [didPresentEventName]: e => onDidPresent && onDidPresent(e),\n      [willDismissEventName]: e => onWillDismiss && onWillDismiss(e),\n      [willPresentEventName]: e => onWillPresent && onWillPresent(e)\n    });\n    overlayRef.current.present();\n  }, [controller]);\n  const dismiss = useCallback(async () => {\n    overlayRef.current && (await overlayRef.current.dismiss());\n    overlayRef.current = undefined;\n  }, []);\n  return {\n    present,\n    dismiss\n  };\n}\n\n/**\n * A hook for presenting/dismissing an IonActionSheet component\n * @returns Returns the present and dismiss methods in an array\n */\nfunction useIonActionSheet() {\n  const controller = useController('IonActionSheet', actionSheetController, defineCustomElement$18);\n  const present = useCallback((buttonsOrOptions, header) => {\n    if (Array.isArray(buttonsOrOptions)) {\n      return controller.present({\n        buttons: buttonsOrOptions,\n        header\n      });\n    } else {\n      return controller.present(buttonsOrOptions);\n    }\n  }, [controller.present]);\n  return [present, controller.dismiss];\n}\n\n/**\n * A hook for presenting/dismissing an IonAlert component\n * @returns Returns the present and dismiss methods in an array\n */\nfunction useIonAlert() {\n  const controller = useController('IonAlert', alertController, defineCustomElement$14);\n  const present = useCallback((messageOrOptions, buttons) => {\n    if (typeof messageOrOptions === 'string') {\n      return controller.present({\n        message: messageOrOptions,\n        buttons: buttons !== null && buttons !== void 0 ? buttons : [{\n          text: 'Ok'\n        }]\n      });\n    } else {\n      return controller.present(messageOrOptions);\n    }\n  }, [controller.present]);\n  return [present, controller.dismiss];\n}\n\n/**\n * A hook for presenting/dismissing an IonToast component\n * @returns Returns the present and dismiss methods in an array\n */\nfunction useIonToast() {\n  const controller = useController('IonToast', toastController, defineCustomElement$16);\n  const present = useCallback((messageOrOptions, duration) => {\n    if (typeof messageOrOptions === 'string') {\n      return controller.present({\n        message: messageOrOptions,\n        duration\n      });\n    } else {\n      return controller.present(messageOrOptions);\n    }\n  }, [controller.present]);\n  return [present, controller.dismiss];\n}\nfunction useOverlay(displayName, controller, defineCustomElement, component, componentProps) {\n  const overlayRef = useRef();\n  const containerElRef = useRef();\n  const didDismissEventName = useMemo(() => `on${displayName}DidDismiss`, [displayName]);\n  const didPresentEventName = useMemo(() => `on${displayName}DidPresent`, [displayName]);\n  const willDismissEventName = useMemo(() => `on${displayName}WillDismiss`, [displayName]);\n  const willPresentEventName = useMemo(() => `on${displayName}WillPresent`, [displayName]);\n  const [isOpen, setIsOpen] = useState(false);\n  const ionContext = useContext(IonContext);\n  const [overlayId] = useState(generateId('overlay'));\n  defineCustomElement();\n  useEffect(() => {\n    if (isOpen && component && containerElRef.current) {\n      if (React.isValidElement(component)) {\n        ionContext.addOverlay(overlayId, component, containerElRef.current);\n      } else {\n        const element = createElement(component, componentProps);\n        ionContext.addOverlay(overlayId, element, containerElRef.current);\n      }\n    }\n  }, [component, containerElRef.current, isOpen, componentProps]);\n  const present = useCallback(async options => {\n    if (overlayRef.current) {\n      return;\n    }\n    const {\n        onDidDismiss,\n        onWillDismiss,\n        onDidPresent,\n        onWillPresent\n      } = options,\n      rest = __rest(options, [\"onDidDismiss\", \"onWillDismiss\", \"onDidPresent\", \"onWillPresent\"]);\n    if (typeof document !== 'undefined') {\n      containerElRef.current = document.createElement('div');\n    }\n    overlayRef.current = await controller.create(Object.assign(Object.assign({}, rest), {\n      component: containerElRef.current\n    }));\n    attachProps(overlayRef.current, {\n      [didDismissEventName]: handleDismiss,\n      [didPresentEventName]: e => onDidPresent && onDidPresent(e),\n      [willDismissEventName]: e => onWillDismiss && onWillDismiss(e),\n      [willPresentEventName]: e => onWillPresent && onWillPresent(e)\n    });\n    overlayRef.current.present();\n    setIsOpen(true);\n    function handleDismiss(event) {\n      if (onDidDismiss) {\n        onDidDismiss(event);\n      }\n      overlayRef.current = undefined;\n      containerElRef.current = undefined;\n      setIsOpen(false);\n      ionContext.removeOverlay(overlayId);\n    }\n  }, []);\n  const dismiss = useCallback(async (data, role) => {\n    overlayRef.current && (await overlayRef.current.dismiss(data, role));\n    overlayRef.current = undefined;\n    containerElRef.current = undefined;\n  }, []);\n  return {\n    present,\n    dismiss\n  };\n}\n\n// TODO(FW-2959): types\n/**\n * A hook for presenting/dismissing an IonModal component\n * @param component The component that the modal will show. Can be a React Component, a functional component, or a JSX Element\n * @param componentProps The props that will be passed to the component, if required\n * @returns Returns the present and dismiss methods in an array\n */\nfunction useIonModal(component, componentProps) {\n  const controller = useOverlay('IonModal', modalController, defineCustomElement$19, component, componentProps);\n  const present = useCallback((options = {}) => {\n    controller.present(options);\n  }, [controller.present]);\n  return [present, controller.dismiss];\n}\n\n// TODO(FW-2959): types\n/**\n * A hook for presenting/dismissing an IonPicker component\n * @param component The component that the popover will show. Can be a React Component, a functional component, or a JSX Element\n * @param componentProps The props that will be passed to the component, if required\n * @returns Returns the present and dismiss methods in an array\n */\nfunction useIonPopover(component, componentProps) {\n  const controller = useOverlay('IonPopover', popoverController, defineCustomElement$1a, component, componentProps);\n  const present = useCallback((options = {}) => {\n    controller.present(options);\n  }, [controller.present]);\n  return [present, controller.dismiss];\n}\n\n/**\n * A hook for presenting/dismissing an IonPicker component\n * @returns Returns the present and dismiss methods in an array\n * @deprecated Use the inline ion-picker component instead.\n */\nfunction useIonPicker() {\n  const controller = useController('IonPicker', pickerController, defineCustomElement$17);\n  const present = useCallback((columnsOrOptions, buttons) => {\n    if (Array.isArray(columnsOrOptions)) {\n      return controller.present({\n        columns: columnsOrOptions,\n        buttons: buttons !== null && buttons !== void 0 ? buttons : [{\n          text: 'Ok'\n        }]\n      });\n    } else {\n      return controller.present(columnsOrOptions);\n    }\n  }, [controller.present]);\n  return [present, controller.dismiss];\n}\n\n/**\n * A hook for presenting/dismissing an IonLoading component\n * @returns Returns the present and dismiss methods in an array\n */\nfunction useIonLoading() {\n  const controller = useController('IonLoading', loadingController, defineCustomElement$15);\n  const present = useCallback((messageOrOptions = {}, duration, spinner) => {\n    if (typeof messageOrOptions === 'string') {\n      return controller.present({\n        message: messageOrOptions,\n        duration,\n        spinner\n      });\n    } else {\n      return controller.present(messageOrOptions);\n    }\n  }, [controller.present]);\n  return [present, controller.dismiss];\n}\nconst setupIonicReact = (config = {}) => {\n  /**\n   * By default Ionic Framework hides elements that\n   * are not hydrated, but in the CE build there is no\n   * hydration.\n   * TODO FW-2797: Remove when all integrations have been\n   * migrated to CE build.\n   */\n  if (typeof document !== 'undefined') {\n    document.documentElement.classList.add('ion-ce');\n  }\n  initialize(Object.assign({}, config));\n};\n\n// TODO(FW-2959): types\nconst RouteManagerContext = /*@__PURE__*/React.createContext({\n  addViewItem: () => undefined,\n  canGoBack: () => undefined,\n  clearOutlet: () => undefined,\n  createViewItem: () => undefined,\n  findViewItemByPathname: () => undefined,\n  findLeavingViewItemByRouteInfo: () => undefined,\n  findViewItemByRouteInfo: () => undefined,\n  getChildrenToRender: () => undefined,\n  goBack: () => undefined,\n  unMountViewItem: () => undefined\n});\nclass ViewLifeCycleManager extends React.Component {\n  constructor(props) {\n    super(props);\n    this.ionLifeCycleContext = new DefaultIonLifeCycleContext();\n    this._isMounted = false;\n    this.ionLifeCycleContext.onComponentCanBeDestroyed(() => {\n      if (!this.props.mount) {\n        if (this._isMounted) {\n          this.setState({\n            show: false\n          }, () => this.props.removeView());\n        }\n      }\n    });\n    this.state = {\n      show: true\n    };\n  }\n  componentDidMount() {\n    this._isMounted = true;\n  }\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n  render() {\n    const {\n      show\n    } = this.state;\n    return React.createElement(IonLifeCycleContext.Provider, {\n      value: this.ionLifeCycleContext\n    }, show && this.props.children);\n  }\n}\n\n// const RESTRICT_SIZE = 100;\nclass LocationHistory {\n  constructor() {\n    this.locationHistory = [];\n    this.tabHistory = {};\n  }\n  add(routeInfo) {\n    if (routeInfo.routeAction === 'push' || routeInfo.routeAction == null) {\n      this._add(routeInfo);\n    } else if (routeInfo.routeAction === 'pop') {\n      this._pop(routeInfo);\n    } else if (routeInfo.routeAction === 'replace') {\n      this._replace(routeInfo);\n    }\n    if (routeInfo.routeDirection === 'root') {\n      this._clear();\n      this._add(routeInfo);\n    }\n  }\n  clearTabStack(tab) {\n    const routeInfos = this._getRouteInfosByKey(tab);\n    if (routeInfos) {\n      routeInfos.forEach(ri => {\n        this.locationHistory = this.locationHistory.filter(x => x.id !== ri.id);\n      });\n      this.tabHistory[tab] = [];\n    }\n  }\n  update(routeInfo) {\n    const locationIndex = this.locationHistory.findIndex(x => x.id === routeInfo.id);\n    if (locationIndex > -1) {\n      this.locationHistory.splice(locationIndex, 1, routeInfo);\n    }\n    const tabArray = this.tabHistory[routeInfo.tab || ''];\n    if (tabArray) {\n      const tabIndex = tabArray.findIndex(x => x.id === routeInfo.id);\n      if (tabIndex > -1) {\n        tabArray.splice(tabIndex, 1, routeInfo);\n      } else {\n        tabArray.push(routeInfo);\n      }\n    } else if (routeInfo.tab) {\n      this.tabHistory[routeInfo.tab] = [routeInfo];\n    }\n  }\n  _add(routeInfo) {\n    const routeInfos = this._getRouteInfosByKey(routeInfo.tab);\n    if (routeInfos) {\n      // If the latest routeInfo is the same (going back and forth between tabs), replace it\n      if (this._areRoutesEqual(routeInfos[routeInfos.length - 1], routeInfo)) {\n        routeInfos.pop();\n      }\n      routeInfos.push(routeInfo);\n    }\n    this.locationHistory.push(routeInfo);\n  }\n  _areRoutesEqual(route1, route2) {\n    if (!route1 || !route2) {\n      return false;\n    }\n    return route1.pathname === route2.pathname && route1.search === route2.search;\n  }\n  _pop(routeInfo) {\n    const routeInfos = this._getRouteInfosByKey(routeInfo.tab);\n    if (routeInfos) {\n      // Pop the previous route\n      routeInfos.pop();\n      // Replace the current route with an updated version\n      routeInfos.pop();\n      routeInfos.push(routeInfo);\n    }\n    // Pop the previous route\n    this.locationHistory.pop();\n    // Replace the current route with an updated version\n    this.locationHistory.pop();\n    this.locationHistory.push(routeInfo);\n  }\n  _replace(routeInfo) {\n    const routeInfos = this._getRouteInfosByKey(routeInfo.tab);\n    routeInfos && routeInfos.pop();\n    this.locationHistory.pop();\n    this._add(routeInfo);\n  }\n  _clear() {\n    const keys = Object.keys(this.tabHistory);\n    keys.forEach(k => this.tabHistory[k] = []);\n    this.locationHistory = [];\n  }\n  _getRouteInfosByKey(key) {\n    let routeInfos;\n    if (key) {\n      routeInfos = this.tabHistory[key];\n      if (!routeInfos) {\n        routeInfos = this.tabHistory[key] = [];\n      }\n    }\n    return routeInfos;\n  }\n  getFirstRouteInfoForTab(tab) {\n    const routeInfos = this._getRouteInfosByKey(tab);\n    if (routeInfos) {\n      return routeInfos[0];\n    }\n    return undefined;\n  }\n  getCurrentRouteInfoForTab(tab) {\n    const routeInfos = this._getRouteInfosByKey(tab);\n    if (routeInfos) {\n      return routeInfos[routeInfos.length - 1];\n    }\n    return undefined;\n  }\n  findLastLocation(routeInfo) {\n    const routeInfos = this._getRouteInfosByKey(routeInfo.tab);\n    if (routeInfos) {\n      for (let i = routeInfos.length - 2; i >= 0; i--) {\n        const ri = routeInfos[i];\n        if (ri) {\n          if (ri.pathname === routeInfo.pushedByRoute) {\n            return ri;\n          }\n        }\n      }\n    }\n    for (let i = this.locationHistory.length - 2; i >= 0; i--) {\n      const ri = this.locationHistory[i];\n      if (ri) {\n        if (ri.pathname === routeInfo.pushedByRoute) {\n          return ri;\n        }\n      }\n    }\n    return undefined;\n  }\n  previous() {\n    return this.locationHistory[this.locationHistory.length - 2] || this.locationHistory[this.locationHistory.length - 1];\n  }\n  current() {\n    return this.locationHistory[this.locationHistory.length - 1];\n  }\n  canGoBack() {\n    return this.locationHistory.length > 1;\n  }\n}\nclass NavManager extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.ionRouterContextValue = {\n      push: (pathname, routerDirection, routeAction, routerOptions, animationBuilder) => {\n        this.navigate(pathname, routerDirection, routeAction, animationBuilder, routerOptions);\n      },\n      back: animationBuilder => {\n        this.goBack(undefined, animationBuilder);\n      },\n      canGoBack: () => this.props.locationHistory.canGoBack(),\n      nativeBack: () => this.props.onNativeBack(),\n      routeInfo: this.props.routeInfo\n    };\n    this.state = {\n      goBack: this.goBack.bind(this),\n      hasIonicRouter: () => true,\n      navigate: this.navigate.bind(this),\n      getIonRedirect: this.getIonRedirect.bind(this),\n      getIonRoute: this.getIonRoute.bind(this),\n      getStackManager: this.getStackManager.bind(this),\n      getPageManager: this.getPageManager.bind(this),\n      routeInfo: this.props.routeInfo,\n      setCurrentTab: this.props.onSetCurrentTab,\n      changeTab: this.props.onChangeTab,\n      resetTab: this.props.onResetTab\n    };\n  }\n  componentDidMount() {\n    if (typeof document !== 'undefined') {\n      this.handleHardwareBackButton = this.handleHardwareBackButton.bind(this);\n      document.addEventListener('ionBackButton', this.handleHardwareBackButton);\n    }\n  }\n  componentWillUnmount() {\n    if (typeof document !== 'undefined') {\n      document.removeEventListener('ionBackButton', this.handleHardwareBackButton);\n    }\n  }\n  handleHardwareBackButton(e) {\n    e.detail.register(0, processNextHandler => {\n      this.nativeGoBack();\n      processNextHandler();\n    });\n  }\n  goBack(route, animationBuilder) {\n    this.props.onNavigateBack(route, animationBuilder);\n  }\n  nativeGoBack() {\n    this.props.onNativeBack();\n  }\n  navigate(path, direction = 'forward', action = 'push', animationBuilder, options, tab) {\n    this.props.onNavigate(path, action, direction, animationBuilder, options, tab);\n  }\n  getPageManager() {\n    return PageManager;\n  }\n  getIonRedirect() {\n    return this.props.ionRedirect;\n  }\n  getIonRoute() {\n    return this.props.ionRoute;\n  }\n  getStackManager() {\n    return this.props.stackManager;\n  }\n  render() {\n    return React.createElement(NavContext.Provider, {\n      value: Object.assign(Object.assign({}, this.state), {\n        routeInfo: this.props.routeInfo\n      })\n    }, React.createElement(IonRouterContext.Provider, {\n      value: Object.assign(Object.assign({}, this.ionRouterContextValue), {\n        routeInfo: this.props.routeInfo\n      })\n    }, this.props.children));\n  }\n}\nclass ViewStacks {\n  constructor() {\n    this.viewStacks = {};\n    this.add = this.add.bind(this);\n    this.clear = this.clear.bind(this);\n    this.getViewItemsForOutlet = this.getViewItemsForOutlet.bind(this);\n    this.remove = this.remove.bind(this);\n  }\n  add(viewItem) {\n    const {\n      outletId\n    } = viewItem;\n    if (!this.viewStacks[outletId]) {\n      this.viewStacks[outletId] = [viewItem];\n    } else {\n      this.viewStacks[outletId].push(viewItem);\n    }\n  }\n  clear(outletId) {\n    // Give some time for the leaving views to transition before removing\n    return setTimeout(() => {\n      delete this.viewStacks[outletId];\n    }, 500);\n  }\n  getViewItemsForOutlet(outletId) {\n    return this.viewStacks[outletId] || [];\n  }\n  remove(viewItem) {\n    const {\n      outletId\n    } = viewItem;\n    const viewStack = this.viewStacks[outletId];\n    if (viewStack) {\n      const viewItemToRemove = viewStack.find(x => x.id === viewItem.id);\n      if (viewItemToRemove) {\n        viewItemToRemove.mount = false;\n        this.viewStacks[outletId] = viewStack.filter(x => x.id !== viewItemToRemove.id);\n      }\n    }\n  }\n  getStackIds() {\n    return Object.keys(this.viewStacks);\n  }\n  getAllViewItems() {\n    const keys = this.getStackIds();\n    const viewItems = [];\n    keys.forEach(k => {\n      viewItems.push(...this.viewStacks[k]);\n    });\n    return viewItems;\n  }\n}\nexport { CreateAnimation, DefaultIonLifeCycleContext, IonAccordion, IonAccordionGroup, IonActionSheet, IonAlert, IonApp, IonAvatar, IonBackButton, IonBackdrop, IonBadge, IonBreadcrumb, IonBreadcrumbs, IonButton, IonButtons, IonCard, IonCardContent, IonCardHeader, IonCardSubtitle, IonCardTitle, IonCheckbox, IonChip, IonCol, IonContent, IonDatetime, IonDatetimeButton, IonFab, IonFabButton, IonFabList, IonFooter, IonGrid, IonHeader, IonIcon, IonImg, IonInfiniteScroll, IonInfiniteScrollContent, IonInput, IonInputPasswordToggle, IonItem, IonItemDivider, IonItemGroup, IonItemOption, IonItemOptions, IonItemSliding, IonLabel, IonLifeCycleContext, IonList, IonListHeader, IonLoading, IonMenu, IonMenuButton, IonMenuToggle, IonModal, IonNav, IonNavLink, IonNote, IonPage, IonPicker, IonPickerColumn, IonPickerColumnOption, IonPickerLegacy, IonPopover, IonProgressBar, IonRadio, IonRadioGroup, IonRange, IonRedirect, IonRefresher, IonRefresherContent, IonReorder, IonReorderGroup, IonRippleEffect, IonRoute, IonRouterContext, IonRouterLink, IonRouterOutlet, IonRow, IonSearchbar, IonSegment, IonSegmentButton, IonSelect, IonSelectOption, IonSkeletonText, IonSpinner, IonSplitPane, IonTab, IonTabBar, IonTabButton, IonTabs, IonTabsContext, IonText, IonTextarea, IonThumbnail, IonTitle, IonToast, IonToggle, IonToolbar, LocationHistory, NavContext, NavManager, RouteManagerContext, StackContext, ViewLifeCycleManager, ViewStacks, generateId, getConfig, getPlatforms, isPlatform, setupIonicReact, useIonActionSheet, useIonAlert, useIonLoading, useIonModal, useIonPicker, useIonPopover, useIonRouter, useIonToast, useIonViewDidEnter, useIonViewDidLeave, useIonViewWillEnter, useIonViewWillLeave, withIonLifeCycle };","map":{"version":3,"names":["React","useContext","useRef","useEffect","createElement","useState","useMemo","Fragment","useCallback","isPlatform","isPlatform$1","getPlatforms","getPlatforms$1","componentOnReady","createAnimation","actionSheetController","alertController","toastController","modalController","popoverController","pickerController","loadingController","initialize","IonicSafeString","IonicSlides","createGesture","getIonPageElement","getTimeGivenProgression","iosTransitionAnimation","mdTransitionAnimation","openURL","__rest","ReactDOM","createPortal","defineCustomElement","defineCustomElement$1","defineCustomElement$2","defineCustomElement$3","defineCustomElement$4","defineCustomElement$5","defineCustomElement$6","defineCustomElement$7","defineCustomElement$8","defineCustomElement$9","defineCustomElement$a","defineCustomElement$b","defineCustomElement$c","defineCustomElement$d","defineCustomElement$e","defineCustomElement$f","defineCustomElement$g","defineCustomElement$h","defineCustomElement$i","defineCustomElement$j","defineCustomElement$k","defineCustomElement$l","defineCustomElement$m","defineCustomElement$n","defineCustomElement$o","defineCustomElement$p","defineCustomElement$q","defineCustomElement$r","defineCustomElement$s","defineCustomElement$t","defineCustomElement$u","defineCustomElement$v","defineCustomElement$w","defineCustomElement$x","defineCustomElement$y","defineCustomElement$z","defineCustomElement$A","defineCustomElement$B","defineCustomElement$1h","defineCustomElement$C","defineCustomElement$D","defineCustomElement$E","defineCustomElement$F","defineCustomElement$G","defineCustomElement$H","defineCustomElement$I","defineCustomElement$J","defineCustomElement$K","defineCustomElement$L","defineCustomElement$M","defineCustomElement$N","defineCustomElement$O","defineCustomElement$P","defineCustomElement$Q","defineCustomElement$R","defineCustomElement$S","defineCustomElement$T","defineCustomElement$U","defineCustomElement$V","defineCustomElement$W","defineCustomElement$X","defineCustomElement$Y","defineCustomElement$Z","defineCustomElement$_","defineCustomElement$$","defineCustomElement$10","defineCustomElement$11","defineCustomElement$12","defineCustomElement$13","IonBreadcrumb","IonBreadcrumb$1","IonButton","IonButton$1","IonCard","IonCard$1","IonFabButton","IonFabButton$1","IonItemOption","IonItemOption$1","IonItem","IonItem$1","IonRouterLink","IonRouterLink$1","defineCustomElement$14","defineCustomElement$15","defineCustomElement$16","defineCustomElement$17","defineCustomElement$18","defineCustomElement$19","defineCustomElement$1a","defineCustomElement$1g","defineCustomElement$1f","defineCustomElement$1c","defineCustomElement$1b","defineCustomElement$1e","defineCustomElement$1d","IonLifeCycleContext","createContext","onIonViewWillEnter","ionViewWillEnter","onIonViewDidEnter","ionViewDidEnter","onIonViewWillLeave","ionViewWillLeave","onIonViewDidLeave","ionViewDidLeave","cleanupIonViewWillEnter","cleanupIonViewDidEnter","cleanupIonViewWillLeave","cleanupIonViewDidLeave","DefaultIonLifeCycleContext","constructor","ionViewWillEnterCallbacks","ionViewDidEnterCallbacks","ionViewWillLeaveCallbacks","ionViewDidLeaveCallbacks","ionViewWillEnterDestructorCallbacks","ionViewDidEnterDestructorCallbacks","ionViewWillLeaveDestructorCallbacks","ionViewDidLeaveDestructorCallbacks","callback","id","index","findIndex","x","push","teardownCallback","callbacks","matches","filter","length","forEach","match","destructor","cb","componentCanBeDestroyed","onComponentCanBeDestroyed","componentCanBeDestroyedCallback","withIonLifeCycle","WrappedComponent","IonLifeCycle","Component","props","componentRef","createRef","componentDidMount","element","current","context","render","Consumer","Object","assign","ref","useIonViewWillEnter","deps","Math","floor","random","useIonViewDidEnter","useIonViewWillLeave","useIonViewDidLeave","NavContext","getIonRedirect","undefined","getIonRoute","getPageManager","getStackManager","goBack","route","window","location","pathname","history","back","navigate","path","hasIonicRouter","routeInfo","setCurrentTab","changeTab","_tab","resetTab","dashToPascalCase","str","toLowerCase","split","map","segment","charAt","toUpperCase","slice","join","camelToDashCase","replace","m","attachProps","node","newProps","oldProps","Element","className","getClassName","classList","keys","name","indexOf","eventName","substring","eventNameLc","isCoveredByReact","syncEvent","propType","setAttribute","newClassProp","class","oldClassProp","currentClasses","arrayToMap","incomingPropClasses","oldPropClasses","finalClassNames","currentClass","has","delete","s","transformReactEventName","eventNameSuffix","document","isSupported","newEventHandler","eventStore","__events","oldEventHandler","removeEventListener","addEventListener","handler","e","call","arr","Map","set","setRef","value","mergeRefs","refs","createForwardRef$1","ReactComponent","displayName","forwardRef","forwardedRef","tagName","customElement","customElements","get","define","createReactComponent","ReactComponentContext","manipulatePropsFunction","setComponentElRef","componentEl","componentDidUpdate","prevProps","_a","children","style","cProps","propsToPass","reduce","acc","type","contextType","IonAccordion","IonAccordionGroup","IonAvatar","IonBackdrop","IonBadge","IonBreadcrumbs","IonButtons","IonCardContent","IonCardHeader","IonCardSubtitle","IonCardTitle","IonCheckbox","IonChip","IonCol","IonContent","IonDatetime","IonDatetimeButton","IonFab","IonFabList","IonFooter","IonGrid","IonHeader","IonImg","IonInfiniteScroll","IonInfiniteScrollContent","IonInput","IonInputPasswordToggle","IonItemDivider","IonItemGroup","IonItemOptions","IonItemSliding","IonLabel","IonList","IonListHeader","IonMenu","IonMenuButton","IonMenuToggle","IonNavLink","IonNote","IonPicker","IonPickerColumn","IonPickerColumnOption","IonProgressBar","IonRadio","IonRadioGroup","IonRange","IonRefresher","IonRefresherContent","IonReorder","IonReorderGroup","IonRippleEffect","IonRow","IonSearchbar","IonSegment","IonSegmentButton","IonSelect","IonSelectOption","IonSkeletonText","IonSpinner","IonSplitPane","IonTab","IonText","IonTextarea","IonThumbnail","IonTitle","IonToggle","IonToolbar","createForwardRef","platform","getConfig","Ionic","config","createRoutingComponent","handleClick","routerLink","routerDirection","routerOptions","routerAnimation","preventDefault","stableMergedRefs","includes","href","onClick","oldClick","defaultPrevented","detachProps","detachEvent","eventHandler","createInlineOverlayComponent","hasDelegateHost","handleIonMount","setState","isOpen","handleWillPresent","evt","onWillPresent","handleDidDismiss","wrapper","wrapperRef","el","append","onDidDismiss","state","_b","_c","componentWillUnmount","remove","getWrapperClasses","DELEGATE_HOST","keepContentsMounted","IonAlert","IonLoading","IonToast","IonPickerLegacy","IonActionSheet","IonModal","IonPopover","IonContext","addOverlay","removeOverlay","IonOverlayManager","onAddOverlay","onRemoveOverlay","overlays","setOverlays","overlaysRef","component","containerElement","newOverlays","overlayKeys","key","overlay","IonTabButtonInner","IonTabBarInner","IonBackButtonInner","IonRouterOutletInner","IonAppInner","IonIconInner","IonApp","ionContext","addOverlayCallback","removeOverlayCallback","Provider","StackContext","registerIonPage","isInOutlet","PageManager","PureComponent","ionPageElementRef","ionViewWillEnterHandler","bind","ionViewDidEnterHandler","ionViewWillLeaveHandler","ionViewDidLeaveHandler","add","ionLifeCycleContext","IonPageInternal","IonPage","ids","main","generateId","toString","ReactDelegate","addView","removeView","refMap","WeakMap","reactDelegateId","attachViewToDom","parentElement","propsOrDataObj","cssClasses","div","appendChild","componentWithProps","hostComponent","Promise","resolve","removeViewFromDom","_container","IonNavInner","IonNavInternal","restOfProps","views","setViews","view","existingViews","v","delegate","IonNav","IonTabsContext","activeTab","selectTab","HTMLElementSSR","HTMLElement","OutletPageManager","outletIsReady","ionRouterOutlet","StackManager","val","IonRouterOutletContainer","ionPage","IonRouterOutlet","IonTabButton","handleIonTabButtonClick","CustomEvent","detail","tab","routeOptions","rest","onIonTabButtonClick","IonTabBarUnwrapped","setActiveTabOnContext","tabs","Children","child","_d","isTabButton","originalHref","currentHref","originalRouteOptions","currentRouteOptions","onTabButtonClick","renderTabButton","tabKeys","find","startsWith","tabUrl","selected","getDerivedStateFromProps","prevActiveTab","prevHref","prevRouteOptions","search","routeAction","onSetCurrentTab","onClickFn","tappedTab","onIonTabsWillChange","onIonTabsDidChange","cloneElement","ev","selectedTab","IonTabBarContainer","memo","IonTabBar","IonTabsElement","hostStyles","display","position","top","left","right","bottom","flexDirection","width","height","contain","tabsInner","flex","IonTabs","routerOutletRef","tabBarRef","ionTabContextState","outlet","tabBar","hasOwnProperty","isRouterOutlet","childProps","isTabBar","Error","slot","IonBackButton","arguments","clickButton","target","closest","defaultHref","stopPropagation","IonIconContainer","console","warn","icon","ios","md","mode","iconToUse","iconMode","IonIcon","IonRoute","IonRouteInner","error","IonRedirect","IonRedirectInner","IonRouterContext","canGoBack","nativeBack","useIonRouter","CreateAnimation","nodes","animation","setupAnimation","size","addElement","Array","from","values","checkConfig","checkPlayback","checkProgress","currentProps","reservedProps","fromValues","isArray","property","toValues","to","fromToValues","fromTo","fromValue","toValue","onFinishValues","onFinish","opts","_e","progressStart","progressStep","progressEnd","forceLinearEasing","step","playTo","dur","play","pause","stop","destroy","useController","controller","overlayRef","didDismissEventName","didPresentEventName","willDismissEventName","willPresentEventName","present","options","onWillDismiss","onDidPresent","handleDismiss","event","create","dismiss","useIonActionSheet","buttonsOrOptions","header","buttons","useIonAlert","messageOrOptions","message","text","useIonToast","duration","useOverlay","componentProps","containerElRef","setIsOpen","overlayId","isValidElement","data","role","useIonModal","useIonPopover","useIonPicker","columnsOrOptions","columns","useIonLoading","spinner","setupIonicReact","documentElement","RouteManagerContext","addViewItem","clearOutlet","createViewItem","findViewItemByPathname","findLeavingViewItemByRouteInfo","findViewItemByRouteInfo","getChildrenToRender","unMountViewItem","ViewLifeCycleManager","_isMounted","mount","show","LocationHistory","locationHistory","tabHistory","_add","_pop","_replace","routeDirection","_clear","clearTabStack","routeInfos","_getRouteInfosByKey","ri","update","locationIndex","splice","tabArray","tabIndex","_areRoutesEqual","pop","route1","route2","k","getFirstRouteInfoForTab","getCurrentRouteInfoForTab","findLastLocation","i","pushedByRoute","previous","NavManager","ionRouterContextValue","animationBuilder","onNativeBack","onChangeTab","onResetTab","handleHardwareBackButton","register","processNextHandler","nativeGoBack","onNavigateBack","direction","action","onNavigate","ionRedirect","ionRoute","stackManager","ViewStacks","viewStacks","clear","getViewItemsForOutlet","viewItem","outletId","setTimeout","viewStack","viewItemToRemove","getStackIds","getAllViewItems","viewItems"],"sources":["D:/HỌC TẬP/Lập trình web nâng cao/clone/shopping/node_modules/@ionic/react/dist/index.js"],"sourcesContent":["import React, { useContext, useRef, useEffect, createElement, useState, useMemo, Fragment, useCallback } from 'react';\nimport { isPlatform as isPlatform$1, getPlatforms as getPlatforms$1, componentOnReady, createAnimation, actionSheetController, alertController, toastController, modalController, popoverController, pickerController, loadingController, initialize } from '@ionic/core/components';\nexport { IonicSafeString, IonicSlides, createAnimation, createGesture, getIonPageElement, getTimeGivenProgression, iosTransitionAnimation, mdTransitionAnimation, openURL } from '@ionic/core/components';\nimport { __rest } from 'tslib';\nimport ReactDOM, { createPortal } from 'react-dom';\nimport { defineCustomElement as defineCustomElement$1 } from '@ionic/core/components/ion-accordion.js';\nimport { defineCustomElement as defineCustomElement$2 } from '@ionic/core/components/ion-accordion-group.js';\nimport { defineCustomElement as defineCustomElement$3 } from '@ionic/core/components/ion-avatar.js';\nimport { defineCustomElement as defineCustomElement$4 } from '@ionic/core/components/ion-backdrop.js';\nimport { defineCustomElement as defineCustomElement$5 } from '@ionic/core/components/ion-badge.js';\nimport { defineCustomElement as defineCustomElement$6 } from '@ionic/core/components/ion-breadcrumbs.js';\nimport { defineCustomElement as defineCustomElement$7 } from '@ionic/core/components/ion-buttons.js';\nimport { defineCustomElement as defineCustomElement$8 } from '@ionic/core/components/ion-card-content.js';\nimport { defineCustomElement as defineCustomElement$9 } from '@ionic/core/components/ion-card-header.js';\nimport { defineCustomElement as defineCustomElement$a } from '@ionic/core/components/ion-card-subtitle.js';\nimport { defineCustomElement as defineCustomElement$b } from '@ionic/core/components/ion-card-title.js';\nimport { defineCustomElement as defineCustomElement$c } from '@ionic/core/components/ion-checkbox.js';\nimport { defineCustomElement as defineCustomElement$d } from '@ionic/core/components/ion-chip.js';\nimport { defineCustomElement as defineCustomElement$e } from '@ionic/core/components/ion-col.js';\nimport { defineCustomElement as defineCustomElement$f } from '@ionic/core/components/ion-content.js';\nimport { defineCustomElement as defineCustomElement$g } from '@ionic/core/components/ion-datetime.js';\nimport { defineCustomElement as defineCustomElement$h } from '@ionic/core/components/ion-datetime-button.js';\nimport { defineCustomElement as defineCustomElement$i } from '@ionic/core/components/ion-fab.js';\nimport { defineCustomElement as defineCustomElement$j } from '@ionic/core/components/ion-fab-list.js';\nimport { defineCustomElement as defineCustomElement$k } from '@ionic/core/components/ion-footer.js';\nimport { defineCustomElement as defineCustomElement$l } from '@ionic/core/components/ion-grid.js';\nimport { defineCustomElement as defineCustomElement$m } from '@ionic/core/components/ion-header.js';\nimport { defineCustomElement as defineCustomElement$n } from '@ionic/core/components/ion-img.js';\nimport { defineCustomElement as defineCustomElement$o } from '@ionic/core/components/ion-infinite-scroll.js';\nimport { defineCustomElement as defineCustomElement$p } from '@ionic/core/components/ion-infinite-scroll-content.js';\nimport { defineCustomElement as defineCustomElement$q } from '@ionic/core/components/ion-input.js';\nimport { defineCustomElement as defineCustomElement$r } from '@ionic/core/components/ion-input-password-toggle.js';\nimport { defineCustomElement as defineCustomElement$s } from '@ionic/core/components/ion-item-divider.js';\nimport { defineCustomElement as defineCustomElement$t } from '@ionic/core/components/ion-item-group.js';\nimport { defineCustomElement as defineCustomElement$u } from '@ionic/core/components/ion-item-options.js';\nimport { defineCustomElement as defineCustomElement$v } from '@ionic/core/components/ion-item-sliding.js';\nimport { defineCustomElement as defineCustomElement$w } from '@ionic/core/components/ion-label.js';\nimport { defineCustomElement as defineCustomElement$x } from '@ionic/core/components/ion-list.js';\nimport { defineCustomElement as defineCustomElement$y } from '@ionic/core/components/ion-list-header.js';\nimport { defineCustomElement as defineCustomElement$z } from '@ionic/core/components/ion-menu.js';\nimport { defineCustomElement as defineCustomElement$A } from '@ionic/core/components/ion-menu-button.js';\nimport { defineCustomElement as defineCustomElement$B } from '@ionic/core/components/ion-menu-toggle.js';\nimport { defineCustomElement as defineCustomElement$1h } from '@ionic/core/components/ion-nav.js';\nimport { defineCustomElement as defineCustomElement$C } from '@ionic/core/components/ion-nav-link.js';\nimport { defineCustomElement as defineCustomElement$D } from '@ionic/core/components/ion-note.js';\nimport { defineCustomElement as defineCustomElement$E } from '@ionic/core/components/ion-picker.js';\nimport { defineCustomElement as defineCustomElement$F } from '@ionic/core/components/ion-picker-column.js';\nimport { defineCustomElement as defineCustomElement$G } from '@ionic/core/components/ion-picker-column-option.js';\nimport { defineCustomElement as defineCustomElement$H } from '@ionic/core/components/ion-progress-bar.js';\nimport { defineCustomElement as defineCustomElement$I } from '@ionic/core/components/ion-radio.js';\nimport { defineCustomElement as defineCustomElement$J } from '@ionic/core/components/ion-radio-group.js';\nimport { defineCustomElement as defineCustomElement$K } from '@ionic/core/components/ion-range.js';\nimport { defineCustomElement as defineCustomElement$L } from '@ionic/core/components/ion-refresher.js';\nimport { defineCustomElement as defineCustomElement$M } from '@ionic/core/components/ion-refresher-content.js';\nimport { defineCustomElement as defineCustomElement$N } from '@ionic/core/components/ion-reorder.js';\nimport { defineCustomElement as defineCustomElement$O } from '@ionic/core/components/ion-reorder-group.js';\nimport { defineCustomElement as defineCustomElement$P } from '@ionic/core/components/ion-ripple-effect.js';\nimport { defineCustomElement as defineCustomElement$Q } from '@ionic/core/components/ion-row.js';\nimport { defineCustomElement as defineCustomElement$R } from '@ionic/core/components/ion-searchbar.js';\nimport { defineCustomElement as defineCustomElement$S } from '@ionic/core/components/ion-segment.js';\nimport { defineCustomElement as defineCustomElement$T } from '@ionic/core/components/ion-segment-button.js';\nimport { defineCustomElement as defineCustomElement$U } from '@ionic/core/components/ion-select.js';\nimport { defineCustomElement as defineCustomElement$V } from '@ionic/core/components/ion-select-option.js';\nimport { defineCustomElement as defineCustomElement$W } from '@ionic/core/components/ion-skeleton-text.js';\nimport { defineCustomElement as defineCustomElement$X } from '@ionic/core/components/ion-spinner.js';\nimport { defineCustomElement as defineCustomElement$Y } from '@ionic/core/components/ion-split-pane.js';\nimport { defineCustomElement as defineCustomElement$Z } from '@ionic/core/components/ion-tab.js';\nimport { defineCustomElement as defineCustomElement$_ } from '@ionic/core/components/ion-text.js';\nimport { defineCustomElement as defineCustomElement$$ } from '@ionic/core/components/ion-textarea.js';\nimport { defineCustomElement as defineCustomElement$10 } from '@ionic/core/components/ion-thumbnail.js';\nimport { defineCustomElement as defineCustomElement$11 } from '@ionic/core/components/ion-title.js';\nimport { defineCustomElement as defineCustomElement$12 } from '@ionic/core/components/ion-toggle.js';\nimport { defineCustomElement as defineCustomElement$13 } from '@ionic/core/components/ion-toolbar.js';\nimport { IonBreadcrumb as IonBreadcrumb$1 } from '@ionic/core/components/ion-breadcrumb.js';\nimport { IonButton as IonButton$1 } from '@ionic/core/components/ion-button.js';\nimport { IonCard as IonCard$1 } from '@ionic/core/components/ion-card.js';\nimport { IonFabButton as IonFabButton$1 } from '@ionic/core/components/ion-fab-button.js';\nimport { IonItemOption as IonItemOption$1 } from '@ionic/core/components/ion-item-option.js';\nimport { IonItem as IonItem$1 } from '@ionic/core/components/ion-item.js';\nimport { IonRouterLink as IonRouterLink$1 } from '@ionic/core/components/ion-router-link.js';\nimport { defineCustomElement as defineCustomElement$14 } from '@ionic/core/components/ion-alert.js';\nimport { defineCustomElement as defineCustomElement$15 } from '@ionic/core/components/ion-loading.js';\nimport { defineCustomElement as defineCustomElement$16 } from '@ionic/core/components/ion-toast.js';\nimport { defineCustomElement as defineCustomElement$17 } from '@ionic/core/components/ion-picker-legacy.js';\nimport { defineCustomElement as defineCustomElement$18 } from '@ionic/core/components/ion-action-sheet.js';\nimport { defineCustomElement as defineCustomElement$19 } from '@ionic/core/components/ion-modal.js';\nimport { defineCustomElement as defineCustomElement$1a } from '@ionic/core/components/ion-popover.js';\nimport { defineCustomElement as defineCustomElement$1g } from '@ionic/core/components/ion-app.js';\nimport { defineCustomElement as defineCustomElement$1f } from '@ionic/core/components/ion-back-button.js';\nimport { defineCustomElement as defineCustomElement$1c } from '@ionic/core/components/ion-router-outlet.js';\nimport { defineCustomElement as defineCustomElement$1b } from '@ionic/core/components/ion-tab-bar.js';\nimport { defineCustomElement as defineCustomElement$1e } from '@ionic/core/components/ion-tab-button.js';\nimport { defineCustomElement as defineCustomElement$1d } from 'ionicons/components/ion-icon.js';\n\nconst IonLifeCycleContext = /*@__PURE__*/ React.createContext({\n    onIonViewWillEnter: () => {\n        return;\n    },\n    ionViewWillEnter: () => {\n        return;\n    },\n    onIonViewDidEnter: () => {\n        return;\n    },\n    ionViewDidEnter: () => {\n        return;\n    },\n    onIonViewWillLeave: () => {\n        return;\n    },\n    ionViewWillLeave: () => {\n        return;\n    },\n    onIonViewDidLeave: () => {\n        return;\n    },\n    ionViewDidLeave: () => {\n        return;\n    },\n    cleanupIonViewWillEnter: () => {\n        return;\n    },\n    cleanupIonViewDidEnter: () => {\n        return;\n    },\n    cleanupIonViewWillLeave: () => {\n        return;\n    },\n    cleanupIonViewDidLeave: () => {\n        return;\n    },\n});\nconst DefaultIonLifeCycleContext = class {\n    constructor() {\n        this.ionViewWillEnterCallbacks = [];\n        this.ionViewDidEnterCallbacks = [];\n        this.ionViewWillLeaveCallbacks = [];\n        this.ionViewDidLeaveCallbacks = [];\n        this.ionViewWillEnterDestructorCallbacks = [];\n        this.ionViewDidEnterDestructorCallbacks = [];\n        this.ionViewWillLeaveDestructorCallbacks = [];\n        this.ionViewDidLeaveDestructorCallbacks = [];\n    }\n    onIonViewWillEnter(callback) {\n        if (callback.id) {\n            const index = this.ionViewWillEnterCallbacks.findIndex((x) => x.id === callback.id);\n            if (index > -1) {\n                this.ionViewWillEnterCallbacks[index] = callback;\n            }\n            else {\n                this.ionViewWillEnterCallbacks.push(callback);\n            }\n        }\n        else {\n            this.ionViewWillEnterCallbacks.push(callback);\n        }\n    }\n    teardownCallback(callback, callbacks) {\n        // Find any destructors that have been registered for the callback\n        const matches = callbacks.filter((x) => x.id === callback.id);\n        if (matches.length !== 0) {\n            // Execute the destructor for each matching item\n            matches.forEach((match) => {\n                if (match && typeof match.destructor === 'function') {\n                    match.destructor();\n                }\n            });\n            // Remove all matching items from the array\n            callbacks = callbacks.filter((x) => x.id !== callback.id);\n        }\n    }\n    /**\n     * Tears down the user-provided ionViewWillEnter lifecycle callback.\n     * This is the same behavior as React's useEffect hook. The callback\n     * is invoked when the component is unmounted.\n     */\n    cleanupIonViewWillEnter(callback) {\n        this.teardownCallback(callback, this.ionViewWillEnterDestructorCallbacks);\n    }\n    /**\n     * Tears down the user-provided ionViewDidEnter lifecycle callback.\n     * This is the same behavior as React's useEffect hook. The callback\n     * is invoked when the component is unmounted.\n     */\n    cleanupIonViewDidEnter(callback) {\n        this.teardownCallback(callback, this.ionViewDidEnterDestructorCallbacks);\n    }\n    /**\n     * Tears down the user-provided ionViewWillLeave lifecycle callback.\n     * This is the same behavior as React's useEffect hook. The callback\n     * is invoked when the component is unmounted.\n     */\n    cleanupIonViewWillLeave(callback) {\n        this.teardownCallback(callback, this.ionViewWillLeaveDestructorCallbacks);\n    }\n    /**\n     * Tears down the user-provided ionViewDidLeave lifecycle callback.\n     * This is the same behavior as React's useEffect hook. The callback\n     * is invoked when the component is unmounted.\n     */\n    cleanupIonViewDidLeave(callback) {\n        this.teardownCallback(callback, this.ionViewDidLeaveDestructorCallbacks);\n    }\n    ionViewWillEnter() {\n        this.ionViewWillEnterCallbacks.forEach((cb) => {\n            const destructor = cb();\n            if (cb.id) {\n                this.ionViewWillEnterDestructorCallbacks.push({ id: cb.id, destructor });\n            }\n        });\n    }\n    onIonViewDidEnter(callback) {\n        if (callback.id) {\n            const index = this.ionViewDidEnterCallbacks.findIndex((x) => x.id === callback.id);\n            if (index > -1) {\n                this.ionViewDidEnterCallbacks[index] = callback;\n            }\n            else {\n                this.ionViewDidEnterCallbacks.push(callback);\n            }\n        }\n        else {\n            this.ionViewDidEnterCallbacks.push(callback);\n        }\n    }\n    ionViewDidEnter() {\n        this.ionViewDidEnterCallbacks.forEach((cb) => {\n            const destructor = cb();\n            if (cb.id) {\n                this.ionViewDidEnterDestructorCallbacks.push({ id: cb.id, destructor });\n            }\n        });\n    }\n    onIonViewWillLeave(callback) {\n        if (callback.id) {\n            const index = this.ionViewWillLeaveCallbacks.findIndex((x) => x.id === callback.id);\n            if (index > -1) {\n                this.ionViewWillLeaveCallbacks[index] = callback;\n            }\n            else {\n                this.ionViewWillLeaveCallbacks.push(callback);\n            }\n        }\n        else {\n            this.ionViewWillLeaveCallbacks.push(callback);\n        }\n    }\n    ionViewWillLeave() {\n        this.ionViewWillLeaveCallbacks.forEach((cb) => {\n            const destructor = cb();\n            if (cb.id) {\n                this.ionViewWillLeaveDestructorCallbacks.push({ id: cb.id, destructor });\n            }\n        });\n    }\n    onIonViewDidLeave(callback) {\n        if (callback.id) {\n            const index = this.ionViewDidLeaveCallbacks.findIndex((x) => x.id === callback.id);\n            if (index > -1) {\n                this.ionViewDidLeaveCallbacks[index] = callback;\n            }\n            else {\n                this.ionViewDidLeaveCallbacks.push(callback);\n            }\n        }\n        else {\n            this.ionViewDidLeaveCallbacks.push(callback);\n        }\n    }\n    ionViewDidLeave() {\n        this.ionViewDidLeaveCallbacks.forEach((cb) => {\n            const destructor = cb();\n            if (cb.id) {\n                this.ionViewDidLeaveDestructorCallbacks.push({ id: cb.id, destructor });\n            }\n        });\n        this.componentCanBeDestroyed();\n    }\n    onComponentCanBeDestroyed(callback) {\n        this.componentCanBeDestroyedCallback = callback;\n    }\n    componentCanBeDestroyed() {\n        if (this.componentCanBeDestroyedCallback) {\n            this.componentCanBeDestroyedCallback();\n        }\n    }\n};\n\n// TODO(FW-2959): types\nconst withIonLifeCycle = (WrappedComponent) => {\n    return class IonLifeCycle extends React.Component {\n        constructor(props) {\n            super(props);\n            this.componentRef = React.createRef();\n        }\n        componentDidMount() {\n            const element = this.componentRef.current;\n            this.context.onIonViewWillEnter(() => {\n                if (element && element.ionViewWillEnter) {\n                    element.ionViewWillEnter();\n                }\n            });\n            this.context.onIonViewDidEnter(() => {\n                if (element && element.ionViewDidEnter) {\n                    element.ionViewDidEnter();\n                }\n            });\n            this.context.onIonViewWillLeave(() => {\n                if (element && element.ionViewWillLeave) {\n                    element.ionViewWillLeave();\n                }\n            });\n            this.context.onIonViewDidLeave(() => {\n                if (element && element.ionViewDidLeave) {\n                    element.ionViewDidLeave();\n                }\n            });\n        }\n        render() {\n            return (React.createElement(IonLifeCycleContext.Consumer, null, (context) => {\n                this.context = context;\n                return React.createElement(WrappedComponent, Object.assign({ ref: this.componentRef }, this.props));\n            }));\n        }\n    };\n};\n\nconst useIonViewWillEnter = (callback, deps = []) => {\n    const context = useContext(IonLifeCycleContext);\n    const id = useRef();\n    id.current = id.current || Math.floor(Math.random() * 1000000);\n    useEffect(() => {\n        callback.id = id.current;\n        context.onIonViewWillEnter(callback);\n        return () => {\n            context.cleanupIonViewWillEnter(callback);\n        };\n    }, deps);\n};\nconst useIonViewDidEnter = (callback, deps = []) => {\n    const context = useContext(IonLifeCycleContext);\n    const id = useRef();\n    id.current = id.current || Math.floor(Math.random() * 1000000);\n    useEffect(() => {\n        callback.id = id.current;\n        context.onIonViewDidEnter(callback);\n        return () => {\n            context.cleanupIonViewDidEnter(callback);\n        };\n    }, deps);\n};\nconst useIonViewWillLeave = (callback, deps = []) => {\n    const context = useContext(IonLifeCycleContext);\n    const id = useRef();\n    id.current = id.current || Math.floor(Math.random() * 1000000);\n    useEffect(() => {\n        callback.id = id.current;\n        context.onIonViewWillLeave(callback);\n        return () => {\n            context.cleanupIonViewWillLeave(callback);\n        };\n    }, deps);\n};\nconst useIonViewDidLeave = (callback, deps = []) => {\n    const context = useContext(IonLifeCycleContext);\n    const id = useRef();\n    id.current = id.current || Math.floor(Math.random() * 1000000);\n    useEffect(() => {\n        callback.id = id.current;\n        context.onIonViewDidLeave(callback);\n        return () => {\n            context.cleanupIonViewDidLeave(callback);\n        };\n    }, deps);\n};\n\nconst NavContext = /*@__PURE__*/ React.createContext({\n    getIonRedirect: () => undefined,\n    getIonRoute: () => undefined,\n    getPageManager: () => undefined,\n    getStackManager: () => undefined,\n    goBack: (route) => {\n        if (typeof window !== 'undefined') {\n            if (typeof route === 'string') {\n                window.location.pathname = route;\n            }\n            else {\n                window.history.back();\n            }\n        }\n    },\n    navigate: (path) => {\n        if (typeof window !== 'undefined') {\n            window.location.pathname = path;\n        }\n    },\n    hasIonicRouter: () => false,\n    routeInfo: undefined,\n    setCurrentTab: () => undefined,\n    changeTab: (_tab, path) => {\n        if (typeof window !== 'undefined') {\n            window.location.pathname = path;\n        }\n    },\n    resetTab: (_tab, path) => {\n        if (typeof window !== 'undefined') {\n            window.location.pathname = path;\n        }\n    },\n});\n\nconst dashToPascalCase = (str) => str\n    .toLowerCase()\n    .split('-')\n    .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))\n    .join('');\nconst camelToDashCase = (str) => str.replace(/([A-Z])/g, (m) => `-${m[0].toLowerCase()}`);\n\nconst attachProps = (node, newProps, oldProps = {}) => {\n    // some test frameworks don't render DOM elements, so we test here to make sure we are dealing with DOM first\n    if (node instanceof Element) {\n        // add any classes in className to the class list\n        const className = getClassName(node.classList, newProps, oldProps);\n        if (className !== '') {\n            node.className = className;\n        }\n        Object.keys(newProps).forEach((name) => {\n            if (name === 'children' ||\n                name === 'style' ||\n                name === 'ref' ||\n                name === 'class' ||\n                name === 'className' ||\n                name === 'forwardedRef') {\n                return;\n            }\n            if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n                const eventName = name.substring(2);\n                const eventNameLc = eventName[0].toLowerCase() + eventName.substring(1);\n                if (!isCoveredByReact(eventNameLc)) {\n                    syncEvent(node, eventNameLc, newProps[name]);\n                }\n            }\n            else {\n                node[name] = newProps[name];\n                const propType = typeof newProps[name];\n                if (propType === 'string') {\n                    node.setAttribute(camelToDashCase(name), newProps[name]);\n                }\n            }\n        });\n    }\n};\nconst getClassName = (classList, newProps, oldProps) => {\n    const newClassProp = newProps.className || newProps.class;\n    const oldClassProp = oldProps.className || oldProps.class;\n    // map the classes to Maps for performance\n    const currentClasses = arrayToMap(classList);\n    const incomingPropClasses = arrayToMap(newClassProp ? newClassProp.split(' ') : []);\n    const oldPropClasses = arrayToMap(oldClassProp ? oldClassProp.split(' ') : []);\n    const finalClassNames = [];\n    // loop through each of the current classes on the component\n    // to see if it should be a part of the classNames added\n    currentClasses.forEach((currentClass) => {\n        if (incomingPropClasses.has(currentClass)) {\n            // add it as its already included in classnames coming in from newProps\n            finalClassNames.push(currentClass);\n            incomingPropClasses.delete(currentClass);\n        }\n        else if (!oldPropClasses.has(currentClass)) {\n            // add it as it has NOT been removed by user\n            finalClassNames.push(currentClass);\n        }\n    });\n    incomingPropClasses.forEach((s) => finalClassNames.push(s));\n    return finalClassNames.join(' ');\n};\n/**\n * Transforms a React event name to a browser event name.\n */\nconst transformReactEventName = (eventNameSuffix) => {\n    switch (eventNameSuffix) {\n        case 'doubleclick':\n            return 'dblclick';\n    }\n    return eventNameSuffix;\n};\n/**\n * Checks if an event is supported in the current execution environment.\n * @license Modernizr 3.0.0pre (Custom Build) | MIT\n */\nconst isCoveredByReact = (eventNameSuffix) => {\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    else {\n        const eventName = 'on' + transformReactEventName(eventNameSuffix);\n        let isSupported = eventName in document;\n        if (!isSupported) {\n            const element = document.createElement('div');\n            element.setAttribute(eventName, 'return;');\n            isSupported = typeof element[eventName] === 'function';\n        }\n        return isSupported;\n    }\n};\nconst syncEvent = (node, eventName, newEventHandler) => {\n    const eventStore = node.__events || (node.__events = {});\n    const oldEventHandler = eventStore[eventName];\n    // Remove old listener so they don't double up.\n    if (oldEventHandler) {\n        node.removeEventListener(eventName, oldEventHandler);\n    }\n    // Bind new listener.\n    node.addEventListener(eventName, (eventStore[eventName] = function handler(e) {\n        if (newEventHandler) {\n            newEventHandler.call(this, e);\n        }\n    }));\n};\nconst arrayToMap = (arr) => {\n    const map = new Map();\n    arr.forEach((s) => map.set(s, s));\n    return map;\n};\n\nconst setRef = (ref, value) => {\n    if (typeof ref === 'function') {\n        ref(value);\n    }\n    else if (ref != null) {\n        // Cast as a MutableRef so we can assign current\n        ref.current = value;\n    }\n};\nconst mergeRefs = (...refs) => {\n    return (value) => {\n        refs.forEach((ref) => {\n            setRef(ref, value);\n        });\n    };\n};\nconst createForwardRef$1 = (ReactComponent, displayName) => {\n    const forwardRef = (props, ref) => {\n        return React.createElement(ReactComponent, Object.assign({}, props, { forwardedRef: ref }));\n    };\n    forwardRef.displayName = displayName;\n    return React.forwardRef(forwardRef);\n};\nconst defineCustomElement = (tagName, customElement) => {\n    if (customElement !== undefined && typeof customElements !== 'undefined' && !customElements.get(tagName)) {\n        customElements.define(tagName, customElement);\n    }\n};\n\nconst createReactComponent = (tagName, ReactComponentContext, manipulatePropsFunction, defineCustomElement) => {\n    if (defineCustomElement !== undefined) {\n        defineCustomElement();\n    }\n    const displayName = dashToPascalCase(tagName);\n    const ReactComponent = class extends React.Component {\n        constructor(props) {\n            super(props);\n            this.setComponentElRef = (element) => {\n                this.componentEl = element;\n            };\n        }\n        componentDidMount() {\n            this.componentDidUpdate(this.props);\n        }\n        componentDidUpdate(prevProps) {\n            attachProps(this.componentEl, this.props, prevProps);\n        }\n        render() {\n            const _a = this.props, { children, forwardedRef, style, className, ref } = _a, cProps = __rest(_a, [\"children\", \"forwardedRef\", \"style\", \"className\", \"ref\"]);\n            let propsToPass = Object.keys(cProps).reduce((acc, name) => {\n                const value = cProps[name];\n                if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n                    const eventName = name.substring(2).toLowerCase();\n                    if (typeof document !== 'undefined' && isCoveredByReact(eventName)) {\n                        acc[name] = value;\n                    }\n                }\n                else {\n                    // we should only render strings, booleans, and numbers as attrs in html.\n                    // objects, functions, arrays etc get synced via properties on mount.\n                    const type = typeof value;\n                    if (type === 'string' || type === 'boolean' || type === 'number') {\n                        acc[camelToDashCase(name)] = value;\n                    }\n                }\n                return acc;\n            }, {});\n            if (manipulatePropsFunction) {\n                propsToPass = manipulatePropsFunction(this.props, propsToPass);\n            }\n            const newProps = Object.assign(Object.assign({}, propsToPass), { ref: mergeRefs(forwardedRef, this.setComponentElRef), style });\n            /**\n             * We use createElement here instead of\n             * React.createElement to work around a\n             * bug in Vite (https://github.com/vitejs/vite/issues/6104).\n             * React.createElement causes all elements to be rendered\n             * as <tagname> instead of the actual Web Component.\n             */\n            return createElement(tagName, newProps, children);\n        }\n        static get displayName() {\n            return displayName;\n        }\n    };\n    // If context was passed to createReactComponent then conditionally add it to the Component Class\n    if (ReactComponentContext) {\n        ReactComponent.contextType = ReactComponentContext;\n    }\n    return createForwardRef$1(ReactComponent, displayName);\n};\n\n/* eslint-disable */\n/* tslint:disable */\n/* auto-generated react proxies */\nconst IonAccordion = /*@__PURE__*/ createReactComponent('ion-accordion', undefined, undefined, defineCustomElement$1);\nconst IonAccordionGroup = /*@__PURE__*/ createReactComponent('ion-accordion-group', undefined, undefined, defineCustomElement$2);\nconst IonAvatar = /*@__PURE__*/ createReactComponent('ion-avatar', undefined, undefined, defineCustomElement$3);\nconst IonBackdrop = /*@__PURE__*/ createReactComponent('ion-backdrop', undefined, undefined, defineCustomElement$4);\nconst IonBadge = /*@__PURE__*/ createReactComponent('ion-badge', undefined, undefined, defineCustomElement$5);\nconst IonBreadcrumbs = /*@__PURE__*/ createReactComponent('ion-breadcrumbs', undefined, undefined, defineCustomElement$6);\nconst IonButtons = /*@__PURE__*/ createReactComponent('ion-buttons', undefined, undefined, defineCustomElement$7);\nconst IonCardContent = /*@__PURE__*/ createReactComponent('ion-card-content', undefined, undefined, defineCustomElement$8);\nconst IonCardHeader = /*@__PURE__*/ createReactComponent('ion-card-header', undefined, undefined, defineCustomElement$9);\nconst IonCardSubtitle = /*@__PURE__*/ createReactComponent('ion-card-subtitle', undefined, undefined, defineCustomElement$a);\nconst IonCardTitle = /*@__PURE__*/ createReactComponent('ion-card-title', undefined, undefined, defineCustomElement$b);\nconst IonCheckbox = /*@__PURE__*/ createReactComponent('ion-checkbox', undefined, undefined, defineCustomElement$c);\nconst IonChip = /*@__PURE__*/ createReactComponent('ion-chip', undefined, undefined, defineCustomElement$d);\nconst IonCol = /*@__PURE__*/ createReactComponent('ion-col', undefined, undefined, defineCustomElement$e);\nconst IonContent = /*@__PURE__*/ createReactComponent('ion-content', undefined, undefined, defineCustomElement$f);\nconst IonDatetime = /*@__PURE__*/ createReactComponent('ion-datetime', undefined, undefined, defineCustomElement$g);\nconst IonDatetimeButton = /*@__PURE__*/ createReactComponent('ion-datetime-button', undefined, undefined, defineCustomElement$h);\nconst IonFab = /*@__PURE__*/ createReactComponent('ion-fab', undefined, undefined, defineCustomElement$i);\nconst IonFabList = /*@__PURE__*/ createReactComponent('ion-fab-list', undefined, undefined, defineCustomElement$j);\nconst IonFooter = /*@__PURE__*/ createReactComponent('ion-footer', undefined, undefined, defineCustomElement$k);\nconst IonGrid = /*@__PURE__*/ createReactComponent('ion-grid', undefined, undefined, defineCustomElement$l);\nconst IonHeader = /*@__PURE__*/ createReactComponent('ion-header', undefined, undefined, defineCustomElement$m);\nconst IonImg = /*@__PURE__*/ createReactComponent('ion-img', undefined, undefined, defineCustomElement$n);\nconst IonInfiniteScroll = /*@__PURE__*/ createReactComponent('ion-infinite-scroll', undefined, undefined, defineCustomElement$o);\nconst IonInfiniteScrollContent = /*@__PURE__*/ createReactComponent('ion-infinite-scroll-content', undefined, undefined, defineCustomElement$p);\nconst IonInput = /*@__PURE__*/ createReactComponent('ion-input', undefined, undefined, defineCustomElement$q);\nconst IonInputPasswordToggle = /*@__PURE__*/ createReactComponent('ion-input-password-toggle', undefined, undefined, defineCustomElement$r);\nconst IonItemDivider = /*@__PURE__*/ createReactComponent('ion-item-divider', undefined, undefined, defineCustomElement$s);\nconst IonItemGroup = /*@__PURE__*/ createReactComponent('ion-item-group', undefined, undefined, defineCustomElement$t);\nconst IonItemOptions = /*@__PURE__*/ createReactComponent('ion-item-options', undefined, undefined, defineCustomElement$u);\nconst IonItemSliding = /*@__PURE__*/ createReactComponent('ion-item-sliding', undefined, undefined, defineCustomElement$v);\nconst IonLabel = /*@__PURE__*/ createReactComponent('ion-label', undefined, undefined, defineCustomElement$w);\nconst IonList = /*@__PURE__*/ createReactComponent('ion-list', undefined, undefined, defineCustomElement$x);\nconst IonListHeader = /*@__PURE__*/ createReactComponent('ion-list-header', undefined, undefined, defineCustomElement$y);\nconst IonMenu = /*@__PURE__*/ createReactComponent('ion-menu', undefined, undefined, defineCustomElement$z);\nconst IonMenuButton = /*@__PURE__*/ createReactComponent('ion-menu-button', undefined, undefined, defineCustomElement$A);\nconst IonMenuToggle = /*@__PURE__*/ createReactComponent('ion-menu-toggle', undefined, undefined, defineCustomElement$B);\nconst IonNavLink = /*@__PURE__*/ createReactComponent('ion-nav-link', undefined, undefined, defineCustomElement$C);\nconst IonNote = /*@__PURE__*/ createReactComponent('ion-note', undefined, undefined, defineCustomElement$D);\nconst IonPicker = /*@__PURE__*/ createReactComponent('ion-picker', undefined, undefined, defineCustomElement$E);\nconst IonPickerColumn = /*@__PURE__*/ createReactComponent('ion-picker-column', undefined, undefined, defineCustomElement$F);\nconst IonPickerColumnOption = /*@__PURE__*/ createReactComponent('ion-picker-column-option', undefined, undefined, defineCustomElement$G);\nconst IonProgressBar = /*@__PURE__*/ createReactComponent('ion-progress-bar', undefined, undefined, defineCustomElement$H);\nconst IonRadio = /*@__PURE__*/ createReactComponent('ion-radio', undefined, undefined, defineCustomElement$I);\nconst IonRadioGroup = /*@__PURE__*/ createReactComponent('ion-radio-group', undefined, undefined, defineCustomElement$J);\nconst IonRange = /*@__PURE__*/ createReactComponent('ion-range', undefined, undefined, defineCustomElement$K);\nconst IonRefresher = /*@__PURE__*/ createReactComponent('ion-refresher', undefined, undefined, defineCustomElement$L);\nconst IonRefresherContent = /*@__PURE__*/ createReactComponent('ion-refresher-content', undefined, undefined, defineCustomElement$M);\nconst IonReorder = /*@__PURE__*/ createReactComponent('ion-reorder', undefined, undefined, defineCustomElement$N);\nconst IonReorderGroup = /*@__PURE__*/ createReactComponent('ion-reorder-group', undefined, undefined, defineCustomElement$O);\nconst IonRippleEffect = /*@__PURE__*/ createReactComponent('ion-ripple-effect', undefined, undefined, defineCustomElement$P);\nconst IonRow = /*@__PURE__*/ createReactComponent('ion-row', undefined, undefined, defineCustomElement$Q);\nconst IonSearchbar = /*@__PURE__*/ createReactComponent('ion-searchbar', undefined, undefined, defineCustomElement$R);\nconst IonSegment = /*@__PURE__*/ createReactComponent('ion-segment', undefined, undefined, defineCustomElement$S);\nconst IonSegmentButton = /*@__PURE__*/ createReactComponent('ion-segment-button', undefined, undefined, defineCustomElement$T);\nconst IonSelect = /*@__PURE__*/ createReactComponent('ion-select', undefined, undefined, defineCustomElement$U);\nconst IonSelectOption = /*@__PURE__*/ createReactComponent('ion-select-option', undefined, undefined, defineCustomElement$V);\nconst IonSkeletonText = /*@__PURE__*/ createReactComponent('ion-skeleton-text', undefined, undefined, defineCustomElement$W);\nconst IonSpinner = /*@__PURE__*/ createReactComponent('ion-spinner', undefined, undefined, defineCustomElement$X);\nconst IonSplitPane = /*@__PURE__*/ createReactComponent('ion-split-pane', undefined, undefined, defineCustomElement$Y);\nconst IonTab = /*@__PURE__*/ createReactComponent('ion-tab', undefined, undefined, defineCustomElement$Z);\nconst IonText = /*@__PURE__*/ createReactComponent('ion-text', undefined, undefined, defineCustomElement$_);\nconst IonTextarea = /*@__PURE__*/ createReactComponent('ion-textarea', undefined, undefined, defineCustomElement$$);\nconst IonThumbnail = /*@__PURE__*/ createReactComponent('ion-thumbnail', undefined, undefined, defineCustomElement$10);\nconst IonTitle = /*@__PURE__*/ createReactComponent('ion-title', undefined, undefined, defineCustomElement$11);\nconst IonToggle = /*@__PURE__*/ createReactComponent('ion-toggle', undefined, undefined, defineCustomElement$12);\nconst IonToolbar = /*@__PURE__*/ createReactComponent('ion-toolbar', undefined, undefined, defineCustomElement$13);\n\nconst createForwardRef = (ReactComponent, // TODO(FW-2959): type\ndisplayName) => {\n    const forwardRef = (props, ref) => {\n        return React.createElement(ReactComponent, Object.assign({}, props, { forwardedRef: ref }));\n    };\n    forwardRef.displayName = displayName;\n    return React.forwardRef(forwardRef);\n};\nconst isPlatform = (platform) => {\n    return isPlatform$1(window, platform);\n};\nconst getPlatforms = () => {\n    return getPlatforms$1(window);\n};\nconst getConfig = () => {\n    if (typeof window !== 'undefined') {\n        const Ionic = window.Ionic;\n        if (Ionic && Ionic.config) {\n            return Ionic.config;\n        }\n    }\n    return null;\n};\n\nconst createRoutingComponent = (tagName, customElement) => {\n    defineCustomElement(tagName, customElement);\n    const displayName = dashToPascalCase(tagName);\n    const ReactComponent = class extends React.Component {\n        constructor(props) {\n            super(props);\n            this.handleClick = (e) => {\n                const { routerLink, routerDirection, routerOptions, routerAnimation } = this.props;\n                if (routerLink !== undefined) {\n                    e.preventDefault();\n                    this.context.navigate(routerLink, routerDirection, undefined, routerAnimation, routerOptions);\n                }\n            };\n            // Create a local ref to to attach props to the wrapped element.\n            this.ref = React.createRef();\n            // React refs must be stable (not created inline).\n            this.stableMergedRefs = mergeRefs(this.ref, this.props.forwardedRef);\n        }\n        componentDidMount() {\n            this.componentDidUpdate(this.props);\n        }\n        componentDidUpdate(prevProps) {\n            const node = this.ref.current;\n            attachProps(node, this.props, prevProps);\n        }\n        render() {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            const _a = this.props, { children, forwardedRef, style, className, ref } = _a, cProps = __rest(_a, [\"children\", \"forwardedRef\", \"style\", \"className\", \"ref\"]);\n            const propsToPass = Object.keys(cProps).reduce((acc, name) => {\n                if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n                    const eventName = name.substring(2).toLowerCase();\n                    if (isCoveredByReact(eventName)) {\n                        acc[name] = cProps[name];\n                    }\n                }\n                else if (['string', 'boolean', 'number'].includes(typeof cProps[name])) {\n                    acc[camelToDashCase(name)] = cProps[name];\n                }\n                return acc;\n            }, {});\n            const newProps = Object.assign(Object.assign({}, propsToPass), { ref: this.stableMergedRefs, style });\n            if (this.props.routerLink && !this.props.href) {\n                newProps.href = this.props.routerLink;\n            }\n            if (newProps.onClick) {\n                const oldClick = newProps.onClick;\n                newProps.onClick = (e) => {\n                    oldClick(e);\n                    if (!e.defaultPrevented) {\n                        this.handleClick(e);\n                    }\n                };\n            }\n            else {\n                newProps.onClick = this.handleClick;\n            }\n            return createElement(tagName, newProps, children);\n        }\n        static get displayName() {\n            return displayName;\n        }\n        static get contextType() {\n            return NavContext;\n        }\n    };\n    return createForwardRef(ReactComponent, displayName);\n};\n\nconst IonRouterLink = /*@__PURE__*/ createRoutingComponent('ion-router-link', IonRouterLink$1);\nconst IonButton = /*@__PURE__*/ createRoutingComponent('ion-button', IonButton$1);\nconst IonCard = /*@__PURE__*/ createRoutingComponent('ion-card', IonCard$1);\nconst IonFabButton = /*@__PURE__*/ createRoutingComponent('ion-fab-button', IonFabButton$1);\nconst IonItem = /*@__PURE__*/ createRoutingComponent('ion-item', IonItem$1);\nconst IonItemOption = /*@__PURE__*/ createRoutingComponent('ion-item-option', IonItemOption$1);\nconst IonBreadcrumb = /*@__PURE__*/ createRoutingComponent('ion-breadcrumb', IonBreadcrumb$1);\n\n/**\n * The @stencil/react-output-target will bind event listeners for any\n * attached props that use the `on` prefix. This function will remove\n * those event listeners when the component is unmounted.\n *\n * This prevents memory leaks and React state updates on unmounted components.\n */\nconst detachProps = (node, props) => {\n    if (node instanceof Element) {\n        Object.keys(props).forEach((name) => {\n            if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n                const eventName = name.substring(2);\n                const eventNameLc = eventName[0].toLowerCase() + eventName.substring(1);\n                if (!isCoveredByReact(eventNameLc)) {\n                    /**\n                     * Detach custom event bindings (not built-in React events)\n                     * that were added by the @stencil/react-output-target attachProps function.\n                     */\n                    detachEvent(node, eventNameLc);\n                }\n            }\n        });\n    }\n};\nconst detachEvent = (node, eventName) => {\n    const eventStore = node.__events || (node.__events = {});\n    /**\n     * If the event listener was added by attachProps, it will\n     * be stored in the __events object.\n     */\n    const eventHandler = eventStore[eventName];\n    if (eventHandler) {\n        node.removeEventListener(eventName, eventHandler);\n        eventStore[eventName] = undefined;\n    }\n};\n\nconst createInlineOverlayComponent = (tagName, defineCustomElement, hasDelegateHost) => {\n    if (defineCustomElement) {\n        defineCustomElement();\n    }\n    const displayName = dashToPascalCase(tagName);\n    const ReactComponent = class extends React.Component {\n        constructor(props) {\n            super(props);\n            this.handleIonMount = () => {\n                /**\n                 * Mount the inner component when the\n                 * overlay is about to open.\n                 *\n                 * For ion-popover, this is when `ionMount` is emitted.\n                 * For other overlays, this is when `willPresent` is emitted.\n                 */\n                this.setState({ isOpen: true });\n            };\n            this.handleWillPresent = (evt) => {\n                this.setState({ isOpen: true });\n                /**\n                 * Manually call the onWillPresent\n                 * handler if present as setState will\n                 * cause the event handlers to be\n                 * destroyed and re-created.\n                 */\n                this.props.onWillPresent && this.props.onWillPresent(evt);\n            };\n            this.handleDidDismiss = (evt) => {\n                const wrapper = this.wrapperRef.current;\n                const el = this.ref.current;\n                /**\n                 * This component might be unmounted already, if the containing\n                 * element was removed while the overlay was still open. (For\n                 * example, if an item contains an inline overlay with a button\n                 * that removes the item.)\n                 */\n                if (wrapper && el) {\n                    el.append(wrapper);\n                    this.setState({ isOpen: false });\n                }\n                this.props.onDidDismiss && this.props.onDidDismiss(evt);\n            };\n            // Create a local ref to to attach props to the wrapped element.\n            this.ref = React.createRef();\n            // React refs must be stable (not created inline).\n            this.stableMergedRefs = mergeRefs(this.ref, this.props.forwardedRef);\n            // Component is hidden by default\n            this.state = { isOpen: false };\n            // Create a local ref to the inner child element.\n            this.wrapperRef = React.createRef();\n        }\n        componentDidMount() {\n            var _a, _b, _c;\n            this.componentDidUpdate(this.props);\n            (_a = this.ref.current) === null || _a === void 0 ? void 0 : _a.addEventListener('ionMount', this.handleIonMount);\n            (_b = this.ref.current) === null || _b === void 0 ? void 0 : _b.addEventListener('willPresent', this.handleWillPresent);\n            (_c = this.ref.current) === null || _c === void 0 ? void 0 : _c.addEventListener('didDismiss', this.handleDidDismiss);\n        }\n        componentDidUpdate(prevProps) {\n            const node = this.ref.current;\n            /**\n             * onDidDismiss and onWillPresent have manual implementations that\n             * will invoke the original handler. We need to filter those out\n             * so they don't get attached twice and called twice.\n             */\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            const _a = this.props, cProps = __rest(_a, [\"onDidDismiss\", \"onWillPresent\"]);\n            attachProps(node, cProps, prevProps);\n        }\n        componentWillUnmount() {\n            const node = this.ref.current;\n            /**\n             * If the overlay is being unmounted, but is still\n             * open, this means the unmount was triggered outside\n             * of the overlay being dismissed.\n             *\n             * This can happen with:\n             * - The parent component being unmounted\n             * - The overlay being conditionally rendered\n             * - A route change (push/pop/replace)\n             *\n             * Unmounting the overlay at this stage should skip\n             * the dismiss lifecycle, including skipping the transition.\n             *\n             */\n            if (node && this.state.isOpen) {\n                /**\n                 * Detach the local event listener that performs the state updates,\n                 * before dismissing the overlay, to prevent the callback handlers\n                 * executing after the component has been unmounted. This is to\n                 * avoid memory leaks.\n                 */\n                node.removeEventListener('didDismiss', this.handleDidDismiss);\n                node.remove();\n                detachProps(node, this.props);\n            }\n        }\n        render() {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            const _a = this.props, { children, forwardedRef, style, className, ref } = _a, cProps = __rest(_a, [\"children\", \"forwardedRef\", \"style\", \"className\", \"ref\"]);\n            const propsToPass = Object.keys(cProps).reduce((acc, name) => {\n                if (name.indexOf('on') === 0 && name[2] === name[2].toUpperCase()) {\n                    const eventName = name.substring(2).toLowerCase();\n                    if (isCoveredByReact(eventName)) {\n                        acc[name] = cProps[name];\n                    }\n                }\n                else if (['string', 'boolean', 'number'].includes(typeof cProps[name])) {\n                    acc[camelToDashCase(name)] = cProps[name];\n                }\n                return acc;\n            }, {});\n            const newProps = Object.assign(Object.assign({}, propsToPass), { ref: this.stableMergedRefs, style });\n            /**\n             * Some overlays need `.ion-page` so content\n             * takes up the full size of the parent overlay.\n             */\n            const getWrapperClasses = () => {\n                if (hasDelegateHost) {\n                    return `${DELEGATE_HOST} ion-page`;\n                }\n                return DELEGATE_HOST;\n            };\n            return createElement('template', {}, createElement(tagName, newProps, \n            /**\n             * We only want the inner component\n             * to be mounted if the overlay is open,\n             * so conditionally render the component\n             * based on the isOpen state.\n             */\n            this.state.isOpen || this.props.keepContentsMounted\n                ? createElement('div', {\n                    ref: this.wrapperRef,\n                    className: getWrapperClasses(),\n                }, children)\n                : null));\n        }\n        static get displayName() {\n            return displayName;\n        }\n    };\n    return createForwardRef(ReactComponent, displayName);\n};\nconst DELEGATE_HOST = 'ion-delegate-host';\n\nconst IonAlert = /*@__PURE__*/ createInlineOverlayComponent('ion-alert', defineCustomElement$14);\n\nconst IonLoading = /*@__PURE__*/ createInlineOverlayComponent('ion-loading', defineCustomElement$15);\n\nconst IonToast = /*@__PURE__*/ createInlineOverlayComponent('ion-toast', defineCustomElement$16);\n\nconst IonPickerLegacy = /*@__PURE__*/ createInlineOverlayComponent('ion-picker-legacy', defineCustomElement$17);\n\nconst IonActionSheet = /*@__PURE__*/ createInlineOverlayComponent('ion-action-sheet', defineCustomElement$18);\n\nconst IonModal = /*@__PURE__*/ createInlineOverlayComponent('ion-modal', defineCustomElement$19, true);\n\nconst IonPopover = /*@__PURE__*/ createInlineOverlayComponent('ion-popover', defineCustomElement$1a);\n\nconst IonContext = React.createContext({\n    addOverlay: () => {\n        return;\n    },\n    removeOverlay: () => {\n        return;\n    },\n});\n\n/**\n * Manages overlays that are added via the useOverlay hook.\n * This is a standalone component so changes to its children don't cause other descendant\n * components to re-render when overlays are added. However, we need to communicate with the IonContext\n * that is set up in <IonApp />, so we register callbacks so when overlays are added to IonContext,\n * they ultimately added here.\n */\nconst IonOverlayManager = ({ onAddOverlay, onRemoveOverlay }) => {\n    /**\n     * Because of the way we're passing around the addOverlay and removeOverlay\n     * callbacks, by the time they finally get called, they use a stale reference\n     * to the state that only has the initial values. So if two overlays are opened\n     * at the same time, both using useIonModal or similar (such as through nesting),\n     * the second will erase the first from the overlays list. This causes the content\n     * of the first overlay to unmount.\n     *\n     * We wrap the state in useRef to ensure the two callbacks always use the most\n     * up-to-date version.\n     *\n     * Further reading: https://stackoverflow.com/a/56554056\n     */\n    const [overlays, setOverlays] = useState({});\n    const overlaysRef = useRef({});\n    useEffect(() => {\n        /* Setup the callbacks that get called from <IonApp /> */\n        onAddOverlay(addOverlay);\n        onRemoveOverlay(removeOverlay);\n    }, []);\n    const addOverlay = (id, component, containerElement) => {\n        const newOverlays = Object.assign({}, overlaysRef.current);\n        newOverlays[id] = { component, containerElement };\n        /**\n         * In order for this function to use the latest data\n         * we need to update the ref synchronously.\n         * However, updating a ref does not cause a re-render\n         * which is why we still update the state.\n         *\n         * Note that updating the ref in the body\n         * of IonOverlayManager is not sufficient\n         * because that relies on overlaysRef being\n         * updated as part of React's render loop. State updates\n         * are batched, so updating the state twice in quick succession does\n         * not necessarily result in 2 separate render calls.\n         * This means if two modals are added one after the other,\n         * the first modal will not have been added to\n         * overlaysRef since React has not re-rendered yet.\n         * More info: https://react.dev/reference/react/useState#setstate-caveats\n         */\n        overlaysRef.current = newOverlays;\n        setOverlays(newOverlays);\n    };\n    const removeOverlay = (id) => {\n        const newOverlays = Object.assign({}, overlaysRef.current);\n        delete newOverlays[id];\n        /**\n         * In order for this function to use the latest data\n         * we need to update the ref synchronously.\n         * However, updating a ref does not cause a re-render\n         * which is why we still update the state.\n         *\n         * Note that updating the ref in the body\n         * of IonOverlayManager is not sufficient\n         * because that relies on overlaysRef being\n         * updated as part of React's render loop. State updates\n         * are batched, so updating the state twice in quick succession does\n         * not necessarily result in 2 separate render calls.\n         * This means if two modals are added one after the other,\n         * the first modal will not have been added to\n         * overlaysRef since React has not re-rendered yet.\n         * More info: https://react.dev/reference/react/useState#setstate-caveats\n         */\n        overlaysRef.current = newOverlays;\n        setOverlays(newOverlays);\n    };\n    const overlayKeys = Object.keys(overlays);\n    return (React.createElement(React.Fragment, null, overlayKeys.map((key) => {\n        const overlay = overlays[key];\n        return ReactDOM.createPortal(overlay.component, overlay.containerElement, `overlay-${key}`);\n    })));\n};\n\nconst IonTabButtonInner = /*@__PURE__*/ createReactComponent('ion-tab-button', undefined, undefined, defineCustomElement$1e);\nconst IonTabBarInner = /*@__PURE__*/ createReactComponent('ion-tab-bar', undefined, undefined, defineCustomElement$1b);\nconst IonBackButtonInner = /*@__PURE__*/ createReactComponent('ion-back-button', undefined, undefined, defineCustomElement$1f);\nconst IonRouterOutletInner = /*@__PURE__*/ createReactComponent('ion-router-outlet', undefined, undefined, defineCustomElement$1c);\nconst IonAppInner = /*@__PURE__*/ createReactComponent('ion-app', undefined, undefined, defineCustomElement$1g);\n// ionicons\nconst IonIconInner = /*@__PURE__*/ createReactComponent('ion-icon', undefined, undefined, defineCustomElement$1d);\n\nconst IonApp = /*@__PURE__*/ (() => class extends React.Component {\n    constructor(props) {\n        super(props);\n        /*\n          Wire up methods to call into IonOverlayManager\n        */\n        this.ionContext = {\n            addOverlay: (id, overlay, containerElement) => {\n                if (this.addOverlayCallback) {\n                    this.addOverlayCallback(id, overlay, containerElement);\n                }\n            },\n            removeOverlay: (id) => {\n                if (this.removeOverlayCallback) {\n                    this.removeOverlayCallback(id);\n                }\n            },\n        };\n    }\n    render() {\n        return (React.createElement(IonContext.Provider, { value: this.ionContext },\n            React.createElement(IonAppInner, Object.assign({}, this.props), this.props.children),\n            React.createElement(IonOverlayManager, { onAddOverlay: (callback) => {\n                    this.addOverlayCallback = callback;\n                }, onRemoveOverlay: (callback) => {\n                    this.removeOverlayCallback = callback;\n                } })));\n    }\n    static get displayName() {\n        return 'IonApp';\n    }\n})();\n\nconst StackContext = React.createContext({\n    registerIonPage: () => undefined,\n    isInOutlet: () => false,\n});\n\nclass PageManager extends React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.ionPageElementRef = React.createRef();\n        // React refs must be stable (not created inline).\n        this.stableMergedRefs = mergeRefs(this.ionPageElementRef, this.props.forwardedRef);\n        /**\n         * This binds the scope of the following methods to the class scope.\n         * The `.bind` method returns a new function, so we need to assign it\n         * in the constructor rather than when adding or removing the listeners\n         * to avoid creating a new function.\n         */\n        this.ionViewWillEnterHandler = this.ionViewWillEnterHandler.bind(this);\n        this.ionViewDidEnterHandler = this.ionViewDidEnterHandler.bind(this);\n        this.ionViewWillLeaveHandler = this.ionViewWillLeaveHandler.bind(this);\n        this.ionViewDidLeaveHandler = this.ionViewDidLeaveHandler.bind(this);\n    }\n    componentDidMount() {\n        if (this.ionPageElementRef.current) {\n            if (this.context.isInOutlet()) {\n                this.ionPageElementRef.current.classList.add('ion-page-invisible');\n            }\n            this.context.registerIonPage(this.ionPageElementRef.current, this.props.routeInfo);\n            this.ionPageElementRef.current.addEventListener('ionViewWillEnter', this.ionViewWillEnterHandler);\n            this.ionPageElementRef.current.addEventListener('ionViewDidEnter', this.ionViewDidEnterHandler);\n            this.ionPageElementRef.current.addEventListener('ionViewWillLeave', this.ionViewWillLeaveHandler);\n            this.ionPageElementRef.current.addEventListener('ionViewDidLeave', this.ionViewDidLeaveHandler);\n        }\n    }\n    componentWillUnmount() {\n        if (this.ionPageElementRef.current) {\n            this.ionPageElementRef.current.removeEventListener('ionViewWillEnter', this.ionViewWillEnterHandler);\n            this.ionPageElementRef.current.removeEventListener('ionViewDidEnter', this.ionViewDidEnterHandler);\n            this.ionPageElementRef.current.removeEventListener('ionViewWillLeave', this.ionViewWillLeaveHandler);\n            /**\n             * We deliberately do not remove the `ionViewDidLeave` listener.\n             * The registered callback is used to unmount and remove the page.\n             * Removing the event listener prevents the callback from being called.\n             * The browser will automatically remove the event listener when the\n             * page element is removed from the DOM and garbage collected.\n             */\n        }\n    }\n    ionViewWillEnterHandler() {\n        this.ionLifeCycleContext.ionViewWillEnter();\n    }\n    ionViewDidEnterHandler() {\n        this.ionLifeCycleContext.ionViewDidEnter();\n    }\n    ionViewWillLeaveHandler() {\n        this.ionLifeCycleContext.ionViewWillLeave();\n    }\n    ionViewDidLeaveHandler() {\n        this.ionLifeCycleContext.ionViewDidLeave();\n    }\n    render() {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _a = this.props, { className, children, routeInfo, forwardedRef } = _a, props = __rest(_a, [\"className\", \"children\", \"routeInfo\", \"forwardedRef\"]);\n        return (React.createElement(IonLifeCycleContext.Consumer, null, (context) => {\n            this.ionLifeCycleContext = context;\n            return (React.createElement(\"div\", Object.assign({ className: className ? `${className} ion-page` : `ion-page`, ref: this.stableMergedRefs }, props), children));\n        }));\n    }\n    static get contextType() {\n        return StackContext;\n    }\n}\n\nclass IonPageInternal extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n    render() {\n        const _a = this.props, { className, children, forwardedRef } = _a, props = __rest(_a, [\"className\", \"children\", \"forwardedRef\"]);\n        return this.context.hasIonicRouter() ? (React.createElement(PageManager, Object.assign({ className: className ? `${className}` : '', routeInfo: this.context.routeInfo, forwardedRef: forwardedRef }, props), children)) : (React.createElement(\"div\", Object.assign({ className: className ? `ion-page ${className}` : 'ion-page', ref: forwardedRef }, props), children));\n    }\n    static get displayName() {\n        return 'IonPage';\n    }\n    static get contextType() {\n        return NavContext;\n    }\n}\nconst IonPage = createForwardRef(IonPageInternal, 'IonPage');\n\nconst ids = { main: 0 };\nconst generateId = (type = 'main') => {\n    var _a;\n    const id = ((_a = ids[type]) !== null && _a !== void 0 ? _a : 0) + 1;\n    ids[type] = id;\n    return id.toString();\n};\n\nconst ReactDelegate = (addView, removeView) => {\n    const refMap = new WeakMap();\n    const reactDelegateId = `react-delegate-${generateId()}`;\n    // Incrementing counter to generate unique keys for each view\n    let id = 0;\n    const attachViewToDom = async (parentElement, component, propsOrDataObj, cssClasses) => {\n        const div = document.createElement('div');\n        cssClasses && div.classList.add(...cssClasses);\n        parentElement.appendChild(div);\n        const componentWithProps = component(propsOrDataObj);\n        const key = `${reactDelegateId}-${id++}`;\n        const hostComponent = createPortal(componentWithProps, div, key);\n        refMap.set(div, hostComponent);\n        addView(hostComponent);\n        return Promise.resolve(div);\n    };\n    const removeViewFromDom = (_container, component) => {\n        const hostComponent = refMap.get(component);\n        hostComponent && removeView(hostComponent);\n        component.remove();\n        return Promise.resolve();\n    };\n    return {\n        attachViewToDom,\n        removeViewFromDom,\n    };\n};\n\nconst IonNavInner = createReactComponent('ion-nav', undefined, undefined, defineCustomElement$1h);\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nconst IonNavInternal = (_a) => {\n    var { children, forwardedRef } = _a, restOfProps = __rest(_a, [\"children\", \"forwardedRef\"]);\n    const [views, setViews] = useState([]);\n    /**\n     * Allows us to create React components that are rendered within\n     * the context of the IonNav component.\n     */\n    const addView = (view) => setViews((existingViews) => [...existingViews, view]);\n    const removeView = (view) => setViews((existingViews) => existingViews.filter((v) => v !== view));\n    const delegate = useMemo(() => ReactDelegate(addView, removeView), []);\n    return (React.createElement(IonNavInner, Object.assign({ delegate: delegate, ref: forwardedRef }, restOfProps), views));\n};\nconst IonNav = createForwardRef(IonNavInternal, 'IonNav');\n\nconst IonTabsContext = React.createContext({\n    activeTab: undefined,\n    selectTab: () => false,\n});\n\nconst HTMLElementSSR = (typeof HTMLElement !== 'undefined' ? HTMLElement : class {\n});\n\nclass OutletPageManager extends React.Component {\n    constructor(props) {\n        super(props);\n        this.outletIsReady = false;\n        /**\n         * This binds the scope of the following methods to the class scope.\n         * The `.bind` method returns a new function, so we need to assign it\n         * in the constructor rather than when adding or removing the listeners\n         * to avoid creating a new function.\n         */\n        this.ionViewWillEnterHandler = this.ionViewWillEnterHandler.bind(this);\n        this.ionViewDidEnterHandler = this.ionViewDidEnterHandler.bind(this);\n        this.ionViewWillLeaveHandler = this.ionViewWillLeaveHandler.bind(this);\n        this.ionViewDidLeaveHandler = this.ionViewDidLeaveHandler.bind(this);\n    }\n    componentDidMount() {\n        if (this.ionRouterOutlet) {\n            /**\n             * This avoids multiple raf calls\n             * when React unmounts + remounts components.\n             */\n            if (!this.outletIsReady) {\n                componentOnReady(this.ionRouterOutlet, () => {\n                    this.outletIsReady = true;\n                    this.context.registerIonPage(this.ionRouterOutlet, this.props.routeInfo);\n                });\n            }\n            this.ionRouterOutlet.addEventListener('ionViewWillEnter', this.ionViewWillEnterHandler);\n            this.ionRouterOutlet.addEventListener('ionViewDidEnter', this.ionViewDidEnterHandler);\n            this.ionRouterOutlet.addEventListener('ionViewWillLeave', this.ionViewWillLeaveHandler);\n            this.ionRouterOutlet.addEventListener('ionViewDidLeave', this.ionViewDidLeaveHandler);\n        }\n    }\n    componentWillUnmount() {\n        if (this.ionRouterOutlet) {\n            this.ionRouterOutlet.removeEventListener('ionViewWillEnter', this.ionViewWillEnterHandler);\n            this.ionRouterOutlet.removeEventListener('ionViewDidEnter', this.ionViewDidEnterHandler);\n            this.ionRouterOutlet.removeEventListener('ionViewWillLeave', this.ionViewWillLeaveHandler);\n            this.ionRouterOutlet.removeEventListener('ionViewDidLeave', this.ionViewDidLeaveHandler);\n        }\n    }\n    ionViewWillEnterHandler() {\n        this.ionLifeCycleContext.ionViewWillEnter();\n    }\n    ionViewDidEnterHandler() {\n        this.ionLifeCycleContext.ionViewDidEnter();\n    }\n    ionViewWillLeaveHandler() {\n        this.ionLifeCycleContext.ionViewWillLeave();\n    }\n    ionViewDidLeaveHandler() {\n        this.ionLifeCycleContext.ionViewDidLeave();\n    }\n    render() {\n        const _a = this.props, { StackManager, children, routeInfo } = _a, props = __rest(_a, [\"StackManager\", \"children\", \"routeInfo\"]);\n        return (React.createElement(IonLifeCycleContext.Consumer, null, (context) => {\n            this.ionLifeCycleContext = context;\n            return (React.createElement(StackManager, { routeInfo: routeInfo },\n                React.createElement(IonRouterOutletInner, Object.assign({ setRef: (val) => (this.ionRouterOutlet = val) }, props), children)));\n        }));\n    }\n    static get contextType() {\n        return StackContext;\n    }\n}\n\nclass IonRouterOutletContainer extends React.Component {\n    constructor(props) {\n        super(props);\n    }\n    render() {\n        const StackManager = this.context.getStackManager();\n        const _a = this.props, { children, forwardedRef } = _a, props = __rest(_a, [\"children\", \"forwardedRef\"]);\n        return this.context.hasIonicRouter() ? (props.ionPage ? (React.createElement(OutletPageManager, Object.assign({ StackManager: StackManager, routeInfo: this.context.routeInfo }, props), children)) : (React.createElement(StackManager, { routeInfo: this.context.routeInfo },\n            React.createElement(IonRouterOutletInner, Object.assign({}, props, { forwardedRef: forwardedRef }), children)))) : (React.createElement(IonRouterOutletInner, Object.assign({ ref: forwardedRef }, this.props), this.props.children));\n    }\n    static get contextType() {\n        return NavContext;\n    }\n}\nconst IonRouterOutlet = createForwardRef(IonRouterOutletContainer, 'IonRouterOutlet');\n\nconst IonTabButton = /*@__PURE__*/ (() => class extends React.Component {\n    constructor(props) {\n        super(props);\n        this.handleIonTabButtonClick = this.handleIonTabButtonClick.bind(this);\n    }\n    handleIonTabButtonClick() {\n        if (this.props.onClick) {\n            this.props.onClick(new CustomEvent('ionTabButtonClick', {\n                detail: {\n                    tab: this.props.tab,\n                    href: this.props.href,\n                    routeOptions: this.props.routerOptions,\n                },\n            }));\n        }\n    }\n    render() {\n        /**\n         * onClick is excluded from the props, since it has a custom\n         * implementation within IonTabBar.tsx. Calling onClick within this\n         * component would result in duplicate handler calls.\n         */\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const _a = this.props, rest = __rest(_a, [\"onClick\"]);\n        return React.createElement(IonTabButtonInner, Object.assign({ onIonTabButtonClick: this.handleIonTabButtonClick }, rest));\n    }\n    static get displayName() {\n        return 'IonTabButton';\n    }\n})();\n\n// TODO(FW-2959): types\nclass IonTabBarUnwrapped extends React.PureComponent {\n    constructor(props) {\n        super(props);\n        // eslint-disable-next-line\n        this.setActiveTabOnContext = (_tab) => { };\n        const tabs = {};\n        React.Children.forEach(props.children, (child) => {\n            var _a, _b, _c, _d;\n            if (child != null &&\n                typeof child === 'object' &&\n                child.props &&\n                (child.type === IonTabButton || child.type.isTabButton)) {\n                tabs[child.props.tab] = {\n                    originalHref: child.props.href,\n                    currentHref: child.props.href,\n                    originalRouteOptions: child.props.href === ((_a = props.routeInfo) === null || _a === void 0 ? void 0 : _a.pathname) ? (_b = props.routeInfo) === null || _b === void 0 ? void 0 : _b.routeOptions : undefined,\n                    currentRouteOptions: child.props.href === ((_c = props.routeInfo) === null || _c === void 0 ? void 0 : _c.pathname) ? (_d = props.routeInfo) === null || _d === void 0 ? void 0 : _d.routeOptions : undefined,\n                };\n            }\n        });\n        this.state = {\n            tabs,\n        };\n        this.onTabButtonClick = this.onTabButtonClick.bind(this);\n        this.renderTabButton = this.renderTabButton.bind(this);\n        this.setActiveTabOnContext = this.setActiveTabOnContext.bind(this);\n        this.selectTab = this.selectTab.bind(this);\n    }\n    componentDidMount() {\n        const tabs = this.state.tabs;\n        const tabKeys = Object.keys(tabs);\n        const activeTab = tabKeys.find((key) => {\n            const href = tabs[key].originalHref;\n            return this.props.routeInfo.pathname.startsWith(href);\n        });\n        if (activeTab) {\n            this.setState({\n                activeTab,\n            });\n        }\n    }\n    componentDidUpdate() {\n        if (this.state.activeTab) {\n            this.setActiveTabOnContext(this.state.activeTab);\n        }\n    }\n    selectTab(tab) {\n        const tabUrl = this.state.tabs[tab];\n        if (tabUrl) {\n            this.onTabButtonClick(new CustomEvent('ionTabButtonClick', {\n                detail: {\n                    href: tabUrl.currentHref,\n                    tab,\n                    selected: tab === this.state.activeTab,\n                    routeOptions: undefined,\n                },\n            }));\n            return true;\n        }\n        return false;\n    }\n    static getDerivedStateFromProps(props, state) {\n        var _a, _b, _c;\n        const tabs = Object.assign({}, state.tabs);\n        const tabKeys = Object.keys(state.tabs);\n        const activeTab = tabKeys.find((key) => {\n            const href = state.tabs[key].originalHref;\n            return props.routeInfo.pathname.startsWith(href);\n        });\n        // Check to see if the tab button href has changed, and if so, update it in the tabs state\n        React.Children.forEach(props.children, (child) => {\n            if (child != null &&\n                typeof child === 'object' &&\n                child.props &&\n                (child.type === IonTabButton || child.type.isTabButton)) {\n                const tab = tabs[child.props.tab];\n                if (!tab || tab.originalHref !== child.props.href) {\n                    tabs[child.props.tab] = {\n                        originalHref: child.props.href,\n                        currentHref: child.props.href,\n                        originalRouteOptions: child.props.routeOptions,\n                        currentRouteOptions: child.props.routeOptions,\n                    };\n                }\n            }\n        });\n        const { activeTab: prevActiveTab } = state;\n        if (activeTab && prevActiveTab) {\n            const prevHref = state.tabs[prevActiveTab].currentHref;\n            const prevRouteOptions = state.tabs[prevActiveTab].currentRouteOptions;\n            if (activeTab !== prevActiveTab ||\n                prevHref !== ((_a = props.routeInfo) === null || _a === void 0 ? void 0 : _a.pathname) ||\n                prevRouteOptions !== ((_b = props.routeInfo) === null || _b === void 0 ? void 0 : _b.routeOptions)) {\n                tabs[activeTab] = {\n                    originalHref: tabs[activeTab].originalHref,\n                    currentHref: props.routeInfo.pathname + (props.routeInfo.search || ''),\n                    originalRouteOptions: tabs[activeTab].originalRouteOptions,\n                    currentRouteOptions: (_c = props.routeInfo) === null || _c === void 0 ? void 0 : _c.routeOptions,\n                };\n                if (props.routeInfo.routeAction === 'pop' && activeTab !== prevActiveTab) {\n                    // If navigating back and the tabs change, set the prev tab back to its original href\n                    tabs[prevActiveTab] = {\n                        originalHref: tabs[prevActiveTab].originalHref,\n                        currentHref: tabs[prevActiveTab].originalHref,\n                        originalRouteOptions: tabs[prevActiveTab].originalRouteOptions,\n                        currentRouteOptions: tabs[prevActiveTab].currentRouteOptions,\n                    };\n                }\n            }\n        }\n        activeTab && props.onSetCurrentTab(activeTab, props.routeInfo);\n        return {\n            activeTab,\n            tabs,\n        };\n    }\n    onTabButtonClick(e, onClickFn) {\n        const tappedTab = this.state.tabs[e.detail.tab];\n        const originalHref = tappedTab.originalHref;\n        const currentHref = e.detail.href;\n        const { activeTab: prevActiveTab } = this.state;\n        if (onClickFn) {\n            /**\n             * If the user provides an onClick function, we call it\n             * with the original event.\n             */\n            onClickFn(e);\n        }\n        // this.props.onSetCurrentTab(e.detail.tab, this.props.routeInfo);\n        // Clicking the current tab will bring you back to the original href\n        if (prevActiveTab === e.detail.tab) {\n            if (originalHref !== currentHref) {\n                this.context.resetTab(e.detail.tab, originalHref, tappedTab.originalRouteOptions);\n            }\n        }\n        else {\n            if (this.props.onIonTabsWillChange) {\n                this.props.onIonTabsWillChange(new CustomEvent('ionTabWillChange', { detail: { tab: e.detail.tab } }));\n            }\n            if (this.props.onIonTabsDidChange) {\n                this.props.onIonTabsDidChange(new CustomEvent('ionTabDidChange', { detail: { tab: e.detail.tab } }));\n            }\n            this.setActiveTabOnContext(e.detail.tab);\n            this.context.changeTab(e.detail.tab, currentHref, e.detail.routeOptions);\n        }\n    }\n    renderTabButton(activeTab) {\n        return (child) => {\n            var _a, _b;\n            if (child != null && child.props && (child.type === IonTabButton || child.type.isTabButton)) {\n                const href = child.props.tab === activeTab\n                    ? (_a = this.props.routeInfo) === null || _a === void 0 ? void 0 : _a.pathname\n                    : this.state.tabs[child.props.tab].currentHref;\n                const routeOptions = child.props.tab === activeTab\n                    ? (_b = this.props.routeInfo) === null || _b === void 0 ? void 0 : _b.routeOptions\n                    : this.state.tabs[child.props.tab].currentRouteOptions;\n                return React.cloneElement(child, {\n                    href,\n                    routeOptions,\n                    onClick: (ev) => this.onTabButtonClick(ev, child.props.onClick),\n                });\n            }\n            return null;\n        };\n    }\n    render() {\n        const { activeTab } = this.state;\n        return (React.createElement(IonTabBarInner, Object.assign({}, this.props, { selectedTab: activeTab }), React.Children.map(this.props.children, this.renderTabButton(activeTab))));\n    }\n    static get contextType() {\n        return NavContext;\n    }\n}\nconst IonTabBarContainer = React.memo((_a) => {\n    var { forwardedRef } = _a, props = __rest(_a, [\"forwardedRef\"]);\n    const context = useContext(NavContext);\n    return (React.createElement(IonTabBarUnwrapped, Object.assign({ ref: forwardedRef }, props, { routeInfo: props.routeInfo || context.routeInfo || { pathname: window.location.pathname }, onSetCurrentTab: context.setCurrentTab }), props.children));\n});\nconst IonTabBar = createForwardRef(IonTabBarContainer, 'IonTabBar');\n\nclass IonTabsElement extends HTMLElementSSR {\n    constructor() {\n        super();\n    }\n}\n// TODO(FW-2959): types\nif (typeof window !== 'undefined' && window.customElements) {\n    const element = window.customElements.get('ion-tabs');\n    if (!element) {\n        window.customElements.define('ion-tabs', IonTabsElement);\n    }\n}\nconst hostStyles = {\n    display: 'flex',\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    right: '0',\n    bottom: '0',\n    flexDirection: 'column',\n    width: '100%',\n    height: '100%',\n    contain: 'layout size style',\n};\nconst tabsInner = {\n    position: 'relative',\n    flex: 1,\n    contain: 'layout size style',\n};\nconst IonTabs = /*@__PURE__*/ (() => class extends React.Component {\n    constructor(props) {\n        super(props);\n        this.routerOutletRef = React.createRef();\n        this.tabBarRef = React.createRef();\n        this.ionTabContextState = {\n            activeTab: undefined,\n            selectTab: () => false,\n        };\n    }\n    componentDidMount() {\n        if (this.tabBarRef.current) {\n            // Grab initial value\n            this.ionTabContextState.activeTab = this.tabBarRef.current.state.activeTab;\n            // Override method\n            this.tabBarRef.current.setActiveTabOnContext = (tab) => {\n                this.ionTabContextState.activeTab = tab;\n            };\n            this.ionTabContextState.selectTab = this.tabBarRef.current.selectTab;\n        }\n    }\n    render() {\n        let outlet;\n        let tabBar;\n        const _a = this.props, { className, onIonTabsDidChange, onIonTabsWillChange } = _a, props = __rest(_a, [\"className\", \"onIonTabsDidChange\", \"onIonTabsWillChange\"]);\n        const children = typeof this.props.children === 'function'\n            ? this.props.children(this.ionTabContextState)\n            : this.props.children;\n        React.Children.forEach(children, (child) => {\n            // eslint-disable-next-line no-prototype-builtins\n            if (child == null || typeof child !== 'object' || !child.hasOwnProperty('type')) {\n                return;\n            }\n            if (child.type === IonRouterOutlet || child.type.isRouterOutlet) {\n                outlet = React.cloneElement(child);\n            }\n            else if (child.type === Fragment && child.props.children[0].type === IonRouterOutlet) {\n                outlet = child.props.children[0];\n            }\n            let childProps = {\n                ref: this.tabBarRef,\n            };\n            /**\n             * Only pass these props\n             * down from IonTabs to IonTabBar\n             * if they are defined, otherwise\n             * if you have a handler set on\n             * IonTabBar it will be overridden.\n             */\n            if (onIonTabsDidChange !== undefined) {\n                childProps = Object.assign(Object.assign({}, childProps), { onIonTabsDidChange });\n            }\n            if (onIonTabsWillChange !== undefined) {\n                childProps = Object.assign(Object.assign({}, childProps), { onIonTabsWillChange });\n            }\n            if (child.type === IonTabBar || child.type.isTabBar) {\n                tabBar = React.cloneElement(child, childProps);\n            }\n            else if (child.type === Fragment &&\n                (child.props.children[1].type === IonTabBar || child.props.children[1].type.isTabBar)) {\n                tabBar = React.cloneElement(child.props.children[1], childProps);\n            }\n        });\n        if (!outlet) {\n            throw new Error('IonTabs must contain an IonRouterOutlet');\n        }\n        if (!tabBar) {\n            throw new Error('IonTabs needs a IonTabBar');\n        }\n        return (React.createElement(IonTabsContext.Provider, { value: this.ionTabContextState }, this.context.hasIonicRouter() ? (React.createElement(PageManager, Object.assign({ className: className ? `${className}` : '', routeInfo: this.context.routeInfo }, props),\n            React.createElement(\"ion-tabs\", { className: \"ion-tabs\", style: hostStyles },\n                tabBar.props.slot === 'top' ? tabBar : null,\n                React.createElement(\"div\", { style: tabsInner, className: \"tabs-inner\" }, outlet),\n                tabBar.props.slot === 'bottom' ? tabBar : null))) : (React.createElement(\"div\", Object.assign({ className: className ? `${className}` : 'ion-tabs' }, props, { style: hostStyles }),\n            tabBar.props.slot === 'top' ? tabBar : null,\n            React.createElement(\"div\", { style: tabsInner, className: \"tabs-inner\" }, outlet),\n            tabBar.props.slot === 'bottom' ? tabBar : null))));\n    }\n    static get contextType() {\n        return NavContext;\n    }\n})();\n\nconst IonBackButton = /*@__PURE__*/ (() => class extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.clickButton = (e) => {\n            /**\n             * If ion-back-button is being used inside\n             * of ion-nav then we should not interact with\n             * the router.\n             */\n            if (e.target && e.target.closest('ion-nav') !== null) {\n                return;\n            }\n            const { defaultHref, routerAnimation } = this.props;\n            if (this.context.hasIonicRouter()) {\n                e.stopPropagation();\n                this.context.goBack(defaultHref, routerAnimation);\n            }\n            else if (defaultHref !== undefined) {\n                window.location.href = defaultHref;\n            }\n        };\n    }\n    render() {\n        return React.createElement(IonBackButtonInner, Object.assign({ onClick: this.clickButton }, this.props));\n    }\n    static get displayName() {\n        return 'IonBackButton';\n    }\n    static get contextType() {\n        return NavContext;\n    }\n})();\n\nclass IonIconContainer extends React.PureComponent {\n    constructor(props) {\n        super(props);\n        if (this.props.name) {\n            console.warn('In Ionic React, you import icons from \"ionicons/icons\" and set the icon you imported to the \"icon\" property. Setting the \"name\" property has no effect.');\n        }\n    }\n    render() {\n        var _a, _b;\n        const _c = this.props, { icon, ios, md, mode } = _c, rest = __rest(_c, [\"icon\", \"ios\", \"md\", \"mode\"]);\n        let iconToUse;\n        const config = getConfig();\n        const iconMode = mode || (config === null || config === void 0 ? void 0 : config.get('mode'));\n        if (ios || md) {\n            if (iconMode === 'ios') {\n                iconToUse = (_a = ios !== null && ios !== void 0 ? ios : md) !== null && _a !== void 0 ? _a : icon;\n            }\n            else {\n                iconToUse = (_b = md !== null && md !== void 0 ? md : ios) !== null && _b !== void 0 ? _b : icon;\n            }\n        }\n        else {\n            iconToUse = icon;\n        }\n        return (React.createElement(IonIconInner, Object.assign({ ref: this.props.forwardedRef, icon: iconToUse }, rest), this.props.children));\n    }\n    static get contextType() {\n        return NavContext;\n    }\n}\nconst IonIcon = createForwardRef(IonIconContainer, 'IonIcon');\n\nclass IonRoute extends React.PureComponent {\n    render() {\n        const IonRouteInner = this.context.getIonRoute();\n        if (!this.context.hasIonicRouter() || !IonRoute) {\n            console.error('You either do not have an Ionic Router package, or your router does not support using <IonRoute>');\n            return null;\n        }\n        return React.createElement(IonRouteInner, Object.assign({}, this.props));\n    }\n    static get contextType() {\n        return NavContext;\n    }\n}\n\nclass IonRedirect extends React.PureComponent {\n    render() {\n        const IonRedirectInner = this.context.getIonRedirect();\n        if (!this.context.hasIonicRouter() || !IonRedirect) {\n            console.error('You either do not have an Ionic Router package, or your router does not support using <IonRedirect>');\n            return null;\n        }\n        return React.createElement(IonRedirectInner, Object.assign({}, this.props));\n    }\n    static get contextType() {\n        return NavContext;\n    }\n}\n\nconst IonRouterContext = React.createContext({\n    routeInfo: undefined,\n    push: () => {\n        throw new Error('An Ionic Router is required for IonRouterContext');\n    },\n    back: () => {\n        throw new Error('An Ionic Router is required for IonRouterContext');\n    },\n    canGoBack: () => {\n        throw new Error('An Ionic Router is required for IonRouterContext');\n    },\n    nativeBack: () => {\n        throw new Error('An Ionic Router is required for IonRouterContext');\n    },\n});\n/**\n * A hook for more direct control over routing in an Ionic React application. Allows you to pass additional meta-data to the router before the call to the native router.\n */\nfunction useIonRouter() {\n    const context = useContext(IonRouterContext);\n    return useMemo(() => ({\n        back: context.back,\n        push: context.push,\n        goBack: context.back,\n        canGoBack: context.canGoBack,\n        routeInfo: context.routeInfo,\n    }), [context.back, context.push, context.canGoBack, context.routeInfo]);\n}\n\nclass CreateAnimation extends React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.nodes = new Map();\n        this.animation = createAnimation(props.id);\n    }\n    setupAnimation(props) {\n        const animation = this.animation;\n        if (this.nodes.size > 0) {\n            animation.addElement(Array.from(this.nodes.values()));\n        }\n        checkConfig(animation, props);\n        checkPlayback(animation, props);\n    }\n    componentDidMount() {\n        const props = this.props;\n        this.setupAnimation(props);\n    }\n    componentDidUpdate(prevProps) {\n        const animation = this.animation;\n        const props = this.props;\n        checkConfig(animation, props, prevProps);\n        checkProgress(animation, props, prevProps);\n        checkPlayback(animation, props, prevProps);\n    }\n    render() {\n        const { children } = this.props;\n        return (React.createElement(React.Fragment, null, React.Children.map(children, (child, id) => React.cloneElement(child, { ref: (el) => this.nodes.set(id, el) }))));\n    }\n}\nconst checkConfig = (animation, currentProps = {}, prevProps = {}) => {\n    const reservedProps = [\n        'children',\n        'progressStart',\n        'progressStep',\n        'progressEnd',\n        'pause',\n        'stop',\n        'destroy',\n        'play',\n        'from',\n        'to',\n        'fromTo',\n        'onFinish',\n    ];\n    for (const key in currentProps) {\n        if (\n        // eslint-disable-next-line no-prototype-builtins\n        currentProps.hasOwnProperty(key) &&\n            !reservedProps.includes(key) &&\n            currentProps[key] !== prevProps[key]) {\n            animation[key](currentProps[key]);\n        }\n    }\n    const fromValues = currentProps.from;\n    if (fromValues && fromValues !== prevProps.from) {\n        const values = Array.isArray(fromValues) ? fromValues : [fromValues];\n        values.forEach((val) => animation.from(val.property, val.value));\n    }\n    const toValues = currentProps.to;\n    if (toValues && toValues !== prevProps.to) {\n        const values = Array.isArray(toValues) ? toValues : [toValues];\n        values.forEach((val) => animation.to(val.property, val.value));\n    }\n    const fromToValues = currentProps.fromTo;\n    if (fromToValues && fromToValues !== prevProps.fromTo) {\n        const values = Array.isArray(fromToValues) ? fromToValues : [fromToValues];\n        values.forEach((val) => animation.fromTo(val.property, val.fromValue, val.toValue));\n    }\n    const onFinishValues = currentProps.onFinish;\n    if (onFinishValues && onFinishValues !== prevProps.onFinish) {\n        const values = Array.isArray(onFinishValues) ? onFinishValues : [onFinishValues];\n        values.forEach((val) => animation.onFinish(val.callback, val.opts));\n    }\n};\nconst checkProgress = (animation, currentProps = {}, prevProps = {}) => {\n    var _a, _b, _c, _d, _e;\n    const { progressStart, progressStep, progressEnd } = currentProps;\n    if (progressStart &&\n        (((_a = prevProps.progressStart) === null || _a === void 0 ? void 0 : _a.forceLinearEasing) !== (progressStart === null || progressStart === void 0 ? void 0 : progressStart.forceLinearEasing) ||\n            ((_b = prevProps.progressStart) === null || _b === void 0 ? void 0 : _b.step) !== (progressStart === null || progressStart === void 0 ? void 0 : progressStart.step))) {\n        animation.progressStart(progressStart.forceLinearEasing, progressStart.step);\n    }\n    if (progressStep && ((_c = prevProps.progressStep) === null || _c === void 0 ? void 0 : _c.step) !== (progressStep === null || progressStep === void 0 ? void 0 : progressStep.step)) {\n        animation.progressStep(progressStep.step);\n    }\n    if (progressEnd &&\n        (((_d = prevProps.progressEnd) === null || _d === void 0 ? void 0 : _d.playTo) !== (progressEnd === null || progressEnd === void 0 ? void 0 : progressEnd.playTo) ||\n            ((_e = prevProps.progressEnd) === null || _e === void 0 ? void 0 : _e.step) !== (progressEnd === null || progressEnd === void 0 ? void 0 : progressEnd.step) ||\n            (prevProps === null || prevProps === void 0 ? void 0 : prevProps.dur) !== (progressEnd === null || progressEnd === void 0 ? void 0 : progressEnd.dur))) {\n        animation.progressEnd(progressEnd.playTo, progressEnd.step, progressEnd.dur);\n    }\n};\nconst checkPlayback = (animation, currentProps = {}, prevProps = {}) => {\n    if (!prevProps.play && currentProps.play) {\n        animation.play();\n    }\n    if (!prevProps.pause && currentProps.pause) {\n        animation.pause();\n    }\n    if (!prevProps.stop && currentProps.stop) {\n        animation.stop();\n    }\n    if (!prevProps.destroy && currentProps.destroy) {\n        animation.destroy();\n    }\n};\n\nfunction useController(displayName, controller, defineCustomElement) {\n    const overlayRef = useRef();\n    const didDismissEventName = useMemo(() => `on${displayName}DidDismiss`, [displayName]);\n    const didPresentEventName = useMemo(() => `on${displayName}DidPresent`, [displayName]);\n    const willDismissEventName = useMemo(() => `on${displayName}WillDismiss`, [displayName]);\n    const willPresentEventName = useMemo(() => `on${displayName}WillPresent`, [displayName]);\n    defineCustomElement();\n    const present = useCallback(async (options) => {\n        if (overlayRef.current) {\n            return;\n        }\n        const { onDidDismiss, onWillDismiss, onDidPresent, onWillPresent } = options, rest = __rest(options, [\"onDidDismiss\", \"onWillDismiss\", \"onDidPresent\", \"onWillPresent\"]);\n        const handleDismiss = (event) => {\n            if (onDidDismiss) {\n                onDidDismiss(event);\n            }\n            overlayRef.current = undefined;\n        };\n        overlayRef.current = await controller.create(Object.assign({}, rest));\n        attachProps(overlayRef.current, {\n            [didDismissEventName]: handleDismiss,\n            [didPresentEventName]: (e) => onDidPresent && onDidPresent(e),\n            [willDismissEventName]: (e) => onWillDismiss && onWillDismiss(e),\n            [willPresentEventName]: (e) => onWillPresent && onWillPresent(e),\n        });\n        overlayRef.current.present();\n    }, [controller]);\n    const dismiss = useCallback(async () => {\n        overlayRef.current && (await overlayRef.current.dismiss());\n        overlayRef.current = undefined;\n    }, []);\n    return {\n        present,\n        dismiss,\n    };\n}\n\n/**\n * A hook for presenting/dismissing an IonActionSheet component\n * @returns Returns the present and dismiss methods in an array\n */\nfunction useIonActionSheet() {\n    const controller = useController('IonActionSheet', actionSheetController, defineCustomElement$18);\n    const present = useCallback((buttonsOrOptions, header) => {\n        if (Array.isArray(buttonsOrOptions)) {\n            return controller.present({\n                buttons: buttonsOrOptions,\n                header,\n            });\n        }\n        else {\n            return controller.present(buttonsOrOptions);\n        }\n    }, [controller.present]);\n    return [present, controller.dismiss];\n}\n\n/**\n * A hook for presenting/dismissing an IonAlert component\n * @returns Returns the present and dismiss methods in an array\n */\nfunction useIonAlert() {\n    const controller = useController('IonAlert', alertController, defineCustomElement$14);\n    const present = useCallback((messageOrOptions, buttons) => {\n        if (typeof messageOrOptions === 'string') {\n            return controller.present({\n                message: messageOrOptions,\n                buttons: buttons !== null && buttons !== void 0 ? buttons : [{ text: 'Ok' }],\n            });\n        }\n        else {\n            return controller.present(messageOrOptions);\n        }\n    }, [controller.present]);\n    return [present, controller.dismiss];\n}\n\n/**\n * A hook for presenting/dismissing an IonToast component\n * @returns Returns the present and dismiss methods in an array\n */\nfunction useIonToast() {\n    const controller = useController('IonToast', toastController, defineCustomElement$16);\n    const present = useCallback((messageOrOptions, duration) => {\n        if (typeof messageOrOptions === 'string') {\n            return controller.present({\n                message: messageOrOptions,\n                duration,\n            });\n        }\n        else {\n            return controller.present(messageOrOptions);\n        }\n    }, [controller.present]);\n    return [present, controller.dismiss];\n}\n\nfunction useOverlay(displayName, controller, defineCustomElement, component, componentProps) {\n    const overlayRef = useRef();\n    const containerElRef = useRef();\n    const didDismissEventName = useMemo(() => `on${displayName}DidDismiss`, [displayName]);\n    const didPresentEventName = useMemo(() => `on${displayName}DidPresent`, [displayName]);\n    const willDismissEventName = useMemo(() => `on${displayName}WillDismiss`, [displayName]);\n    const willPresentEventName = useMemo(() => `on${displayName}WillPresent`, [displayName]);\n    const [isOpen, setIsOpen] = useState(false);\n    const ionContext = useContext(IonContext);\n    const [overlayId] = useState(generateId('overlay'));\n    defineCustomElement();\n    useEffect(() => {\n        if (isOpen && component && containerElRef.current) {\n            if (React.isValidElement(component)) {\n                ionContext.addOverlay(overlayId, component, containerElRef.current);\n            }\n            else {\n                const element = createElement(component, componentProps);\n                ionContext.addOverlay(overlayId, element, containerElRef.current);\n            }\n        }\n    }, [component, containerElRef.current, isOpen, componentProps]);\n    const present = useCallback(async (options) => {\n        if (overlayRef.current) {\n            return;\n        }\n        const { onDidDismiss, onWillDismiss, onDidPresent, onWillPresent } = options, rest = __rest(options, [\"onDidDismiss\", \"onWillDismiss\", \"onDidPresent\", \"onWillPresent\"]);\n        if (typeof document !== 'undefined') {\n            containerElRef.current = document.createElement('div');\n        }\n        overlayRef.current = await controller.create(Object.assign(Object.assign({}, rest), { component: containerElRef.current }));\n        attachProps(overlayRef.current, {\n            [didDismissEventName]: handleDismiss,\n            [didPresentEventName]: (e) => onDidPresent && onDidPresent(e),\n            [willDismissEventName]: (e) => onWillDismiss && onWillDismiss(e),\n            [willPresentEventName]: (e) => onWillPresent && onWillPresent(e),\n        });\n        overlayRef.current.present();\n        setIsOpen(true);\n        function handleDismiss(event) {\n            if (onDidDismiss) {\n                onDidDismiss(event);\n            }\n            overlayRef.current = undefined;\n            containerElRef.current = undefined;\n            setIsOpen(false);\n            ionContext.removeOverlay(overlayId);\n        }\n    }, []);\n    const dismiss = useCallback(async (data, role) => {\n        overlayRef.current && (await overlayRef.current.dismiss(data, role));\n        overlayRef.current = undefined;\n        containerElRef.current = undefined;\n    }, []);\n    return {\n        present,\n        dismiss,\n    };\n}\n\n// TODO(FW-2959): types\n/**\n * A hook for presenting/dismissing an IonModal component\n * @param component The component that the modal will show. Can be a React Component, a functional component, or a JSX Element\n * @param componentProps The props that will be passed to the component, if required\n * @returns Returns the present and dismiss methods in an array\n */\nfunction useIonModal(component, componentProps) {\n    const controller = useOverlay('IonModal', modalController, defineCustomElement$19, component, componentProps);\n    const present = useCallback((options = {}) => {\n        controller.present(options);\n    }, [controller.present]);\n    return [present, controller.dismiss];\n}\n\n// TODO(FW-2959): types\n/**\n * A hook for presenting/dismissing an IonPicker component\n * @param component The component that the popover will show. Can be a React Component, a functional component, or a JSX Element\n * @param componentProps The props that will be passed to the component, if required\n * @returns Returns the present and dismiss methods in an array\n */\nfunction useIonPopover(component, componentProps) {\n    const controller = useOverlay('IonPopover', popoverController, defineCustomElement$1a, component, componentProps);\n    const present = useCallback((options = {}) => {\n        controller.present(options);\n    }, [controller.present]);\n    return [present, controller.dismiss];\n}\n\n/**\n * A hook for presenting/dismissing an IonPicker component\n * @returns Returns the present and dismiss methods in an array\n * @deprecated Use the inline ion-picker component instead.\n */\nfunction useIonPicker() {\n    const controller = useController('IonPicker', pickerController, defineCustomElement$17);\n    const present = useCallback((columnsOrOptions, buttons) => {\n        if (Array.isArray(columnsOrOptions)) {\n            return controller.present({\n                columns: columnsOrOptions,\n                buttons: buttons !== null && buttons !== void 0 ? buttons : [{ text: 'Ok' }],\n            });\n        }\n        else {\n            return controller.present(columnsOrOptions);\n        }\n    }, [controller.present]);\n    return [present, controller.dismiss];\n}\n\n/**\n * A hook for presenting/dismissing an IonLoading component\n * @returns Returns the present and dismiss methods in an array\n */\nfunction useIonLoading() {\n    const controller = useController('IonLoading', loadingController, defineCustomElement$15);\n    const present = useCallback((messageOrOptions = {}, duration, spinner) => {\n        if (typeof messageOrOptions === 'string') {\n            return controller.present({\n                message: messageOrOptions,\n                duration,\n                spinner,\n            });\n        }\n        else {\n            return controller.present(messageOrOptions);\n        }\n    }, [controller.present]);\n    return [present, controller.dismiss];\n}\n\nconst setupIonicReact = (config = {}) => {\n    /**\n     * By default Ionic Framework hides elements that\n     * are not hydrated, but in the CE build there is no\n     * hydration.\n     * TODO FW-2797: Remove when all integrations have been\n     * migrated to CE build.\n     */\n    if (typeof document !== 'undefined') {\n        document.documentElement.classList.add('ion-ce');\n    }\n    initialize(Object.assign({}, config));\n};\n\n// TODO(FW-2959): types\nconst RouteManagerContext = /*@__PURE__*/ React.createContext({\n    addViewItem: () => undefined,\n    canGoBack: () => undefined,\n    clearOutlet: () => undefined,\n    createViewItem: () => undefined,\n    findViewItemByPathname: () => undefined,\n    findLeavingViewItemByRouteInfo: () => undefined,\n    findViewItemByRouteInfo: () => undefined,\n    getChildrenToRender: () => undefined,\n    goBack: () => undefined,\n    unMountViewItem: () => undefined,\n});\n\nclass ViewLifeCycleManager extends React.Component {\n    constructor(props) {\n        super(props);\n        this.ionLifeCycleContext = new DefaultIonLifeCycleContext();\n        this._isMounted = false;\n        this.ionLifeCycleContext.onComponentCanBeDestroyed(() => {\n            if (!this.props.mount) {\n                if (this._isMounted) {\n                    this.setState({\n                        show: false,\n                    }, () => this.props.removeView());\n                }\n            }\n        });\n        this.state = {\n            show: true,\n        };\n    }\n    componentDidMount() {\n        this._isMounted = true;\n    }\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n    render() {\n        const { show } = this.state;\n        return (React.createElement(IonLifeCycleContext.Provider, { value: this.ionLifeCycleContext }, show && this.props.children));\n    }\n}\n\n// const RESTRICT_SIZE = 100;\nclass LocationHistory {\n    constructor() {\n        this.locationHistory = [];\n        this.tabHistory = {};\n    }\n    add(routeInfo) {\n        if (routeInfo.routeAction === 'push' || routeInfo.routeAction == null) {\n            this._add(routeInfo);\n        }\n        else if (routeInfo.routeAction === 'pop') {\n            this._pop(routeInfo);\n        }\n        else if (routeInfo.routeAction === 'replace') {\n            this._replace(routeInfo);\n        }\n        if (routeInfo.routeDirection === 'root') {\n            this._clear();\n            this._add(routeInfo);\n        }\n    }\n    clearTabStack(tab) {\n        const routeInfos = this._getRouteInfosByKey(tab);\n        if (routeInfos) {\n            routeInfos.forEach((ri) => {\n                this.locationHistory = this.locationHistory.filter((x) => x.id !== ri.id);\n            });\n            this.tabHistory[tab] = [];\n        }\n    }\n    update(routeInfo) {\n        const locationIndex = this.locationHistory.findIndex((x) => x.id === routeInfo.id);\n        if (locationIndex > -1) {\n            this.locationHistory.splice(locationIndex, 1, routeInfo);\n        }\n        const tabArray = this.tabHistory[routeInfo.tab || ''];\n        if (tabArray) {\n            const tabIndex = tabArray.findIndex((x) => x.id === routeInfo.id);\n            if (tabIndex > -1) {\n                tabArray.splice(tabIndex, 1, routeInfo);\n            }\n            else {\n                tabArray.push(routeInfo);\n            }\n        }\n        else if (routeInfo.tab) {\n            this.tabHistory[routeInfo.tab] = [routeInfo];\n        }\n    }\n    _add(routeInfo) {\n        const routeInfos = this._getRouteInfosByKey(routeInfo.tab);\n        if (routeInfos) {\n            // If the latest routeInfo is the same (going back and forth between tabs), replace it\n            if (this._areRoutesEqual(routeInfos[routeInfos.length - 1], routeInfo)) {\n                routeInfos.pop();\n            }\n            routeInfos.push(routeInfo);\n        }\n        this.locationHistory.push(routeInfo);\n    }\n    _areRoutesEqual(route1, route2) {\n        if (!route1 || !route2) {\n            return false;\n        }\n        return route1.pathname === route2.pathname && route1.search === route2.search;\n    }\n    _pop(routeInfo) {\n        const routeInfos = this._getRouteInfosByKey(routeInfo.tab);\n        if (routeInfos) {\n            // Pop the previous route\n            routeInfos.pop();\n            // Replace the current route with an updated version\n            routeInfos.pop();\n            routeInfos.push(routeInfo);\n        }\n        // Pop the previous route\n        this.locationHistory.pop();\n        // Replace the current route with an updated version\n        this.locationHistory.pop();\n        this.locationHistory.push(routeInfo);\n    }\n    _replace(routeInfo) {\n        const routeInfos = this._getRouteInfosByKey(routeInfo.tab);\n        routeInfos && routeInfos.pop();\n        this.locationHistory.pop();\n        this._add(routeInfo);\n    }\n    _clear() {\n        const keys = Object.keys(this.tabHistory);\n        keys.forEach((k) => (this.tabHistory[k] = []));\n        this.locationHistory = [];\n    }\n    _getRouteInfosByKey(key) {\n        let routeInfos;\n        if (key) {\n            routeInfos = this.tabHistory[key];\n            if (!routeInfos) {\n                routeInfos = this.tabHistory[key] = [];\n            }\n        }\n        return routeInfos;\n    }\n    getFirstRouteInfoForTab(tab) {\n        const routeInfos = this._getRouteInfosByKey(tab);\n        if (routeInfos) {\n            return routeInfos[0];\n        }\n        return undefined;\n    }\n    getCurrentRouteInfoForTab(tab) {\n        const routeInfos = this._getRouteInfosByKey(tab);\n        if (routeInfos) {\n            return routeInfos[routeInfos.length - 1];\n        }\n        return undefined;\n    }\n    findLastLocation(routeInfo) {\n        const routeInfos = this._getRouteInfosByKey(routeInfo.tab);\n        if (routeInfos) {\n            for (let i = routeInfos.length - 2; i >= 0; i--) {\n                const ri = routeInfos[i];\n                if (ri) {\n                    if (ri.pathname === routeInfo.pushedByRoute) {\n                        return ri;\n                    }\n                }\n            }\n        }\n        for (let i = this.locationHistory.length - 2; i >= 0; i--) {\n            const ri = this.locationHistory[i];\n            if (ri) {\n                if (ri.pathname === routeInfo.pushedByRoute) {\n                    return ri;\n                }\n            }\n        }\n        return undefined;\n    }\n    previous() {\n        return (this.locationHistory[this.locationHistory.length - 2] || this.locationHistory[this.locationHistory.length - 1]);\n    }\n    current() {\n        return this.locationHistory[this.locationHistory.length - 1];\n    }\n    canGoBack() {\n        return this.locationHistory.length > 1;\n    }\n}\n\nclass NavManager extends React.PureComponent {\n    constructor(props) {\n        super(props);\n        this.ionRouterContextValue = {\n            push: (pathname, routerDirection, routeAction, routerOptions, animationBuilder) => {\n                this.navigate(pathname, routerDirection, routeAction, animationBuilder, routerOptions);\n            },\n            back: (animationBuilder) => {\n                this.goBack(undefined, animationBuilder);\n            },\n            canGoBack: () => this.props.locationHistory.canGoBack(),\n            nativeBack: () => this.props.onNativeBack(),\n            routeInfo: this.props.routeInfo,\n        };\n        this.state = {\n            goBack: this.goBack.bind(this),\n            hasIonicRouter: () => true,\n            navigate: this.navigate.bind(this),\n            getIonRedirect: this.getIonRedirect.bind(this),\n            getIonRoute: this.getIonRoute.bind(this),\n            getStackManager: this.getStackManager.bind(this),\n            getPageManager: this.getPageManager.bind(this),\n            routeInfo: this.props.routeInfo,\n            setCurrentTab: this.props.onSetCurrentTab,\n            changeTab: this.props.onChangeTab,\n            resetTab: this.props.onResetTab,\n        };\n    }\n    componentDidMount() {\n        if (typeof document !== 'undefined') {\n            this.handleHardwareBackButton = this.handleHardwareBackButton.bind(this);\n            document.addEventListener('ionBackButton', this.handleHardwareBackButton);\n        }\n    }\n    componentWillUnmount() {\n        if (typeof document !== 'undefined') {\n            document.removeEventListener('ionBackButton', this.handleHardwareBackButton);\n        }\n    }\n    handleHardwareBackButton(e) {\n        e.detail.register(0, (processNextHandler) => {\n            this.nativeGoBack();\n            processNextHandler();\n        });\n    }\n    goBack(route, animationBuilder) {\n        this.props.onNavigateBack(route, animationBuilder);\n    }\n    nativeGoBack() {\n        this.props.onNativeBack();\n    }\n    navigate(path, direction = 'forward', action = 'push', animationBuilder, options, tab) {\n        this.props.onNavigate(path, action, direction, animationBuilder, options, tab);\n    }\n    getPageManager() {\n        return PageManager;\n    }\n    getIonRedirect() {\n        return this.props.ionRedirect;\n    }\n    getIonRoute() {\n        return this.props.ionRoute;\n    }\n    getStackManager() {\n        return this.props.stackManager;\n    }\n    render() {\n        return (React.createElement(NavContext.Provider, { value: Object.assign(Object.assign({}, this.state), { routeInfo: this.props.routeInfo }) },\n            React.createElement(IonRouterContext.Provider, { value: Object.assign(Object.assign({}, this.ionRouterContextValue), { routeInfo: this.props.routeInfo }) }, this.props.children)));\n    }\n}\n\nclass ViewStacks {\n    constructor() {\n        this.viewStacks = {};\n        this.add = this.add.bind(this);\n        this.clear = this.clear.bind(this);\n        this.getViewItemsForOutlet = this.getViewItemsForOutlet.bind(this);\n        this.remove = this.remove.bind(this);\n    }\n    add(viewItem) {\n        const { outletId } = viewItem;\n        if (!this.viewStacks[outletId]) {\n            this.viewStacks[outletId] = [viewItem];\n        }\n        else {\n            this.viewStacks[outletId].push(viewItem);\n        }\n    }\n    clear(outletId) {\n        // Give some time for the leaving views to transition before removing\n        return setTimeout(() => {\n            delete this.viewStacks[outletId];\n        }, 500);\n    }\n    getViewItemsForOutlet(outletId) {\n        return this.viewStacks[outletId] || [];\n    }\n    remove(viewItem) {\n        const { outletId } = viewItem;\n        const viewStack = this.viewStacks[outletId];\n        if (viewStack) {\n            const viewItemToRemove = viewStack.find((x) => x.id === viewItem.id);\n            if (viewItemToRemove) {\n                viewItemToRemove.mount = false;\n                this.viewStacks[outletId] = viewStack.filter((x) => x.id !== viewItemToRemove.id);\n            }\n        }\n    }\n    getStackIds() {\n        return Object.keys(this.viewStacks);\n    }\n    getAllViewItems() {\n        const keys = this.getStackIds();\n        const viewItems = [];\n        keys.forEach((k) => {\n            viewItems.push(...this.viewStacks[k]);\n        });\n        return viewItems;\n    }\n}\n\nexport { CreateAnimation, DefaultIonLifeCycleContext, IonAccordion, IonAccordionGroup, IonActionSheet, IonAlert, IonApp, IonAvatar, IonBackButton, IonBackdrop, IonBadge, IonBreadcrumb, IonBreadcrumbs, IonButton, IonButtons, IonCard, IonCardContent, IonCardHeader, IonCardSubtitle, IonCardTitle, IonCheckbox, IonChip, IonCol, IonContent, IonDatetime, IonDatetimeButton, IonFab, IonFabButton, IonFabList, IonFooter, IonGrid, IonHeader, IonIcon, IonImg, IonInfiniteScroll, IonInfiniteScrollContent, IonInput, IonInputPasswordToggle, IonItem, IonItemDivider, IonItemGroup, IonItemOption, IonItemOptions, IonItemSliding, IonLabel, IonLifeCycleContext, IonList, IonListHeader, IonLoading, IonMenu, IonMenuButton, IonMenuToggle, IonModal, IonNav, IonNavLink, IonNote, IonPage, IonPicker, IonPickerColumn, IonPickerColumnOption, IonPickerLegacy, IonPopover, IonProgressBar, IonRadio, IonRadioGroup, IonRange, IonRedirect, IonRefresher, IonRefresherContent, IonReorder, IonReorderGroup, IonRippleEffect, IonRoute, IonRouterContext, IonRouterLink, IonRouterOutlet, IonRow, IonSearchbar, IonSegment, IonSegmentButton, IonSelect, IonSelectOption, IonSkeletonText, IonSpinner, IonSplitPane, IonTab, IonTabBar, IonTabButton, IonTabs, IonTabsContext, IonText, IonTextarea, IonThumbnail, IonTitle, IonToast, IonToggle, IonToolbar, LocationHistory, NavContext, NavManager, RouteManagerContext, StackContext, ViewLifeCycleManager, ViewStacks, generateId, getConfig, getPlatforms, isPlatform, setupIonicReact, useIonActionSheet, useIonAlert, useIonLoading, useIonModal, useIonPicker, useIonPopover, useIonRouter, useIonToast, useIonViewDidEnter, useIonViewDidLeave, useIonViewWillEnter, useIonViewWillLeave, withIonLifeCycle };\n//# sourceMappingURL=index.js.map\n"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,MAAM,EAAEC,SAAS,EAAEC,aAAa,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AACrH,SAASC,UAAU,IAAIC,YAAY,EAAEC,YAAY,IAAIC,cAAc,EAAEC,gBAAgB,EAAEC,eAAe,EAAEC,qBAAqB,EAAEC,eAAe,EAAEC,eAAe,EAAEC,eAAe,EAAEC,iBAAiB,EAAEC,gBAAgB,EAAEC,iBAAiB,EAAEC,UAAU,QAAQ,wBAAwB;AACpR,SAASC,eAAe,EAAEC,WAAW,EAAEV,eAAe,EAAEW,aAAa,EAAEC,iBAAiB,EAAEC,uBAAuB,EAAEC,sBAAsB,EAAEC,qBAAqB,EAAEC,OAAO,QAAQ,wBAAwB;AACzM,SAASC,MAAM,QAAQ,OAAO;AAC9B,OAAOC,QAAQ,IAAIC,YAAY,QAAQ,WAAW;AAClD,SAASC,mBAAmB,IAAIC,qBAAqB,QAAQ,yCAAyC;AACtG,SAASD,mBAAmB,IAAIE,qBAAqB,QAAQ,+CAA+C;AAC5G,SAASF,mBAAmB,IAAIG,qBAAqB,QAAQ,sCAAsC;AACnG,SAASH,mBAAmB,IAAII,qBAAqB,QAAQ,wCAAwC;AACrG,SAASJ,mBAAmB,IAAIK,qBAAqB,QAAQ,qCAAqC;AAClG,SAASL,mBAAmB,IAAIM,qBAAqB,QAAQ,2CAA2C;AACxG,SAASN,mBAAmB,IAAIO,qBAAqB,QAAQ,uCAAuC;AACpG,SAASP,mBAAmB,IAAIQ,qBAAqB,QAAQ,4CAA4C;AACzG,SAASR,mBAAmB,IAAIS,qBAAqB,QAAQ,2CAA2C;AACxG,SAAST,mBAAmB,IAAIU,qBAAqB,QAAQ,6CAA6C;AAC1G,SAASV,mBAAmB,IAAIW,qBAAqB,QAAQ,0CAA0C;AACvG,SAASX,mBAAmB,IAAIY,qBAAqB,QAAQ,wCAAwC;AACrG,SAASZ,mBAAmB,IAAIa,qBAAqB,QAAQ,oCAAoC;AACjG,SAASb,mBAAmB,IAAIc,qBAAqB,QAAQ,mCAAmC;AAChG,SAASd,mBAAmB,IAAIe,qBAAqB,QAAQ,uCAAuC;AACpG,SAASf,mBAAmB,IAAIgB,qBAAqB,QAAQ,wCAAwC;AACrG,SAAShB,mBAAmB,IAAIiB,qBAAqB,QAAQ,+CAA+C;AAC5G,SAASjB,mBAAmB,IAAIkB,qBAAqB,QAAQ,mCAAmC;AAChG,SAASlB,mBAAmB,IAAImB,qBAAqB,QAAQ,wCAAwC;AACrG,SAASnB,mBAAmB,IAAIoB,qBAAqB,QAAQ,sCAAsC;AACnG,SAASpB,mBAAmB,IAAIqB,qBAAqB,QAAQ,oCAAoC;AACjG,SAASrB,mBAAmB,IAAIsB,qBAAqB,QAAQ,sCAAsC;AACnG,SAAStB,mBAAmB,IAAIuB,qBAAqB,QAAQ,mCAAmC;AAChG,SAASvB,mBAAmB,IAAIwB,qBAAqB,QAAQ,+CAA+C;AAC5G,SAASxB,mBAAmB,IAAIyB,qBAAqB,QAAQ,uDAAuD;AACpH,SAASzB,mBAAmB,IAAI0B,qBAAqB,QAAQ,qCAAqC;AAClG,SAAS1B,mBAAmB,IAAI2B,qBAAqB,QAAQ,qDAAqD;AAClH,SAAS3B,mBAAmB,IAAI4B,qBAAqB,QAAQ,4CAA4C;AACzG,SAAS5B,mBAAmB,IAAI6B,qBAAqB,QAAQ,0CAA0C;AACvG,SAAS7B,mBAAmB,IAAI8B,qBAAqB,QAAQ,4CAA4C;AACzG,SAAS9B,mBAAmB,IAAI+B,qBAAqB,QAAQ,4CAA4C;AACzG,SAAS/B,mBAAmB,IAAIgC,qBAAqB,QAAQ,qCAAqC;AAClG,SAAShC,mBAAmB,IAAIiC,qBAAqB,QAAQ,oCAAoC;AACjG,SAASjC,mBAAmB,IAAIkC,qBAAqB,QAAQ,2CAA2C;AACxG,SAASlC,mBAAmB,IAAImC,qBAAqB,QAAQ,oCAAoC;AACjG,SAASnC,mBAAmB,IAAIoC,qBAAqB,QAAQ,2CAA2C;AACxG,SAASpC,mBAAmB,IAAIqC,qBAAqB,QAAQ,2CAA2C;AACxG,SAASrC,mBAAmB,IAAIsC,sBAAsB,QAAQ,mCAAmC;AACjG,SAAStC,mBAAmB,IAAIuC,qBAAqB,QAAQ,wCAAwC;AACrG,SAASvC,mBAAmB,IAAIwC,qBAAqB,QAAQ,oCAAoC;AACjG,SAASxC,mBAAmB,IAAIyC,qBAAqB,QAAQ,sCAAsC;AACnG,SAASzC,mBAAmB,IAAI0C,qBAAqB,QAAQ,6CAA6C;AAC1G,SAAS1C,mBAAmB,IAAI2C,qBAAqB,QAAQ,oDAAoD;AACjH,SAAS3C,mBAAmB,IAAI4C,qBAAqB,QAAQ,4CAA4C;AACzG,SAAS5C,mBAAmB,IAAI6C,qBAAqB,QAAQ,qCAAqC;AAClG,SAAS7C,mBAAmB,IAAI8C,qBAAqB,QAAQ,2CAA2C;AACxG,SAAS9C,mBAAmB,IAAI+C,qBAAqB,QAAQ,qCAAqC;AAClG,SAAS/C,mBAAmB,IAAIgD,qBAAqB,QAAQ,yCAAyC;AACtG,SAAShD,mBAAmB,IAAIiD,qBAAqB,QAAQ,iDAAiD;AAC9G,SAASjD,mBAAmB,IAAIkD,qBAAqB,QAAQ,uCAAuC;AACpG,SAASlD,mBAAmB,IAAImD,qBAAqB,QAAQ,6CAA6C;AAC1G,SAASnD,mBAAmB,IAAIoD,qBAAqB,QAAQ,6CAA6C;AAC1G,SAASpD,mBAAmB,IAAIqD,qBAAqB,QAAQ,mCAAmC;AAChG,SAASrD,mBAAmB,IAAIsD,qBAAqB,QAAQ,yCAAyC;AACtG,SAAStD,mBAAmB,IAAIuD,qBAAqB,QAAQ,uCAAuC;AACpG,SAASvD,mBAAmB,IAAIwD,qBAAqB,QAAQ,8CAA8C;AAC3G,SAASxD,mBAAmB,IAAIyD,qBAAqB,QAAQ,sCAAsC;AACnG,SAASzD,mBAAmB,IAAI0D,qBAAqB,QAAQ,6CAA6C;AAC1G,SAAS1D,mBAAmB,IAAI2D,qBAAqB,QAAQ,6CAA6C;AAC1G,SAAS3D,mBAAmB,IAAI4D,qBAAqB,QAAQ,uCAAuC;AACpG,SAAS5D,mBAAmB,IAAI6D,qBAAqB,QAAQ,0CAA0C;AACvG,SAAS7D,mBAAmB,IAAI8D,qBAAqB,QAAQ,mCAAmC;AAChG,SAAS9D,mBAAmB,IAAI+D,qBAAqB,QAAQ,oCAAoC;AACjG,SAAS/D,mBAAmB,IAAIgE,qBAAqB,QAAQ,wCAAwC;AACrG,SAAShE,mBAAmB,IAAIiE,sBAAsB,QAAQ,yCAAyC;AACvG,SAASjE,mBAAmB,IAAIkE,sBAAsB,QAAQ,qCAAqC;AACnG,SAASlE,mBAAmB,IAAImE,sBAAsB,QAAQ,sCAAsC;AACpG,SAASnE,mBAAmB,IAAIoE,sBAAsB,QAAQ,uCAAuC;AACrG,SAASC,aAAa,IAAIC,eAAe,QAAQ,0CAA0C;AAC3F,SAASC,SAAS,IAAIC,WAAW,QAAQ,sCAAsC;AAC/E,SAASC,OAAO,IAAIC,SAAS,QAAQ,oCAAoC;AACzE,SAASC,YAAY,IAAIC,cAAc,QAAQ,0CAA0C;AACzF,SAASC,aAAa,IAAIC,eAAe,QAAQ,2CAA2C;AAC5F,SAASC,OAAO,IAAIC,SAAS,QAAQ,oCAAoC;AACzE,SAASC,aAAa,IAAIC,eAAe,QAAQ,2CAA2C;AAC5F,SAASlF,mBAAmB,IAAImF,sBAAsB,QAAQ,qCAAqC;AACnG,SAASnF,mBAAmB,IAAIoF,sBAAsB,QAAQ,uCAAuC;AACrG,SAASpF,mBAAmB,IAAIqF,sBAAsB,QAAQ,qCAAqC;AACnG,SAASrF,mBAAmB,IAAIsF,sBAAsB,QAAQ,6CAA6C;AAC3G,SAAStF,mBAAmB,IAAIuF,sBAAsB,QAAQ,4CAA4C;AAC1G,SAASvF,mBAAmB,IAAIwF,sBAAsB,QAAQ,qCAAqC;AACnG,SAASxF,mBAAmB,IAAIyF,sBAAsB,QAAQ,uCAAuC;AACrG,SAASzF,mBAAmB,IAAI0F,sBAAsB,QAAQ,mCAAmC;AACjG,SAAS1F,mBAAmB,IAAI2F,sBAAsB,QAAQ,2CAA2C;AACzG,SAAS3F,mBAAmB,IAAI4F,sBAAsB,QAAQ,6CAA6C;AAC3G,SAAS5F,mBAAmB,IAAI6F,sBAAsB,QAAQ,uCAAuC;AACrG,SAAS7F,mBAAmB,IAAI8F,sBAAsB,QAAQ,0CAA0C;AACxG,SAAS9F,mBAAmB,IAAI+F,sBAAsB,QAAQ,iCAAiC;AAE/F,MAAMC,mBAAmB,GAAG,aAAclI,KAAK,CAACmI,aAAa,CAAC;EAC1DC,kBAAkB,EAAEA,CAAA,KAAM;IACtB;EACJ,CAAC;EACDC,gBAAgB,EAAEA,CAAA,KAAM;IACpB;EACJ,CAAC;EACDC,iBAAiB,EAAEA,CAAA,KAAM;IACrB;EACJ,CAAC;EACDC,eAAe,EAAEA,CAAA,KAAM;IACnB;EACJ,CAAC;EACDC,kBAAkB,EAAEA,CAAA,KAAM;IACtB;EACJ,CAAC;EACDC,gBAAgB,EAAEA,CAAA,KAAM;IACpB;EACJ,CAAC;EACDC,iBAAiB,EAAEA,CAAA,KAAM;IACrB;EACJ,CAAC;EACDC,eAAe,EAAEA,CAAA,KAAM;IACnB;EACJ,CAAC;EACDC,uBAAuB,EAAEA,CAAA,KAAM;IAC3B;EACJ,CAAC;EACDC,sBAAsB,EAAEA,CAAA,KAAM;IAC1B;EACJ,CAAC;EACDC,uBAAuB,EAAEA,CAAA,KAAM;IAC3B;EACJ,CAAC;EACDC,sBAAsB,EAAEA,CAAA,KAAM;IAC1B;EACJ;AACJ,CAAC,CAAC;AACF,MAAMC,0BAA0B,GAAG,MAAM;EACrCC,WAAWA,CAAA,EAAG;IACV,IAAI,CAACC,yBAAyB,GAAG,EAAE;IACnC,IAAI,CAACC,wBAAwB,GAAG,EAAE;IAClC,IAAI,CAACC,yBAAyB,GAAG,EAAE;IACnC,IAAI,CAACC,wBAAwB,GAAG,EAAE;IAClC,IAAI,CAACC,mCAAmC,GAAG,EAAE;IAC7C,IAAI,CAACC,kCAAkC,GAAG,EAAE;IAC5C,IAAI,CAACC,mCAAmC,GAAG,EAAE;IAC7C,IAAI,CAACC,kCAAkC,GAAG,EAAE;EAChD;EACArB,kBAAkBA,CAACsB,QAAQ,EAAE;IACzB,IAAIA,QAAQ,CAACC,EAAE,EAAE;MACb,MAAMC,KAAK,GAAG,IAAI,CAACV,yBAAyB,CAACW,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAKD,QAAQ,CAACC,EAAE,CAAC;MACnF,IAAIC,KAAK,GAAG,CAAC,CAAC,EAAE;QACZ,IAAI,CAACV,yBAAyB,CAACU,KAAK,CAAC,GAAGF,QAAQ;MACpD,CAAC,MACI;QACD,IAAI,CAACR,yBAAyB,CAACa,IAAI,CAACL,QAAQ,CAAC;MACjD;IACJ,CAAC,MACI;MACD,IAAI,CAACR,yBAAyB,CAACa,IAAI,CAACL,QAAQ,CAAC;IACjD;EACJ;EACAM,gBAAgBA,CAACN,QAAQ,EAAEO,SAAS,EAAE;IAClC;IACA,MAAMC,OAAO,GAAGD,SAAS,CAACE,MAAM,CAAEL,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAKD,QAAQ,CAACC,EAAE,CAAC;IAC7D,IAAIO,OAAO,CAACE,MAAM,KAAK,CAAC,EAAE;MACtB;MACAF,OAAO,CAACG,OAAO,CAAEC,KAAK,IAAK;QACvB,IAAIA,KAAK,IAAI,OAAOA,KAAK,CAACC,UAAU,KAAK,UAAU,EAAE;UACjDD,KAAK,CAACC,UAAU,CAAC,CAAC;QACtB;MACJ,CAAC,CAAC;MACF;MACAN,SAAS,GAAGA,SAAS,CAACE,MAAM,CAAEL,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAKD,QAAQ,CAACC,EAAE,CAAC;IAC7D;EACJ;EACA;AACJ;AACA;AACA;AACA;EACIf,uBAAuBA,CAACc,QAAQ,EAAE;IAC9B,IAAI,CAACM,gBAAgB,CAACN,QAAQ,EAAE,IAAI,CAACJ,mCAAmC,CAAC;EAC7E;EACA;AACJ;AACA;AACA;AACA;EACIT,sBAAsBA,CAACa,QAAQ,EAAE;IAC7B,IAAI,CAACM,gBAAgB,CAACN,QAAQ,EAAE,IAAI,CAACH,kCAAkC,CAAC;EAC5E;EACA;AACJ;AACA;AACA;AACA;EACIT,uBAAuBA,CAACY,QAAQ,EAAE;IAC9B,IAAI,CAACM,gBAAgB,CAACN,QAAQ,EAAE,IAAI,CAACF,mCAAmC,CAAC;EAC7E;EACA;AACJ;AACA;AACA;AACA;EACIT,sBAAsBA,CAACW,QAAQ,EAAE;IAC7B,IAAI,CAACM,gBAAgB,CAACN,QAAQ,EAAE,IAAI,CAACD,kCAAkC,CAAC;EAC5E;EACApB,gBAAgBA,CAAA,EAAG;IACf,IAAI,CAACa,yBAAyB,CAACmB,OAAO,CAAEG,EAAE,IAAK;MAC3C,MAAMD,UAAU,GAAGC,EAAE,CAAC,CAAC;MACvB,IAAIA,EAAE,CAACb,EAAE,EAAE;QACP,IAAI,CAACL,mCAAmC,CAACS,IAAI,CAAC;UAAEJ,EAAE,EAAEa,EAAE,CAACb,EAAE;UAAEY;QAAW,CAAC,CAAC;MAC5E;IACJ,CAAC,CAAC;EACN;EACAjC,iBAAiBA,CAACoB,QAAQ,EAAE;IACxB,IAAIA,QAAQ,CAACC,EAAE,EAAE;MACb,MAAMC,KAAK,GAAG,IAAI,CAACT,wBAAwB,CAACU,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAKD,QAAQ,CAACC,EAAE,CAAC;MAClF,IAAIC,KAAK,GAAG,CAAC,CAAC,EAAE;QACZ,IAAI,CAACT,wBAAwB,CAACS,KAAK,CAAC,GAAGF,QAAQ;MACnD,CAAC,MACI;QACD,IAAI,CAACP,wBAAwB,CAACY,IAAI,CAACL,QAAQ,CAAC;MAChD;IACJ,CAAC,MACI;MACD,IAAI,CAACP,wBAAwB,CAACY,IAAI,CAACL,QAAQ,CAAC;IAChD;EACJ;EACAnB,eAAeA,CAAA,EAAG;IACd,IAAI,CAACY,wBAAwB,CAACkB,OAAO,CAAEG,EAAE,IAAK;MAC1C,MAAMD,UAAU,GAAGC,EAAE,CAAC,CAAC;MACvB,IAAIA,EAAE,CAACb,EAAE,EAAE;QACP,IAAI,CAACJ,kCAAkC,CAACQ,IAAI,CAAC;UAAEJ,EAAE,EAAEa,EAAE,CAACb,EAAE;UAAEY;QAAW,CAAC,CAAC;MAC3E;IACJ,CAAC,CAAC;EACN;EACA/B,kBAAkBA,CAACkB,QAAQ,EAAE;IACzB,IAAIA,QAAQ,CAACC,EAAE,EAAE;MACb,MAAMC,KAAK,GAAG,IAAI,CAACR,yBAAyB,CAACS,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAKD,QAAQ,CAACC,EAAE,CAAC;MACnF,IAAIC,KAAK,GAAG,CAAC,CAAC,EAAE;QACZ,IAAI,CAACR,yBAAyB,CAACQ,KAAK,CAAC,GAAGF,QAAQ;MACpD,CAAC,MACI;QACD,IAAI,CAACN,yBAAyB,CAACW,IAAI,CAACL,QAAQ,CAAC;MACjD;IACJ,CAAC,MACI;MACD,IAAI,CAACN,yBAAyB,CAACW,IAAI,CAACL,QAAQ,CAAC;IACjD;EACJ;EACAjB,gBAAgBA,CAAA,EAAG;IACf,IAAI,CAACW,yBAAyB,CAACiB,OAAO,CAAEG,EAAE,IAAK;MAC3C,MAAMD,UAAU,GAAGC,EAAE,CAAC,CAAC;MACvB,IAAIA,EAAE,CAACb,EAAE,EAAE;QACP,IAAI,CAACH,mCAAmC,CAACO,IAAI,CAAC;UAAEJ,EAAE,EAAEa,EAAE,CAACb,EAAE;UAAEY;QAAW,CAAC,CAAC;MAC5E;IACJ,CAAC,CAAC;EACN;EACA7B,iBAAiBA,CAACgB,QAAQ,EAAE;IACxB,IAAIA,QAAQ,CAACC,EAAE,EAAE;MACb,MAAMC,KAAK,GAAG,IAAI,CAACP,wBAAwB,CAACQ,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAKD,QAAQ,CAACC,EAAE,CAAC;MAClF,IAAIC,KAAK,GAAG,CAAC,CAAC,EAAE;QACZ,IAAI,CAACP,wBAAwB,CAACO,KAAK,CAAC,GAAGF,QAAQ;MACnD,CAAC,MACI;QACD,IAAI,CAACL,wBAAwB,CAACU,IAAI,CAACL,QAAQ,CAAC;MAChD;IACJ,CAAC,MACI;MACD,IAAI,CAACL,wBAAwB,CAACU,IAAI,CAACL,QAAQ,CAAC;IAChD;EACJ;EACAf,eAAeA,CAAA,EAAG;IACd,IAAI,CAACU,wBAAwB,CAACgB,OAAO,CAAEG,EAAE,IAAK;MAC1C,MAAMD,UAAU,GAAGC,EAAE,CAAC,CAAC;MACvB,IAAIA,EAAE,CAACb,EAAE,EAAE;QACP,IAAI,CAACF,kCAAkC,CAACM,IAAI,CAAC;UAAEJ,EAAE,EAAEa,EAAE,CAACb,EAAE;UAAEY;QAAW,CAAC,CAAC;MAC3E;IACJ,CAAC,CAAC;IACF,IAAI,CAACE,uBAAuB,CAAC,CAAC;EAClC;EACAC,yBAAyBA,CAAChB,QAAQ,EAAE;IAChC,IAAI,CAACiB,+BAA+B,GAAGjB,QAAQ;EACnD;EACAe,uBAAuBA,CAAA,EAAG;IACtB,IAAI,IAAI,CAACE,+BAA+B,EAAE;MACtC,IAAI,CAACA,+BAA+B,CAAC,CAAC;IAC1C;EACJ;AACJ,CAAC;;AAED;AACA,MAAMC,gBAAgB,GAAIC,gBAAgB,IAAK;EAC3C,OAAO,MAAMC,YAAY,SAAS9K,KAAK,CAAC+K,SAAS,CAAC;IAC9C9B,WAAWA,CAAC+B,KAAK,EAAE;MACf,KAAK,CAACA,KAAK,CAAC;MACZ,IAAI,CAACC,YAAY,GAAGjL,KAAK,CAACkL,SAAS,CAAC,CAAC;IACzC;IACAC,iBAAiBA,CAAA,EAAG;MAChB,MAAMC,OAAO,GAAG,IAAI,CAACH,YAAY,CAACI,OAAO;MACzC,IAAI,CAACC,OAAO,CAAClD,kBAAkB,CAAC,MAAM;QAClC,IAAIgD,OAAO,IAAIA,OAAO,CAAC/C,gBAAgB,EAAE;UACrC+C,OAAO,CAAC/C,gBAAgB,CAAC,CAAC;QAC9B;MACJ,CAAC,CAAC;MACF,IAAI,CAACiD,OAAO,CAAChD,iBAAiB,CAAC,MAAM;QACjC,IAAI8C,OAAO,IAAIA,OAAO,CAAC7C,eAAe,EAAE;UACpC6C,OAAO,CAAC7C,eAAe,CAAC,CAAC;QAC7B;MACJ,CAAC,CAAC;MACF,IAAI,CAAC+C,OAAO,CAAC9C,kBAAkB,CAAC,MAAM;QAClC,IAAI4C,OAAO,IAAIA,OAAO,CAAC3C,gBAAgB,EAAE;UACrC2C,OAAO,CAAC3C,gBAAgB,CAAC,CAAC;QAC9B;MACJ,CAAC,CAAC;MACF,IAAI,CAAC6C,OAAO,CAAC5C,iBAAiB,CAAC,MAAM;QACjC,IAAI0C,OAAO,IAAIA,OAAO,CAACzC,eAAe,EAAE;UACpCyC,OAAO,CAACzC,eAAe,CAAC,CAAC;QAC7B;MACJ,CAAC,CAAC;IACN;IACA4C,MAAMA,CAAA,EAAG;MACL,OAAQvL,KAAK,CAACI,aAAa,CAAC8H,mBAAmB,CAACsD,QAAQ,EAAE,IAAI,EAAGF,OAAO,IAAK;QACzE,IAAI,CAACA,OAAO,GAAGA,OAAO;QACtB,OAAOtL,KAAK,CAACI,aAAa,CAACyK,gBAAgB,EAAEY,MAAM,CAACC,MAAM,CAAC;UAAEC,GAAG,EAAE,IAAI,CAACV;QAAa,CAAC,EAAE,IAAI,CAACD,KAAK,CAAC,CAAC;MACvG,CAAC,CAAC;IACN;EACJ,CAAC;AACL,CAAC;AAED,MAAMY,mBAAmB,GAAGA,CAAClC,QAAQ,EAAEmC,IAAI,GAAG,EAAE,KAAK;EACjD,MAAMP,OAAO,GAAGrL,UAAU,CAACiI,mBAAmB,CAAC;EAC/C,MAAMyB,EAAE,GAAGzJ,MAAM,CAAC,CAAC;EACnByJ,EAAE,CAAC0B,OAAO,GAAG1B,EAAE,CAAC0B,OAAO,IAAIS,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC;EAC9D7L,SAAS,CAAC,MAAM;IACZuJ,QAAQ,CAACC,EAAE,GAAGA,EAAE,CAAC0B,OAAO;IACxBC,OAAO,CAAClD,kBAAkB,CAACsB,QAAQ,CAAC;IACpC,OAAO,MAAM;MACT4B,OAAO,CAAC1C,uBAAuB,CAACc,QAAQ,CAAC;IAC7C,CAAC;EACL,CAAC,EAAEmC,IAAI,CAAC;AACZ,CAAC;AACD,MAAMI,kBAAkB,GAAGA,CAACvC,QAAQ,EAAEmC,IAAI,GAAG,EAAE,KAAK;EAChD,MAAMP,OAAO,GAAGrL,UAAU,CAACiI,mBAAmB,CAAC;EAC/C,MAAMyB,EAAE,GAAGzJ,MAAM,CAAC,CAAC;EACnByJ,EAAE,CAAC0B,OAAO,GAAG1B,EAAE,CAAC0B,OAAO,IAAIS,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC;EAC9D7L,SAAS,CAAC,MAAM;IACZuJ,QAAQ,CAACC,EAAE,GAAGA,EAAE,CAAC0B,OAAO;IACxBC,OAAO,CAAChD,iBAAiB,CAACoB,QAAQ,CAAC;IACnC,OAAO,MAAM;MACT4B,OAAO,CAACzC,sBAAsB,CAACa,QAAQ,CAAC;IAC5C,CAAC;EACL,CAAC,EAAEmC,IAAI,CAAC;AACZ,CAAC;AACD,MAAMK,mBAAmB,GAAGA,CAACxC,QAAQ,EAAEmC,IAAI,GAAG,EAAE,KAAK;EACjD,MAAMP,OAAO,GAAGrL,UAAU,CAACiI,mBAAmB,CAAC;EAC/C,MAAMyB,EAAE,GAAGzJ,MAAM,CAAC,CAAC;EACnByJ,EAAE,CAAC0B,OAAO,GAAG1B,EAAE,CAAC0B,OAAO,IAAIS,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC;EAC9D7L,SAAS,CAAC,MAAM;IACZuJ,QAAQ,CAACC,EAAE,GAAGA,EAAE,CAAC0B,OAAO;IACxBC,OAAO,CAAC9C,kBAAkB,CAACkB,QAAQ,CAAC;IACpC,OAAO,MAAM;MACT4B,OAAO,CAACxC,uBAAuB,CAACY,QAAQ,CAAC;IAC7C,CAAC;EACL,CAAC,EAAEmC,IAAI,CAAC;AACZ,CAAC;AACD,MAAMM,kBAAkB,GAAGA,CAACzC,QAAQ,EAAEmC,IAAI,GAAG,EAAE,KAAK;EAChD,MAAMP,OAAO,GAAGrL,UAAU,CAACiI,mBAAmB,CAAC;EAC/C,MAAMyB,EAAE,GAAGzJ,MAAM,CAAC,CAAC;EACnByJ,EAAE,CAAC0B,OAAO,GAAG1B,EAAE,CAAC0B,OAAO,IAAIS,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,OAAO,CAAC;EAC9D7L,SAAS,CAAC,MAAM;IACZuJ,QAAQ,CAACC,EAAE,GAAGA,EAAE,CAAC0B,OAAO;IACxBC,OAAO,CAAC5C,iBAAiB,CAACgB,QAAQ,CAAC;IACnC,OAAO,MAAM;MACT4B,OAAO,CAACvC,sBAAsB,CAACW,QAAQ,CAAC;IAC5C,CAAC;EACL,CAAC,EAAEmC,IAAI,CAAC;AACZ,CAAC;AAED,MAAMO,UAAU,GAAG,aAAcpM,KAAK,CAACmI,aAAa,CAAC;EACjDkE,cAAc,EAAEA,CAAA,KAAMC,SAAS;EAC/BC,WAAW,EAAEA,CAAA,KAAMD,SAAS;EAC5BE,cAAc,EAAEA,CAAA,KAAMF,SAAS;EAC/BG,eAAe,EAAEA,CAAA,KAAMH,SAAS;EAChCI,MAAM,EAAGC,KAAK,IAAK;IACf,IAAI,OAAOC,MAAM,KAAK,WAAW,EAAE;MAC/B,IAAI,OAAOD,KAAK,KAAK,QAAQ,EAAE;QAC3BC,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAGH,KAAK;MACpC,CAAC,MACI;QACDC,MAAM,CAACG,OAAO,CAACC,IAAI,CAAC,CAAC;MACzB;IACJ;EACJ,CAAC;EACDC,QAAQ,EAAGC,IAAI,IAAK;IAChB,IAAI,OAAON,MAAM,KAAK,WAAW,EAAE;MAC/BA,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAGI,IAAI;IACnC;EACJ,CAAC;EACDC,cAAc,EAAEA,CAAA,KAAM,KAAK;EAC3BC,SAAS,EAAEd,SAAS;EACpBe,aAAa,EAAEA,CAAA,KAAMf,SAAS;EAC9BgB,SAAS,EAAEA,CAACC,IAAI,EAAEL,IAAI,KAAK;IACvB,IAAI,OAAON,MAAM,KAAK,WAAW,EAAE;MAC/BA,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAGI,IAAI;IACnC;EACJ,CAAC;EACDM,QAAQ,EAAEA,CAACD,IAAI,EAAEL,IAAI,KAAK;IACtB,IAAI,OAAON,MAAM,KAAK,WAAW,EAAE;MAC/BA,MAAM,CAACC,QAAQ,CAACC,QAAQ,GAAGI,IAAI;IACnC;EACJ;AACJ,CAAC,CAAC;AAEF,MAAMO,gBAAgB,GAAIC,GAAG,IAAKA,GAAG,CAChCC,WAAW,CAAC,CAAC,CACbC,KAAK,CAAC,GAAG,CAAC,CACVC,GAAG,CAAEC,OAAO,IAAKA,OAAO,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGF,OAAO,CAACG,KAAK,CAAC,CAAC,CAAC,CAAC,CACpEC,IAAI,CAAC,EAAE,CAAC;AACb,MAAMC,eAAe,GAAIT,GAAG,IAAKA,GAAG,CAACU,OAAO,CAAC,UAAU,EAAGC,CAAC,IAAK,IAAIA,CAAC,CAAC,CAAC,CAAC,CAACV,WAAW,CAAC,CAAC,EAAE,CAAC;AAEzF,MAAMW,WAAW,GAAGA,CAACC,IAAI,EAAEC,QAAQ,EAAEC,QAAQ,GAAG,CAAC,CAAC,KAAK;EACnD;EACA,IAAIF,IAAI,YAAYG,OAAO,EAAE;IACzB;IACA,MAAMC,SAAS,GAAGC,YAAY,CAACL,IAAI,CAACM,SAAS,EAAEL,QAAQ,EAAEC,QAAQ,CAAC;IAClE,IAAIE,SAAS,KAAK,EAAE,EAAE;MAClBJ,IAAI,CAACI,SAAS,GAAGA,SAAS;IAC9B;IACAlD,MAAM,CAACqD,IAAI,CAACN,QAAQ,CAAC,CAACnE,OAAO,CAAE0E,IAAI,IAAK;MACpC,IAAIA,IAAI,KAAK,UAAU,IACnBA,IAAI,KAAK,OAAO,IAChBA,IAAI,KAAK,KAAK,IACdA,IAAI,KAAK,OAAO,IAChBA,IAAI,KAAK,WAAW,IACpBA,IAAI,KAAK,cAAc,EAAE;QACzB;MACJ;MACA,IAAIA,IAAI,CAACC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,IAAID,IAAI,CAAC,CAAC,CAAC,KAAKA,IAAI,CAAC,CAAC,CAAC,CAACf,WAAW,CAAC,CAAC,EAAE;QAC/D,MAAMiB,SAAS,GAAGF,IAAI,CAACG,SAAS,CAAC,CAAC,CAAC;QACnC,MAAMC,WAAW,GAAGF,SAAS,CAAC,CAAC,CAAC,CAACtB,WAAW,CAAC,CAAC,GAAGsB,SAAS,CAACC,SAAS,CAAC,CAAC,CAAC;QACvE,IAAI,CAACE,gBAAgB,CAACD,WAAW,CAAC,EAAE;UAChCE,SAAS,CAACd,IAAI,EAAEY,WAAW,EAAEX,QAAQ,CAACO,IAAI,CAAC,CAAC;QAChD;MACJ,CAAC,MACI;QACDR,IAAI,CAACQ,IAAI,CAAC,GAAGP,QAAQ,CAACO,IAAI,CAAC;QAC3B,MAAMO,QAAQ,GAAG,OAAOd,QAAQ,CAACO,IAAI,CAAC;QACtC,IAAIO,QAAQ,KAAK,QAAQ,EAAE;UACvBf,IAAI,CAACgB,YAAY,CAACpB,eAAe,CAACY,IAAI,CAAC,EAAEP,QAAQ,CAACO,IAAI,CAAC,CAAC;QAC5D;MACJ;IACJ,CAAC,CAAC;EACN;AACJ,CAAC;AACD,MAAMH,YAAY,GAAGA,CAACC,SAAS,EAAEL,QAAQ,EAAEC,QAAQ,KAAK;EACpD,MAAMe,YAAY,GAAGhB,QAAQ,CAACG,SAAS,IAAIH,QAAQ,CAACiB,KAAK;EACzD,MAAMC,YAAY,GAAGjB,QAAQ,CAACE,SAAS,IAAIF,QAAQ,CAACgB,KAAK;EACzD;EACA,MAAME,cAAc,GAAGC,UAAU,CAACf,SAAS,CAAC;EAC5C,MAAMgB,mBAAmB,GAAGD,UAAU,CAACJ,YAAY,GAAGA,YAAY,CAAC5B,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;EACnF,MAAMkC,cAAc,GAAGF,UAAU,CAACF,YAAY,GAAGA,YAAY,CAAC9B,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC;EAC9E,MAAMmC,eAAe,GAAG,EAAE;EAC1B;EACA;EACAJ,cAAc,CAACtF,OAAO,CAAE2F,YAAY,IAAK;IACrC,IAAIH,mBAAmB,CAACI,GAAG,CAACD,YAAY,CAAC,EAAE;MACvC;MACAD,eAAe,CAAChG,IAAI,CAACiG,YAAY,CAAC;MAClCH,mBAAmB,CAACK,MAAM,CAACF,YAAY,CAAC;IAC5C,CAAC,MACI,IAAI,CAACF,cAAc,CAACG,GAAG,CAACD,YAAY,CAAC,EAAE;MACxC;MACAD,eAAe,CAAChG,IAAI,CAACiG,YAAY,CAAC;IACtC;EACJ,CAAC,CAAC;EACFH,mBAAmB,CAACxF,OAAO,CAAE8F,CAAC,IAAKJ,eAAe,CAAChG,IAAI,CAACoG,CAAC,CAAC,CAAC;EAC3D,OAAOJ,eAAe,CAAC7B,IAAI,CAAC,GAAG,CAAC;AACpC,CAAC;AACD;AACA;AACA;AACA,MAAMkC,uBAAuB,GAAIC,eAAe,IAAK;EACjD,QAAQA,eAAe;IACnB,KAAK,aAAa;MACd,OAAO,UAAU;EACzB;EACA,OAAOA,eAAe;AAC1B,CAAC;AACD;AACA;AACA;AACA;AACA,MAAMjB,gBAAgB,GAAIiB,eAAe,IAAK;EAC1C,IAAI,OAAOC,QAAQ,KAAK,WAAW,EAAE;IACjC,OAAO,IAAI;EACf,CAAC,MACI;IACD,MAAMrB,SAAS,GAAG,IAAI,GAAGmB,uBAAuB,CAACC,eAAe,CAAC;IACjE,IAAIE,WAAW,IAAGtB,SAAS,IAAIqB,QAAQ;IACvC,IAAI,CAACC,WAAW,EAAE;MACd,MAAMnF,OAAO,GAAGkF,QAAQ,CAAClQ,aAAa,CAAC,KAAK,CAAC;MAC7CgL,OAAO,CAACmE,YAAY,CAACN,SAAS,EAAE,SAAS,CAAC;MAC1CsB,WAAW,GAAG,OAAOnF,OAAO,CAAC6D,SAAS,CAAC,KAAK,UAAU;IAC1D;IACA,OAAOsB,WAAW;EACtB;AACJ,CAAC;AACD,MAAMlB,SAAS,GAAGA,CAACd,IAAI,EAAEU,SAAS,EAAEuB,eAAe,KAAK;EACpD,MAAMC,UAAU,GAAGlC,IAAI,CAACmC,QAAQ,KAAKnC,IAAI,CAACmC,QAAQ,GAAG,CAAC,CAAC,CAAC;EACxD,MAAMC,eAAe,GAAGF,UAAU,CAACxB,SAAS,CAAC;EAC7C;EACA,IAAI0B,eAAe,EAAE;IACjBpC,IAAI,CAACqC,mBAAmB,CAAC3B,SAAS,EAAE0B,eAAe,CAAC;EACxD;EACA;EACApC,IAAI,CAACsC,gBAAgB,CAAC5B,SAAS,EAAGwB,UAAU,CAACxB,SAAS,CAAC,GAAG,SAAS6B,OAAOA,CAACC,CAAC,EAAE;IAC1E,IAAIP,eAAe,EAAE;MACjBA,eAAe,CAACQ,IAAI,CAAC,IAAI,EAAED,CAAC,CAAC;IACjC;EACJ,CAAE,CAAC;AACP,CAAC;AACD,MAAMnB,UAAU,GAAIqB,GAAG,IAAK;EACxB,MAAMpD,GAAG,GAAG,IAAIqD,GAAG,CAAC,CAAC;EACrBD,GAAG,CAAC5G,OAAO,CAAE8F,CAAC,IAAKtC,GAAG,CAACsD,GAAG,CAAChB,CAAC,EAAEA,CAAC,CAAC,CAAC;EACjC,OAAOtC,GAAG;AACd,CAAC;AAED,MAAMuD,MAAM,GAAGA,CAACzF,GAAG,EAAE0F,KAAK,KAAK;EAC3B,IAAI,OAAO1F,GAAG,KAAK,UAAU,EAAE;IAC3BA,GAAG,CAAC0F,KAAK,CAAC;EACd,CAAC,MACI,IAAI1F,GAAG,IAAI,IAAI,EAAE;IAClB;IACAA,GAAG,CAACN,OAAO,GAAGgG,KAAK;EACvB;AACJ,CAAC;AACD,MAAMC,SAAS,GAAGA,CAAC,GAAGC,IAAI,KAAK;EAC3B,OAAQF,KAAK,IAAK;IACdE,IAAI,CAAClH,OAAO,CAAEsB,GAAG,IAAK;MAClByF,MAAM,CAACzF,GAAG,EAAE0F,KAAK,CAAC;IACtB,CAAC,CAAC;EACN,CAAC;AACL,CAAC;AACD,MAAMG,kBAAkB,GAAGA,CAACC,cAAc,EAAEC,WAAW,KAAK;EACxD,MAAMC,UAAU,GAAGA,CAAC3G,KAAK,EAAEW,GAAG,KAAK;IAC/B,OAAO3L,KAAK,CAACI,aAAa,CAACqR,cAAc,EAAEhG,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEV,KAAK,EAAE;MAAE4G,YAAY,EAAEjG;IAAI,CAAC,CAAC,CAAC;EAC/F,CAAC;EACDgG,UAAU,CAACD,WAAW,GAAGA,WAAW;EACpC,OAAO1R,KAAK,CAAC2R,UAAU,CAACA,UAAU,CAAC;AACvC,CAAC;AACD,MAAMzP,mBAAmB,GAAGA,CAAC2P,OAAO,EAAEC,aAAa,KAAK;EACpD,IAAIA,aAAa,KAAKxF,SAAS,IAAI,OAAOyF,cAAc,KAAK,WAAW,IAAI,CAACA,cAAc,CAACC,GAAG,CAACH,OAAO,CAAC,EAAE;IACtGE,cAAc,CAACE,MAAM,CAACJ,OAAO,EAAEC,aAAa,CAAC;EACjD;AACJ,CAAC;AAED,MAAMI,oBAAoB,GAAGA,CAACL,OAAO,EAAEM,qBAAqB,EAAEC,uBAAuB,EAAElQ,mBAAmB,KAAK;EAC3G,IAAIA,mBAAmB,KAAKoK,SAAS,EAAE;IACnCpK,mBAAmB,CAAC,CAAC;EACzB;EACA,MAAMwP,WAAW,GAAGjE,gBAAgB,CAACoE,OAAO,CAAC;EAC7C,MAAMJ,cAAc,GAAG,cAAczR,KAAK,CAAC+K,SAAS,CAAC;IACjD9B,WAAWA,CAAC+B,KAAK,EAAE;MACf,KAAK,CAACA,KAAK,CAAC;MACZ,IAAI,CAACqH,iBAAiB,GAAIjH,OAAO,IAAK;QAClC,IAAI,CAACkH,WAAW,GAAGlH,OAAO;MAC9B,CAAC;IACL;IACAD,iBAAiBA,CAAA,EAAG;MAChB,IAAI,CAACoH,kBAAkB,CAAC,IAAI,CAACvH,KAAK,CAAC;IACvC;IACAuH,kBAAkBA,CAACC,SAAS,EAAE;MAC1BlE,WAAW,CAAC,IAAI,CAACgE,WAAW,EAAE,IAAI,CAACtH,KAAK,EAAEwH,SAAS,CAAC;IACxD;IACAjH,MAAMA,CAAA,EAAG;MACL,MAAMkH,EAAE,GAAG,IAAI,CAACzH,KAAK;QAAE;UAAE0H,QAAQ;UAAEd,YAAY;UAAEe,KAAK;UAAEhE,SAAS;UAAEhD;QAAI,CAAC,GAAG8G,EAAE;QAAEG,MAAM,GAAG7Q,MAAM,CAAC0Q,EAAE,EAAE,CAAC,UAAU,EAAE,cAAc,EAAE,OAAO,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;MAC7J,IAAII,WAAW,GAAGpH,MAAM,CAACqD,IAAI,CAAC8D,MAAM,CAAC,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEhE,IAAI,KAAK;QACxD,MAAMsC,KAAK,GAAGuB,MAAM,CAAC7D,IAAI,CAAC;QAC1B,IAAIA,IAAI,CAACC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,IAAID,IAAI,CAAC,CAAC,CAAC,KAAKA,IAAI,CAAC,CAAC,CAAC,CAACf,WAAW,CAAC,CAAC,EAAE;UAC/D,MAAMiB,SAAS,GAAGF,IAAI,CAACG,SAAS,CAAC,CAAC,CAAC,CAACvB,WAAW,CAAC,CAAC;UACjD,IAAI,OAAO2C,QAAQ,KAAK,WAAW,IAAIlB,gBAAgB,CAACH,SAAS,CAAC,EAAE;YAChE8D,GAAG,CAAChE,IAAI,CAAC,GAAGsC,KAAK;UACrB;QACJ,CAAC,MACI;UACD;UACA;UACA,MAAM2B,IAAI,GAAG,OAAO3B,KAAK;UACzB,IAAI2B,IAAI,KAAK,QAAQ,IAAIA,IAAI,KAAK,SAAS,IAAIA,IAAI,KAAK,QAAQ,EAAE;YAC9DD,GAAG,CAAC5E,eAAe,CAACY,IAAI,CAAC,CAAC,GAAGsC,KAAK;UACtC;QACJ;QACA,OAAO0B,GAAG;MACd,CAAC,EAAE,CAAC,CAAC,CAAC;MACN,IAAIX,uBAAuB,EAAE;QACzBS,WAAW,GAAGT,uBAAuB,CAAC,IAAI,CAACpH,KAAK,EAAE6H,WAAW,CAAC;MAClE;MACA,MAAMrE,QAAQ,GAAG/C,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEmH,WAAW,CAAC,EAAE;QAAElH,GAAG,EAAE2F,SAAS,CAACM,YAAY,EAAE,IAAI,CAACS,iBAAiB,CAAC;QAAEM;MAAM,CAAC,CAAC;MAC/H;AACZ;AACA;AACA;AACA;AACA;AACA;MACY,OAAOvS,aAAa,CAACyR,OAAO,EAAErD,QAAQ,EAAEkE,QAAQ,CAAC;IACrD;IACA,WAAWhB,WAAWA,CAAA,EAAG;MACrB,OAAOA,WAAW;IACtB;EACJ,CAAC;EACD;EACA,IAAIS,qBAAqB,EAAE;IACvBV,cAAc,CAACwB,WAAW,GAAGd,qBAAqB;EACtD;EACA,OAAOX,kBAAkB,CAACC,cAAc,EAAEC,WAAW,CAAC;AAC1D,CAAC;;AAED;AACA;AACA;AACA,MAAMwB,YAAY,GAAG,aAAchB,oBAAoB,CAAC,eAAe,EAAE5F,SAAS,EAAEA,SAAS,EAAEnK,qBAAqB,CAAC;AACrH,MAAMgR,iBAAiB,GAAG,aAAcjB,oBAAoB,CAAC,qBAAqB,EAAE5F,SAAS,EAAEA,SAAS,EAAElK,qBAAqB,CAAC;AAChI,MAAMgR,SAAS,GAAG,aAAclB,oBAAoB,CAAC,YAAY,EAAE5F,SAAS,EAAEA,SAAS,EAAEjK,qBAAqB,CAAC;AAC/G,MAAMgR,WAAW,GAAG,aAAcnB,oBAAoB,CAAC,cAAc,EAAE5F,SAAS,EAAEA,SAAS,EAAEhK,qBAAqB,CAAC;AACnH,MAAMgR,QAAQ,GAAG,aAAcpB,oBAAoB,CAAC,WAAW,EAAE5F,SAAS,EAAEA,SAAS,EAAE/J,qBAAqB,CAAC;AAC7G,MAAMgR,cAAc,GAAG,aAAcrB,oBAAoB,CAAC,iBAAiB,EAAE5F,SAAS,EAAEA,SAAS,EAAE9J,qBAAqB,CAAC;AACzH,MAAMgR,UAAU,GAAG,aAActB,oBAAoB,CAAC,aAAa,EAAE5F,SAAS,EAAEA,SAAS,EAAE7J,qBAAqB,CAAC;AACjH,MAAMgR,cAAc,GAAG,aAAcvB,oBAAoB,CAAC,kBAAkB,EAAE5F,SAAS,EAAEA,SAAS,EAAE5J,qBAAqB,CAAC;AAC1H,MAAMgR,aAAa,GAAG,aAAcxB,oBAAoB,CAAC,iBAAiB,EAAE5F,SAAS,EAAEA,SAAS,EAAE3J,qBAAqB,CAAC;AACxH,MAAMgR,eAAe,GAAG,aAAczB,oBAAoB,CAAC,mBAAmB,EAAE5F,SAAS,EAAEA,SAAS,EAAE1J,qBAAqB,CAAC;AAC5H,MAAMgR,YAAY,GAAG,aAAc1B,oBAAoB,CAAC,gBAAgB,EAAE5F,SAAS,EAAEA,SAAS,EAAEzJ,qBAAqB,CAAC;AACtH,MAAMgR,WAAW,GAAG,aAAc3B,oBAAoB,CAAC,cAAc,EAAE5F,SAAS,EAAEA,SAAS,EAAExJ,qBAAqB,CAAC;AACnH,MAAMgR,OAAO,GAAG,aAAc5B,oBAAoB,CAAC,UAAU,EAAE5F,SAAS,EAAEA,SAAS,EAAEvJ,qBAAqB,CAAC;AAC3G,MAAMgR,MAAM,GAAG,aAAc7B,oBAAoB,CAAC,SAAS,EAAE5F,SAAS,EAAEA,SAAS,EAAEtJ,qBAAqB,CAAC;AACzG,MAAMgR,UAAU,GAAG,aAAc9B,oBAAoB,CAAC,aAAa,EAAE5F,SAAS,EAAEA,SAAS,EAAErJ,qBAAqB,CAAC;AACjH,MAAMgR,WAAW,GAAG,aAAc/B,oBAAoB,CAAC,cAAc,EAAE5F,SAAS,EAAEA,SAAS,EAAEpJ,qBAAqB,CAAC;AACnH,MAAMgR,iBAAiB,GAAG,aAAchC,oBAAoB,CAAC,qBAAqB,EAAE5F,SAAS,EAAEA,SAAS,EAAEnJ,qBAAqB,CAAC;AAChI,MAAMgR,MAAM,GAAG,aAAcjC,oBAAoB,CAAC,SAAS,EAAE5F,SAAS,EAAEA,SAAS,EAAElJ,qBAAqB,CAAC;AACzG,MAAMgR,UAAU,GAAG,aAAclC,oBAAoB,CAAC,cAAc,EAAE5F,SAAS,EAAEA,SAAS,EAAEjJ,qBAAqB,CAAC;AAClH,MAAMgR,SAAS,GAAG,aAAcnC,oBAAoB,CAAC,YAAY,EAAE5F,SAAS,EAAEA,SAAS,EAAEhJ,qBAAqB,CAAC;AAC/G,MAAMgR,OAAO,GAAG,aAAcpC,oBAAoB,CAAC,UAAU,EAAE5F,SAAS,EAAEA,SAAS,EAAE/I,qBAAqB,CAAC;AAC3G,MAAMgR,SAAS,GAAG,aAAcrC,oBAAoB,CAAC,YAAY,EAAE5F,SAAS,EAAEA,SAAS,EAAE9I,qBAAqB,CAAC;AAC/G,MAAMgR,MAAM,GAAG,aAActC,oBAAoB,CAAC,SAAS,EAAE5F,SAAS,EAAEA,SAAS,EAAE7I,qBAAqB,CAAC;AACzG,MAAMgR,iBAAiB,GAAG,aAAcvC,oBAAoB,CAAC,qBAAqB,EAAE5F,SAAS,EAAEA,SAAS,EAAE5I,qBAAqB,CAAC;AAChI,MAAMgR,wBAAwB,GAAG,aAAcxC,oBAAoB,CAAC,6BAA6B,EAAE5F,SAAS,EAAEA,SAAS,EAAE3I,qBAAqB,CAAC;AAC/I,MAAMgR,QAAQ,GAAG,aAAczC,oBAAoB,CAAC,WAAW,EAAE5F,SAAS,EAAEA,SAAS,EAAE1I,qBAAqB,CAAC;AAC7G,MAAMgR,sBAAsB,GAAG,aAAc1C,oBAAoB,CAAC,2BAA2B,EAAE5F,SAAS,EAAEA,SAAS,EAAEzI,qBAAqB,CAAC;AAC3I,MAAMgR,cAAc,GAAG,aAAc3C,oBAAoB,CAAC,kBAAkB,EAAE5F,SAAS,EAAEA,SAAS,EAAExI,qBAAqB,CAAC;AAC1H,MAAMgR,YAAY,GAAG,aAAc5C,oBAAoB,CAAC,gBAAgB,EAAE5F,SAAS,EAAEA,SAAS,EAAEvI,qBAAqB,CAAC;AACtH,MAAMgR,cAAc,GAAG,aAAc7C,oBAAoB,CAAC,kBAAkB,EAAE5F,SAAS,EAAEA,SAAS,EAAEtI,qBAAqB,CAAC;AAC1H,MAAMgR,cAAc,GAAG,aAAc9C,oBAAoB,CAAC,kBAAkB,EAAE5F,SAAS,EAAEA,SAAS,EAAErI,qBAAqB,CAAC;AAC1H,MAAMgR,QAAQ,GAAG,aAAc/C,oBAAoB,CAAC,WAAW,EAAE5F,SAAS,EAAEA,SAAS,EAAEpI,qBAAqB,CAAC;AAC7G,MAAMgR,OAAO,GAAG,aAAchD,oBAAoB,CAAC,UAAU,EAAE5F,SAAS,EAAEA,SAAS,EAAEnI,qBAAqB,CAAC;AAC3G,MAAMgR,aAAa,GAAG,aAAcjD,oBAAoB,CAAC,iBAAiB,EAAE5F,SAAS,EAAEA,SAAS,EAAElI,qBAAqB,CAAC;AACxH,MAAMgR,OAAO,GAAG,aAAclD,oBAAoB,CAAC,UAAU,EAAE5F,SAAS,EAAEA,SAAS,EAAEjI,qBAAqB,CAAC;AAC3G,MAAMgR,aAAa,GAAG,aAAcnD,oBAAoB,CAAC,iBAAiB,EAAE5F,SAAS,EAAEA,SAAS,EAAEhI,qBAAqB,CAAC;AACxH,MAAMgR,aAAa,GAAG,aAAcpD,oBAAoB,CAAC,iBAAiB,EAAE5F,SAAS,EAAEA,SAAS,EAAE/H,qBAAqB,CAAC;AACxH,MAAMgR,UAAU,GAAG,aAAcrD,oBAAoB,CAAC,cAAc,EAAE5F,SAAS,EAAEA,SAAS,EAAE7H,qBAAqB,CAAC;AAClH,MAAM+Q,OAAO,GAAG,aAActD,oBAAoB,CAAC,UAAU,EAAE5F,SAAS,EAAEA,SAAS,EAAE5H,qBAAqB,CAAC;AAC3G,MAAM+Q,SAAS,GAAG,aAAcvD,oBAAoB,CAAC,YAAY,EAAE5F,SAAS,EAAEA,SAAS,EAAE3H,qBAAqB,CAAC;AAC/G,MAAM+Q,eAAe,GAAG,aAAcxD,oBAAoB,CAAC,mBAAmB,EAAE5F,SAAS,EAAEA,SAAS,EAAE1H,qBAAqB,CAAC;AAC5H,MAAM+Q,qBAAqB,GAAG,aAAczD,oBAAoB,CAAC,0BAA0B,EAAE5F,SAAS,EAAEA,SAAS,EAAEzH,qBAAqB,CAAC;AACzI,MAAM+Q,cAAc,GAAG,aAAc1D,oBAAoB,CAAC,kBAAkB,EAAE5F,SAAS,EAAEA,SAAS,EAAExH,qBAAqB,CAAC;AAC1H,MAAM+Q,QAAQ,GAAG,aAAc3D,oBAAoB,CAAC,WAAW,EAAE5F,SAAS,EAAEA,SAAS,EAAEvH,qBAAqB,CAAC;AAC7G,MAAM+Q,aAAa,GAAG,aAAc5D,oBAAoB,CAAC,iBAAiB,EAAE5F,SAAS,EAAEA,SAAS,EAAEtH,qBAAqB,CAAC;AACxH,MAAM+Q,QAAQ,GAAG,aAAc7D,oBAAoB,CAAC,WAAW,EAAE5F,SAAS,EAAEA,SAAS,EAAErH,qBAAqB,CAAC;AAC7G,MAAM+Q,YAAY,GAAG,aAAc9D,oBAAoB,CAAC,eAAe,EAAE5F,SAAS,EAAEA,SAAS,EAAEpH,qBAAqB,CAAC;AACrH,MAAM+Q,mBAAmB,GAAG,aAAc/D,oBAAoB,CAAC,uBAAuB,EAAE5F,SAAS,EAAEA,SAAS,EAAEnH,qBAAqB,CAAC;AACpI,MAAM+Q,UAAU,GAAG,aAAchE,oBAAoB,CAAC,aAAa,EAAE5F,SAAS,EAAEA,SAAS,EAAElH,qBAAqB,CAAC;AACjH,MAAM+Q,eAAe,GAAG,aAAcjE,oBAAoB,CAAC,mBAAmB,EAAE5F,SAAS,EAAEA,SAAS,EAAEjH,qBAAqB,CAAC;AAC5H,MAAM+Q,eAAe,GAAG,aAAclE,oBAAoB,CAAC,mBAAmB,EAAE5F,SAAS,EAAEA,SAAS,EAAEhH,qBAAqB,CAAC;AAC5H,MAAM+Q,MAAM,GAAG,aAAcnE,oBAAoB,CAAC,SAAS,EAAE5F,SAAS,EAAEA,SAAS,EAAE/G,qBAAqB,CAAC;AACzG,MAAM+Q,YAAY,GAAG,aAAcpE,oBAAoB,CAAC,eAAe,EAAE5F,SAAS,EAAEA,SAAS,EAAE9G,qBAAqB,CAAC;AACrH,MAAM+Q,UAAU,GAAG,aAAcrE,oBAAoB,CAAC,aAAa,EAAE5F,SAAS,EAAEA,SAAS,EAAE7G,qBAAqB,CAAC;AACjH,MAAM+Q,gBAAgB,GAAG,aAActE,oBAAoB,CAAC,oBAAoB,EAAE5F,SAAS,EAAEA,SAAS,EAAE5G,qBAAqB,CAAC;AAC9H,MAAM+Q,SAAS,GAAG,aAAcvE,oBAAoB,CAAC,YAAY,EAAE5F,SAAS,EAAEA,SAAS,EAAE3G,qBAAqB,CAAC;AAC/G,MAAM+Q,eAAe,GAAG,aAAcxE,oBAAoB,CAAC,mBAAmB,EAAE5F,SAAS,EAAEA,SAAS,EAAE1G,qBAAqB,CAAC;AAC5H,MAAM+Q,eAAe,GAAG,aAAczE,oBAAoB,CAAC,mBAAmB,EAAE5F,SAAS,EAAEA,SAAS,EAAEzG,qBAAqB,CAAC;AAC5H,MAAM+Q,UAAU,GAAG,aAAc1E,oBAAoB,CAAC,aAAa,EAAE5F,SAAS,EAAEA,SAAS,EAAExG,qBAAqB,CAAC;AACjH,MAAM+Q,YAAY,GAAG,aAAc3E,oBAAoB,CAAC,gBAAgB,EAAE5F,SAAS,EAAEA,SAAS,EAAEvG,qBAAqB,CAAC;AACtH,MAAM+Q,MAAM,GAAG,aAAc5E,oBAAoB,CAAC,SAAS,EAAE5F,SAAS,EAAEA,SAAS,EAAEtG,qBAAqB,CAAC;AACzG,MAAM+Q,OAAO,GAAG,aAAc7E,oBAAoB,CAAC,UAAU,EAAE5F,SAAS,EAAEA,SAAS,EAAErG,qBAAqB,CAAC;AAC3G,MAAM+Q,WAAW,GAAG,aAAc9E,oBAAoB,CAAC,cAAc,EAAE5F,SAAS,EAAEA,SAAS,EAAEpG,qBAAqB,CAAC;AACnH,MAAM+Q,YAAY,GAAG,aAAc/E,oBAAoB,CAAC,eAAe,EAAE5F,SAAS,EAAEA,SAAS,EAAEnG,sBAAsB,CAAC;AACtH,MAAM+Q,QAAQ,GAAG,aAAchF,oBAAoB,CAAC,WAAW,EAAE5F,SAAS,EAAEA,SAAS,EAAElG,sBAAsB,CAAC;AAC9G,MAAM+Q,SAAS,GAAG,aAAcjF,oBAAoB,CAAC,YAAY,EAAE5F,SAAS,EAAEA,SAAS,EAAEjG,sBAAsB,CAAC;AAChH,MAAM+Q,UAAU,GAAG,aAAclF,oBAAoB,CAAC,aAAa,EAAE5F,SAAS,EAAEA,SAAS,EAAEhG,sBAAsB,CAAC;AAElH,MAAM+Q,gBAAgB,GAAGA,CAAC5F,cAAc;AAAE;AAC1CC,WAAW,KAAK;EACZ,MAAMC,UAAU,GAAGA,CAAC3G,KAAK,EAAEW,GAAG,KAAK;IAC/B,OAAO3L,KAAK,CAACI,aAAa,CAACqR,cAAc,EAAEhG,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEV,KAAK,EAAE;MAAE4G,YAAY,EAAEjG;IAAI,CAAC,CAAC,CAAC;EAC/F,CAAC;EACDgG,UAAU,CAACD,WAAW,GAAGA,WAAW;EACpC,OAAO1R,KAAK,CAAC2R,UAAU,CAACA,UAAU,CAAC;AACvC,CAAC;AACD,MAAMlR,UAAU,GAAI6W,QAAQ,IAAK;EAC7B,OAAO5W,YAAY,CAACkM,MAAM,EAAE0K,QAAQ,CAAC;AACzC,CAAC;AACD,MAAM3W,YAAY,GAAGA,CAAA,KAAM;EACvB,OAAOC,cAAc,CAACgM,MAAM,CAAC;AACjC,CAAC;AACD,MAAM2K,SAAS,GAAGA,CAAA,KAAM;EACpB,IAAI,OAAO3K,MAAM,KAAK,WAAW,EAAE;IAC/B,MAAM4K,KAAK,GAAG5K,MAAM,CAAC4K,KAAK;IAC1B,IAAIA,KAAK,IAAIA,KAAK,CAACC,MAAM,EAAE;MACvB,OAAOD,KAAK,CAACC,MAAM;IACvB;EACJ;EACA,OAAO,IAAI;AACf,CAAC;AAED,MAAMC,sBAAsB,GAAGA,CAAC7F,OAAO,EAAEC,aAAa,KAAK;EACvD5P,mBAAmB,CAAC2P,OAAO,EAAEC,aAAa,CAAC;EAC3C,MAAMJ,WAAW,GAAGjE,gBAAgB,CAACoE,OAAO,CAAC;EAC7C,MAAMJ,cAAc,GAAG,cAAczR,KAAK,CAAC+K,SAAS,CAAC;IACjD9B,WAAWA,CAAC+B,KAAK,EAAE;MACf,KAAK,CAACA,KAAK,CAAC;MACZ,IAAI,CAAC2M,WAAW,GAAI5G,CAAC,IAAK;QACtB,MAAM;UAAE6G,UAAU;UAAEC,eAAe;UAAEC,aAAa;UAAEC;QAAgB,CAAC,GAAG,IAAI,CAAC/M,KAAK;QAClF,IAAI4M,UAAU,KAAKtL,SAAS,EAAE;UAC1ByE,CAAC,CAACiH,cAAc,CAAC,CAAC;UAClB,IAAI,CAAC1M,OAAO,CAAC2B,QAAQ,CAAC2K,UAAU,EAAEC,eAAe,EAAEvL,SAAS,EAAEyL,eAAe,EAAED,aAAa,CAAC;QACjG;MACJ,CAAC;MACD;MACA,IAAI,CAACnM,GAAG,GAAG3L,KAAK,CAACkL,SAAS,CAAC,CAAC;MAC5B;MACA,IAAI,CAAC+M,gBAAgB,GAAG3G,SAAS,CAAC,IAAI,CAAC3F,GAAG,EAAE,IAAI,CAACX,KAAK,CAAC4G,YAAY,CAAC;IACxE;IACAzG,iBAAiBA,CAAA,EAAG;MAChB,IAAI,CAACoH,kBAAkB,CAAC,IAAI,CAACvH,KAAK,CAAC;IACvC;IACAuH,kBAAkBA,CAACC,SAAS,EAAE;MAC1B,MAAMjE,IAAI,GAAG,IAAI,CAAC5C,GAAG,CAACN,OAAO;MAC7BiD,WAAW,CAACC,IAAI,EAAE,IAAI,CAACvD,KAAK,EAAEwH,SAAS,CAAC;IAC5C;IACAjH,MAAMA,CAAA,EAAG;MACL;MACA,MAAMkH,EAAE,GAAG,IAAI,CAACzH,KAAK;QAAE;UAAE0H,QAAQ;UAAEd,YAAY;UAAEe,KAAK;UAAEhE,SAAS;UAAEhD;QAAI,CAAC,GAAG8G,EAAE;QAAEG,MAAM,GAAG7Q,MAAM,CAAC0Q,EAAE,EAAE,CAAC,UAAU,EAAE,cAAc,EAAE,OAAO,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;MAC7J,MAAMI,WAAW,GAAGpH,MAAM,CAACqD,IAAI,CAAC8D,MAAM,CAAC,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEhE,IAAI,KAAK;QAC1D,IAAIA,IAAI,CAACC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,IAAID,IAAI,CAAC,CAAC,CAAC,KAAKA,IAAI,CAAC,CAAC,CAAC,CAACf,WAAW,CAAC,CAAC,EAAE;UAC/D,MAAMiB,SAAS,GAAGF,IAAI,CAACG,SAAS,CAAC,CAAC,CAAC,CAACvB,WAAW,CAAC,CAAC;UACjD,IAAIyB,gBAAgB,CAACH,SAAS,CAAC,EAAE;YAC7B8D,GAAG,CAAChE,IAAI,CAAC,GAAG6D,MAAM,CAAC7D,IAAI,CAAC;UAC5B;QACJ,CAAC,MACI,IAAI,CAAC,QAAQ,EAAE,SAAS,EAAE,QAAQ,CAAC,CAACmJ,QAAQ,CAAC,OAAOtF,MAAM,CAAC7D,IAAI,CAAC,CAAC,EAAE;UACpEgE,GAAG,CAAC5E,eAAe,CAACY,IAAI,CAAC,CAAC,GAAG6D,MAAM,CAAC7D,IAAI,CAAC;QAC7C;QACA,OAAOgE,GAAG;MACd,CAAC,EAAE,CAAC,CAAC,CAAC;MACN,MAAMvE,QAAQ,GAAG/C,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEmH,WAAW,CAAC,EAAE;QAAElH,GAAG,EAAE,IAAI,CAACsM,gBAAgB;QAAEtF;MAAM,CAAC,CAAC;MACrG,IAAI,IAAI,CAAC3H,KAAK,CAAC4M,UAAU,IAAI,CAAC,IAAI,CAAC5M,KAAK,CAACmN,IAAI,EAAE;QAC3C3J,QAAQ,CAAC2J,IAAI,GAAG,IAAI,CAACnN,KAAK,CAAC4M,UAAU;MACzC;MACA,IAAIpJ,QAAQ,CAAC4J,OAAO,EAAE;QAClB,MAAMC,QAAQ,GAAG7J,QAAQ,CAAC4J,OAAO;QACjC5J,QAAQ,CAAC4J,OAAO,GAAIrH,CAAC,IAAK;UACtBsH,QAAQ,CAACtH,CAAC,CAAC;UACX,IAAI,CAACA,CAAC,CAACuH,gBAAgB,EAAE;YACrB,IAAI,CAACX,WAAW,CAAC5G,CAAC,CAAC;UACvB;QACJ,CAAC;MACL,CAAC,MACI;QACDvC,QAAQ,CAAC4J,OAAO,GAAG,IAAI,CAACT,WAAW;MACvC;MACA,OAAOvX,aAAa,CAACyR,OAAO,EAAErD,QAAQ,EAAEkE,QAAQ,CAAC;IACrD;IACA,WAAWhB,WAAWA,CAAA,EAAG;MACrB,OAAOA,WAAW;IACtB;IACA,WAAWuB,WAAWA,CAAA,EAAG;MACrB,OAAO7G,UAAU;IACrB;EACJ,CAAC;EACD,OAAOiL,gBAAgB,CAAC5F,cAAc,EAAEC,WAAW,CAAC;AACxD,CAAC;AAED,MAAMvK,aAAa,GAAG,aAAcuQ,sBAAsB,CAAC,iBAAiB,EAAEtQ,eAAe,CAAC;AAC9F,MAAMX,SAAS,GAAG,aAAciR,sBAAsB,CAAC,YAAY,EAAEhR,WAAW,CAAC;AACjF,MAAMC,OAAO,GAAG,aAAc+Q,sBAAsB,CAAC,UAAU,EAAE9Q,SAAS,CAAC;AAC3E,MAAMC,YAAY,GAAG,aAAc6Q,sBAAsB,CAAC,gBAAgB,EAAE5Q,cAAc,CAAC;AAC3F,MAAMG,OAAO,GAAG,aAAcyQ,sBAAsB,CAAC,UAAU,EAAExQ,SAAS,CAAC;AAC3E,MAAMH,aAAa,GAAG,aAAc2Q,sBAAsB,CAAC,iBAAiB,EAAE1Q,eAAe,CAAC;AAC9F,MAAMT,aAAa,GAAG,aAAcmR,sBAAsB,CAAC,gBAAgB,EAAElR,eAAe,CAAC;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM+R,WAAW,GAAGA,CAAChK,IAAI,EAAEvD,KAAK,KAAK;EACjC,IAAIuD,IAAI,YAAYG,OAAO,EAAE;IACzBjD,MAAM,CAACqD,IAAI,CAAC9D,KAAK,CAAC,CAACX,OAAO,CAAE0E,IAAI,IAAK;MACjC,IAAIA,IAAI,CAACC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,IAAID,IAAI,CAAC,CAAC,CAAC,KAAKA,IAAI,CAAC,CAAC,CAAC,CAACf,WAAW,CAAC,CAAC,EAAE;QAC/D,MAAMiB,SAAS,GAAGF,IAAI,CAACG,SAAS,CAAC,CAAC,CAAC;QACnC,MAAMC,WAAW,GAAGF,SAAS,CAAC,CAAC,CAAC,CAACtB,WAAW,CAAC,CAAC,GAAGsB,SAAS,CAACC,SAAS,CAAC,CAAC,CAAC;QACvE,IAAI,CAACE,gBAAgB,CAACD,WAAW,CAAC,EAAE;UAChC;AACpB;AACA;AACA;UACoBqJ,WAAW,CAACjK,IAAI,EAAEY,WAAW,CAAC;QAClC;MACJ;IACJ,CAAC,CAAC;EACN;AACJ,CAAC;AACD,MAAMqJ,WAAW,GAAGA,CAACjK,IAAI,EAAEU,SAAS,KAAK;EACrC,MAAMwB,UAAU,GAAGlC,IAAI,CAACmC,QAAQ,KAAKnC,IAAI,CAACmC,QAAQ,GAAG,CAAC,CAAC,CAAC;EACxD;AACJ;AACA;AACA;EACI,MAAM+H,YAAY,GAAGhI,UAAU,CAACxB,SAAS,CAAC;EAC1C,IAAIwJ,YAAY,EAAE;IACdlK,IAAI,CAACqC,mBAAmB,CAAC3B,SAAS,EAAEwJ,YAAY,CAAC;IACjDhI,UAAU,CAACxB,SAAS,CAAC,GAAG3C,SAAS;EACrC;AACJ,CAAC;AAED,MAAMoM,4BAA4B,GAAGA,CAAC7G,OAAO,EAAE3P,mBAAmB,EAAEyW,eAAe,KAAK;EACpF,IAAIzW,mBAAmB,EAAE;IACrBA,mBAAmB,CAAC,CAAC;EACzB;EACA,MAAMwP,WAAW,GAAGjE,gBAAgB,CAACoE,OAAO,CAAC;EAC7C,MAAMJ,cAAc,GAAG,cAAczR,KAAK,CAAC+K,SAAS,CAAC;IACjD9B,WAAWA,CAAC+B,KAAK,EAAE;MACf,KAAK,CAACA,KAAK,CAAC;MACZ,IAAI,CAAC4N,cAAc,GAAG,MAAM;QACxB;AAChB;AACA;AACA;AACA;AACA;AACA;QACgB,IAAI,CAACC,QAAQ,CAAC;UAAEC,MAAM,EAAE;QAAK,CAAC,CAAC;MACnC,CAAC;MACD,IAAI,CAACC,iBAAiB,GAAIC,GAAG,IAAK;QAC9B,IAAI,CAACH,QAAQ,CAAC;UAAEC,MAAM,EAAE;QAAK,CAAC,CAAC;QAC/B;AAChB;AACA;AACA;AACA;AACA;QACgB,IAAI,CAAC9N,KAAK,CAACiO,aAAa,IAAI,IAAI,CAACjO,KAAK,CAACiO,aAAa,CAACD,GAAG,CAAC;MAC7D,CAAC;MACD,IAAI,CAACE,gBAAgB,GAAIF,GAAG,IAAK;QAC7B,MAAMG,OAAO,GAAG,IAAI,CAACC,UAAU,CAAC/N,OAAO;QACvC,MAAMgO,EAAE,GAAG,IAAI,CAAC1N,GAAG,CAACN,OAAO;QAC3B;AAChB;AACA;AACA;AACA;AACA;QACgB,IAAI8N,OAAO,IAAIE,EAAE,EAAE;UACfA,EAAE,CAACC,MAAM,CAACH,OAAO,CAAC;UAClB,IAAI,CAACN,QAAQ,CAAC;YAAEC,MAAM,EAAE;UAAM,CAAC,CAAC;QACpC;QACA,IAAI,CAAC9N,KAAK,CAACuO,YAAY,IAAI,IAAI,CAACvO,KAAK,CAACuO,YAAY,CAACP,GAAG,CAAC;MAC3D,CAAC;MACD;MACA,IAAI,CAACrN,GAAG,GAAG3L,KAAK,CAACkL,SAAS,CAAC,CAAC;MAC5B;MACA,IAAI,CAAC+M,gBAAgB,GAAG3G,SAAS,CAAC,IAAI,CAAC3F,GAAG,EAAE,IAAI,CAACX,KAAK,CAAC4G,YAAY,CAAC;MACpE;MACA,IAAI,CAAC4H,KAAK,GAAG;QAAEV,MAAM,EAAE;MAAM,CAAC;MAC9B;MACA,IAAI,CAACM,UAAU,GAAGpZ,KAAK,CAACkL,SAAS,CAAC,CAAC;IACvC;IACAC,iBAAiBA,CAAA,EAAG;MAChB,IAAIsH,EAAE,EAAEgH,EAAE,EAAEC,EAAE;MACd,IAAI,CAACnH,kBAAkB,CAAC,IAAI,CAACvH,KAAK,CAAC;MACnC,CAACyH,EAAE,GAAG,IAAI,CAAC9G,GAAG,CAACN,OAAO,MAAM,IAAI,IAAIoH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC5B,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAAC+H,cAAc,CAAC;MACjH,CAACa,EAAE,GAAG,IAAI,CAAC9N,GAAG,CAACN,OAAO,MAAM,IAAI,IAAIoO,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC5I,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAACkI,iBAAiB,CAAC;MACvH,CAACW,EAAE,GAAG,IAAI,CAAC/N,GAAG,CAACN,OAAO,MAAM,IAAI,IAAIqO,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC7I,gBAAgB,CAAC,YAAY,EAAE,IAAI,CAACqI,gBAAgB,CAAC;IACzH;IACA3G,kBAAkBA,CAACC,SAAS,EAAE;MAC1B,MAAMjE,IAAI,GAAG,IAAI,CAAC5C,GAAG,CAACN,OAAO;MAC7B;AACZ;AACA;AACA;AACA;MACY;MACA,MAAMoH,EAAE,GAAG,IAAI,CAACzH,KAAK;QAAE4H,MAAM,GAAG7Q,MAAM,CAAC0Q,EAAE,EAAE,CAAC,cAAc,EAAE,eAAe,CAAC,CAAC;MAC7EnE,WAAW,CAACC,IAAI,EAAEqE,MAAM,EAAEJ,SAAS,CAAC;IACxC;IACAmH,oBAAoBA,CAAA,EAAG;MACnB,MAAMpL,IAAI,GAAG,IAAI,CAAC5C,GAAG,CAACN,OAAO;MAC7B;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MACY,IAAIkD,IAAI,IAAI,IAAI,CAACiL,KAAK,CAACV,MAAM,EAAE;QAC3B;AAChB;AACA;AACA;AACA;AACA;QACgBvK,IAAI,CAACqC,mBAAmB,CAAC,YAAY,EAAE,IAAI,CAACsI,gBAAgB,CAAC;QAC7D3K,IAAI,CAACqL,MAAM,CAAC,CAAC;QACbrB,WAAW,CAAChK,IAAI,EAAE,IAAI,CAACvD,KAAK,CAAC;MACjC;IACJ;IACAO,MAAMA,CAAA,EAAG;MACL;MACA,MAAMkH,EAAE,GAAG,IAAI,CAACzH,KAAK;QAAE;UAAE0H,QAAQ;UAAEd,YAAY;UAAEe,KAAK;UAAEhE,SAAS;UAAEhD;QAAI,CAAC,GAAG8G,EAAE;QAAEG,MAAM,GAAG7Q,MAAM,CAAC0Q,EAAE,EAAE,CAAC,UAAU,EAAE,cAAc,EAAE,OAAO,EAAE,WAAW,EAAE,KAAK,CAAC,CAAC;MAC7J,MAAMI,WAAW,GAAGpH,MAAM,CAACqD,IAAI,CAAC8D,MAAM,CAAC,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEhE,IAAI,KAAK;QAC1D,IAAIA,IAAI,CAACC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,IAAID,IAAI,CAAC,CAAC,CAAC,KAAKA,IAAI,CAAC,CAAC,CAAC,CAACf,WAAW,CAAC,CAAC,EAAE;UAC/D,MAAMiB,SAAS,GAAGF,IAAI,CAACG,SAAS,CAAC,CAAC,CAAC,CAACvB,WAAW,CAAC,CAAC;UACjD,IAAIyB,gBAAgB,CAACH,SAAS,CAAC,EAAE;YAC7B8D,GAAG,CAAChE,IAAI,CAAC,GAAG6D,MAAM,CAAC7D,IAAI,CAAC;UAC5B;QACJ,CAAC,MACI,IAAI,CAAC,QAAQ,EAAE,SAAS,EAAE,QAAQ,CAAC,CAACmJ,QAAQ,CAAC,OAAOtF,MAAM,CAAC7D,IAAI,CAAC,CAAC,EAAE;UACpEgE,GAAG,CAAC5E,eAAe,CAACY,IAAI,CAAC,CAAC,GAAG6D,MAAM,CAAC7D,IAAI,CAAC;QAC7C;QACA,OAAOgE,GAAG;MACd,CAAC,EAAE,CAAC,CAAC,CAAC;MACN,MAAMvE,QAAQ,GAAG/C,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEmH,WAAW,CAAC,EAAE;QAAElH,GAAG,EAAE,IAAI,CAACsM,gBAAgB;QAAEtF;MAAM,CAAC,CAAC;MACrG;AACZ;AACA;AACA;MACY,MAAMkH,iBAAiB,GAAGA,CAAA,KAAM;QAC5B,IAAIlB,eAAe,EAAE;UACjB,OAAO,GAAGmB,aAAa,WAAW;QACtC;QACA,OAAOA,aAAa;MACxB,CAAC;MACD,OAAO1Z,aAAa,CAAC,UAAU,EAAE,CAAC,CAAC,EAAEA,aAAa,CAACyR,OAAO,EAAErD,QAAQ;MACpE;AACZ;AACA;AACA;AACA;AACA;MACY,IAAI,CAACgL,KAAK,CAACV,MAAM,IAAI,IAAI,CAAC9N,KAAK,CAAC+O,mBAAmB,GAC7C3Z,aAAa,CAAC,KAAK,EAAE;QACnBuL,GAAG,EAAE,IAAI,CAACyN,UAAU;QACpBzK,SAAS,EAAEkL,iBAAiB,CAAC;MACjC,CAAC,EAAEnH,QAAQ,CAAC,GACV,IAAI,CAAC,CAAC;IAChB;IACA,WAAWhB,WAAWA,CAAA,EAAG;MACrB,OAAOA,WAAW;IACtB;EACJ,CAAC;EACD,OAAO2F,gBAAgB,CAAC5F,cAAc,EAAEC,WAAW,CAAC;AACxD,CAAC;AACD,MAAMoI,aAAa,GAAG,mBAAmB;AAEzC,MAAME,QAAQ,GAAG,aAActB,4BAA4B,CAAC,WAAW,EAAErR,sBAAsB,CAAC;AAEhG,MAAM4S,UAAU,GAAG,aAAcvB,4BAA4B,CAAC,aAAa,EAAEpR,sBAAsB,CAAC;AAEpG,MAAM4S,QAAQ,GAAG,aAAcxB,4BAA4B,CAAC,WAAW,EAAEnR,sBAAsB,CAAC;AAEhG,MAAM4S,eAAe,GAAG,aAAczB,4BAA4B,CAAC,mBAAmB,EAAElR,sBAAsB,CAAC;AAE/G,MAAM4S,cAAc,GAAG,aAAc1B,4BAA4B,CAAC,kBAAkB,EAAEjR,sBAAsB,CAAC;AAE7G,MAAM4S,QAAQ,GAAG,aAAc3B,4BAA4B,CAAC,WAAW,EAAEhR,sBAAsB,EAAE,IAAI,CAAC;AAEtG,MAAM4S,UAAU,GAAG,aAAc5B,4BAA4B,CAAC,aAAa,EAAE/Q,sBAAsB,CAAC;AAEpG,MAAM4S,UAAU,GAAGva,KAAK,CAACmI,aAAa,CAAC;EACnCqS,UAAU,EAAEA,CAAA,KAAM;IACd;EACJ,CAAC;EACDC,aAAa,EAAEA,CAAA,KAAM;IACjB;EACJ;AACJ,CAAC,CAAC;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,iBAAiB,GAAGA,CAAC;EAAEC,YAAY;EAAEC;AAAgB,CAAC,KAAK;EAC7D;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACI,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGza,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC5C,MAAM0a,WAAW,GAAG7a,MAAM,CAAC,CAAC,CAAC,CAAC;EAC9BC,SAAS,CAAC,MAAM;IACZ;IACAwa,YAAY,CAACH,UAAU,CAAC;IACxBI,eAAe,CAACH,aAAa,CAAC;EAClC,CAAC,EAAE,EAAE,CAAC;EACN,MAAMD,UAAU,GAAGA,CAAC7Q,EAAE,EAAEqR,SAAS,EAAEC,gBAAgB,KAAK;IACpD,MAAMC,WAAW,GAAGzP,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEqP,WAAW,CAAC1P,OAAO,CAAC;IAC1D6P,WAAW,CAACvR,EAAE,CAAC,GAAG;MAAEqR,SAAS;MAAEC;IAAiB,CAAC;IACjD;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACQF,WAAW,CAAC1P,OAAO,GAAG6P,WAAW;IACjCJ,WAAW,CAACI,WAAW,CAAC;EAC5B,CAAC;EACD,MAAMT,aAAa,GAAI9Q,EAAE,IAAK;IAC1B,MAAMuR,WAAW,GAAGzP,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEqP,WAAW,CAAC1P,OAAO,CAAC;IAC1D,OAAO6P,WAAW,CAACvR,EAAE,CAAC;IACtB;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACQoR,WAAW,CAAC1P,OAAO,GAAG6P,WAAW;IACjCJ,WAAW,CAACI,WAAW,CAAC;EAC5B,CAAC;EACD,MAAMC,WAAW,GAAG1P,MAAM,CAACqD,IAAI,CAAC+L,QAAQ,CAAC;EACzC,OAAQ7a,KAAK,CAACI,aAAa,CAACJ,KAAK,CAACO,QAAQ,EAAE,IAAI,EAAE4a,WAAW,CAACtN,GAAG,CAAEuN,GAAG,IAAK;IACvE,MAAMC,OAAO,GAAGR,QAAQ,CAACO,GAAG,CAAC;IAC7B,OAAOpZ,QAAQ,CAACC,YAAY,CAACoZ,OAAO,CAACL,SAAS,EAAEK,OAAO,CAACJ,gBAAgB,EAAE,WAAWG,GAAG,EAAE,CAAC;EAC/F,CAAC,CAAC,CAAC;AACP,CAAC;AAED,MAAME,iBAAiB,GAAG,aAAcpJ,oBAAoB,CAAC,gBAAgB,EAAE5F,SAAS,EAAEA,SAAS,EAAEtE,sBAAsB,CAAC;AAC5H,MAAMuT,cAAc,GAAG,aAAcrJ,oBAAoB,CAAC,aAAa,EAAE5F,SAAS,EAAEA,SAAS,EAAEvE,sBAAsB,CAAC;AACtH,MAAMyT,kBAAkB,GAAG,aAActJ,oBAAoB,CAAC,iBAAiB,EAAE5F,SAAS,EAAEA,SAAS,EAAEzE,sBAAsB,CAAC;AAC9H,MAAM4T,oBAAoB,GAAG,aAAcvJ,oBAAoB,CAAC,mBAAmB,EAAE5F,SAAS,EAAEA,SAAS,EAAExE,sBAAsB,CAAC;AAClI,MAAM4T,WAAW,GAAG,aAAcxJ,oBAAoB,CAAC,SAAS,EAAE5F,SAAS,EAAEA,SAAS,EAAE1E,sBAAsB,CAAC;AAC/G;AACA,MAAM+T,YAAY,GAAG,aAAczJ,oBAAoB,CAAC,UAAU,EAAE5F,SAAS,EAAEA,SAAS,EAAErE,sBAAsB,CAAC;AAEjH,MAAM2T,MAAM,GAAG,aAAc,CAAC,MAAM,cAAc5b,KAAK,CAAC+K,SAAS,CAAC;EAC9D9B,WAAWA,CAAC+B,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ;AACR;AACA;IACQ,IAAI,CAAC6Q,UAAU,GAAG;MACdrB,UAAU,EAAEA,CAAC7Q,EAAE,EAAE0R,OAAO,EAAEJ,gBAAgB,KAAK;QAC3C,IAAI,IAAI,CAACa,kBAAkB,EAAE;UACzB,IAAI,CAACA,kBAAkB,CAACnS,EAAE,EAAE0R,OAAO,EAAEJ,gBAAgB,CAAC;QAC1D;MACJ,CAAC;MACDR,aAAa,EAAG9Q,EAAE,IAAK;QACnB,IAAI,IAAI,CAACoS,qBAAqB,EAAE;UAC5B,IAAI,CAACA,qBAAqB,CAACpS,EAAE,CAAC;QAClC;MACJ;IACJ,CAAC;EACL;EACA4B,MAAMA,CAAA,EAAG;IACL,OAAQvL,KAAK,CAACI,aAAa,CAACma,UAAU,CAACyB,QAAQ,EAAE;MAAE3K,KAAK,EAAE,IAAI,CAACwK;IAAW,CAAC,EACvE7b,KAAK,CAACI,aAAa,CAACsb,WAAW,EAAEjQ,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAACV,KAAK,CAAC,EAAE,IAAI,CAACA,KAAK,CAAC0H,QAAQ,CAAC,EACpF1S,KAAK,CAACI,aAAa,CAACsa,iBAAiB,EAAE;MAAEC,YAAY,EAAGjR,QAAQ,IAAK;QAC7D,IAAI,CAACoS,kBAAkB,GAAGpS,QAAQ;MACtC,CAAC;MAAEkR,eAAe,EAAGlR,QAAQ,IAAK;QAC9B,IAAI,CAACqS,qBAAqB,GAAGrS,QAAQ;MACzC;IAAE,CAAC,CAAC,CAAC;EACjB;EACA,WAAWgI,WAAWA,CAAA,EAAG;IACrB,OAAO,QAAQ;EACnB;AACJ,CAAC,EAAE,CAAC;AAEJ,MAAMuK,YAAY,GAAGjc,KAAK,CAACmI,aAAa,CAAC;EACrC+T,eAAe,EAAEA,CAAA,KAAM5P,SAAS;EAChC6P,UAAU,EAAEA,CAAA,KAAM;AACtB,CAAC,CAAC;AAEF,MAAMC,WAAW,SAASpc,KAAK,CAACqc,aAAa,CAAC;EAC1CpT,WAAWA,CAAC+B,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACsR,iBAAiB,GAAGtc,KAAK,CAACkL,SAAS,CAAC,CAAC;IAC1C;IACA,IAAI,CAAC+M,gBAAgB,GAAG3G,SAAS,CAAC,IAAI,CAACgL,iBAAiB,EAAE,IAAI,CAACtR,KAAK,CAAC4G,YAAY,CAAC;IAClF;AACR;AACA;AACA;AACA;AACA;IACQ,IAAI,CAAC2K,uBAAuB,GAAG,IAAI,CAACA,uBAAuB,CAACC,IAAI,CAAC,IAAI,CAAC;IACtE,IAAI,CAACC,sBAAsB,GAAG,IAAI,CAACA,sBAAsB,CAACD,IAAI,CAAC,IAAI,CAAC;IACpE,IAAI,CAACE,uBAAuB,GAAG,IAAI,CAACA,uBAAuB,CAACF,IAAI,CAAC,IAAI,CAAC;IACtE,IAAI,CAACG,sBAAsB,GAAG,IAAI,CAACA,sBAAsB,CAACH,IAAI,CAAC,IAAI,CAAC;EACxE;EACArR,iBAAiBA,CAAA,EAAG;IAChB,IAAI,IAAI,CAACmR,iBAAiB,CAACjR,OAAO,EAAE;MAChC,IAAI,IAAI,CAACC,OAAO,CAAC6Q,UAAU,CAAC,CAAC,EAAE;QAC3B,IAAI,CAACG,iBAAiB,CAACjR,OAAO,CAACwD,SAAS,CAAC+N,GAAG,CAAC,oBAAoB,CAAC;MACtE;MACA,IAAI,CAACtR,OAAO,CAAC4Q,eAAe,CAAC,IAAI,CAACI,iBAAiB,CAACjR,OAAO,EAAE,IAAI,CAACL,KAAK,CAACoC,SAAS,CAAC;MAClF,IAAI,CAACkP,iBAAiB,CAACjR,OAAO,CAACwF,gBAAgB,CAAC,kBAAkB,EAAE,IAAI,CAAC0L,uBAAuB,CAAC;MACjG,IAAI,CAACD,iBAAiB,CAACjR,OAAO,CAACwF,gBAAgB,CAAC,iBAAiB,EAAE,IAAI,CAAC4L,sBAAsB,CAAC;MAC/F,IAAI,CAACH,iBAAiB,CAACjR,OAAO,CAACwF,gBAAgB,CAAC,kBAAkB,EAAE,IAAI,CAAC6L,uBAAuB,CAAC;MACjG,IAAI,CAACJ,iBAAiB,CAACjR,OAAO,CAACwF,gBAAgB,CAAC,iBAAiB,EAAE,IAAI,CAAC8L,sBAAsB,CAAC;IACnG;EACJ;EACAhD,oBAAoBA,CAAA,EAAG;IACnB,IAAI,IAAI,CAAC2C,iBAAiB,CAACjR,OAAO,EAAE;MAChC,IAAI,CAACiR,iBAAiB,CAACjR,OAAO,CAACuF,mBAAmB,CAAC,kBAAkB,EAAE,IAAI,CAAC2L,uBAAuB,CAAC;MACpG,IAAI,CAACD,iBAAiB,CAACjR,OAAO,CAACuF,mBAAmB,CAAC,iBAAiB,EAAE,IAAI,CAAC6L,sBAAsB,CAAC;MAClG,IAAI,CAACH,iBAAiB,CAACjR,OAAO,CAACuF,mBAAmB,CAAC,kBAAkB,EAAE,IAAI,CAAC8L,uBAAuB,CAAC;MACpG;AACZ;AACA;AACA;AACA;AACA;AACA;IACQ;EACJ;EACAH,uBAAuBA,CAAA,EAAG;IACtB,IAAI,CAACM,mBAAmB,CAACxU,gBAAgB,CAAC,CAAC;EAC/C;EACAoU,sBAAsBA,CAAA,EAAG;IACrB,IAAI,CAACI,mBAAmB,CAACtU,eAAe,CAAC,CAAC;EAC9C;EACAmU,uBAAuBA,CAAA,EAAG;IACtB,IAAI,CAACG,mBAAmB,CAACpU,gBAAgB,CAAC,CAAC;EAC/C;EACAkU,sBAAsBA,CAAA,EAAG;IACrB,IAAI,CAACE,mBAAmB,CAAClU,eAAe,CAAC,CAAC;EAC9C;EACA4C,MAAMA,CAAA,EAAG;IACL;IACA,MAAMkH,EAAE,GAAG,IAAI,CAACzH,KAAK;MAAE;QAAE2D,SAAS;QAAE+D,QAAQ;QAAEtF,SAAS;QAAEwE;MAAa,CAAC,GAAGa,EAAE;MAAEzH,KAAK,GAAGjJ,MAAM,CAAC0Q,EAAE,EAAE,CAAC,WAAW,EAAE,UAAU,EAAE,WAAW,EAAE,cAAc,CAAC,CAAC;IACxJ,OAAQzS,KAAK,CAACI,aAAa,CAAC8H,mBAAmB,CAACsD,QAAQ,EAAE,IAAI,EAAGF,OAAO,IAAK;MACzE,IAAI,CAACuR,mBAAmB,GAAGvR,OAAO;MAClC,OAAQtL,KAAK,CAACI,aAAa,CAAC,KAAK,EAAEqL,MAAM,CAACC,MAAM,CAAC;QAAEiD,SAAS,EAAEA,SAAS,GAAG,GAAGA,SAAS,WAAW,GAAG,UAAU;QAAEhD,GAAG,EAAE,IAAI,CAACsM;MAAiB,CAAC,EAAEjN,KAAK,CAAC,EAAE0H,QAAQ,CAAC;IACnK,CAAC,CAAC;EACN;EACA,WAAWO,WAAWA,CAAA,EAAG;IACrB,OAAOgJ,YAAY;EACvB;AACJ;AAEA,MAAMa,eAAe,SAAS9c,KAAK,CAAC+K,SAAS,CAAC;EAC1C9B,WAAWA,CAAC+B,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;EAChB;EACAO,MAAMA,CAAA,EAAG;IACL,MAAMkH,EAAE,GAAG,IAAI,CAACzH,KAAK;MAAE;QAAE2D,SAAS;QAAE+D,QAAQ;QAAEd;MAAa,CAAC,GAAGa,EAAE;MAAEzH,KAAK,GAAGjJ,MAAM,CAAC0Q,EAAE,EAAE,CAAC,WAAW,EAAE,UAAU,EAAE,cAAc,CAAC,CAAC;IAChI,OAAO,IAAI,CAACnH,OAAO,CAAC6B,cAAc,CAAC,CAAC,GAAInN,KAAK,CAACI,aAAa,CAACgc,WAAW,EAAE3Q,MAAM,CAACC,MAAM,CAAC;MAAEiD,SAAS,EAAEA,SAAS,GAAG,GAAGA,SAAS,EAAE,GAAG,EAAE;MAAEvB,SAAS,EAAE,IAAI,CAAC9B,OAAO,CAAC8B,SAAS;MAAEwE,YAAY,EAAEA;IAAa,CAAC,EAAE5G,KAAK,CAAC,EAAE0H,QAAQ,CAAC,GAAK1S,KAAK,CAACI,aAAa,CAAC,KAAK,EAAEqL,MAAM,CAACC,MAAM,CAAC;MAAEiD,SAAS,EAAEA,SAAS,GAAG,YAAYA,SAAS,EAAE,GAAG,UAAU;MAAEhD,GAAG,EAAEiG;IAAa,CAAC,EAAE5G,KAAK,CAAC,EAAE0H,QAAQ,CAAE;EAC/W;EACA,WAAWhB,WAAWA,CAAA,EAAG;IACrB,OAAO,SAAS;EACpB;EACA,WAAWuB,WAAWA,CAAA,EAAG;IACrB,OAAO7G,UAAU;EACrB;AACJ;AACA,MAAM2Q,OAAO,GAAG1F,gBAAgB,CAACyF,eAAe,EAAE,SAAS,CAAC;AAE5D,MAAME,GAAG,GAAG;EAAEC,IAAI,EAAE;AAAE,CAAC;AACvB,MAAMC,UAAU,GAAGA,CAAClK,IAAI,GAAG,MAAM,KAAK;EAClC,IAAIP,EAAE;EACN,MAAM9I,EAAE,GAAG,CAAC,CAAC8I,EAAE,GAAGuK,GAAG,CAAChK,IAAI,CAAC,MAAM,IAAI,IAAIP,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,CAAC,IAAI,CAAC;EACpEuK,GAAG,CAAChK,IAAI,CAAC,GAAGrJ,EAAE;EACd,OAAOA,EAAE,CAACwT,QAAQ,CAAC,CAAC;AACxB,CAAC;AAED,MAAMC,aAAa,GAAGA,CAACC,OAAO,EAAEC,UAAU,KAAK;EAC3C,MAAMC,MAAM,GAAG,IAAIC,OAAO,CAAC,CAAC;EAC5B,MAAMC,eAAe,GAAG,kBAAkBP,UAAU,CAAC,CAAC,EAAE;EACxD;EACA,IAAIvT,EAAE,GAAG,CAAC;EACV,MAAM+T,eAAe,GAAG,MAAAA,CAAOC,aAAa,EAAE3C,SAAS,EAAE4C,cAAc,EAAEC,UAAU,KAAK;IACpF,MAAMC,GAAG,GAAGxN,QAAQ,CAAClQ,aAAa,CAAC,KAAK,CAAC;IACzCyd,UAAU,IAAIC,GAAG,CAACjP,SAAS,CAAC+N,GAAG,CAAC,GAAGiB,UAAU,CAAC;IAC9CF,aAAa,CAACI,WAAW,CAACD,GAAG,CAAC;IAC9B,MAAME,kBAAkB,GAAGhD,SAAS,CAAC4C,cAAc,CAAC;IACpD,MAAMxC,GAAG,GAAG,GAAGqC,eAAe,IAAI9T,EAAE,EAAE,EAAE;IACxC,MAAMsU,aAAa,GAAGhc,YAAY,CAAC+b,kBAAkB,EAAEF,GAAG,EAAE1C,GAAG,CAAC;IAChEmC,MAAM,CAACpM,GAAG,CAAC2M,GAAG,EAAEG,aAAa,CAAC;IAC9BZ,OAAO,CAACY,aAAa,CAAC;IACtB,OAAOC,OAAO,CAACC,OAAO,CAACL,GAAG,CAAC;EAC/B,CAAC;EACD,MAAMM,iBAAiB,GAAGA,CAACC,UAAU,EAAErD,SAAS,KAAK;IACjD,MAAMiD,aAAa,GAAGV,MAAM,CAACvL,GAAG,CAACgJ,SAAS,CAAC;IAC3CiD,aAAa,IAAIX,UAAU,CAACW,aAAa,CAAC;IAC1CjD,SAAS,CAACpB,MAAM,CAAC,CAAC;IAClB,OAAOsE,OAAO,CAACC,OAAO,CAAC,CAAC;EAC5B,CAAC;EACD,OAAO;IACHT,eAAe;IACfU;EACJ,CAAC;AACL,CAAC;AAED,MAAME,WAAW,GAAGpM,oBAAoB,CAAC,SAAS,EAAE5F,SAAS,EAAEA,SAAS,EAAE9H,sBAAsB,CAAC;AACjG;AACA,MAAM+Z,cAAc,GAAI9L,EAAE,IAAK;EAC3B,IAAI;MAAEC,QAAQ;MAAEd;IAAa,CAAC,GAAGa,EAAE;IAAE+L,WAAW,GAAGzc,MAAM,CAAC0Q,EAAE,EAAE,CAAC,UAAU,EAAE,cAAc,CAAC,CAAC;EAC3F,MAAM,CAACgM,KAAK,EAAEC,QAAQ,CAAC,GAAGre,QAAQ,CAAC,EAAE,CAAC;EACtC;AACJ;AACA;AACA;EACI,MAAMgd,OAAO,GAAIsB,IAAI,IAAKD,QAAQ,CAAEE,aAAa,IAAK,CAAC,GAAGA,aAAa,EAAED,IAAI,CAAC,CAAC;EAC/E,MAAMrB,UAAU,GAAIqB,IAAI,IAAKD,QAAQ,CAAEE,aAAa,IAAKA,aAAa,CAACzU,MAAM,CAAE0U,CAAC,IAAKA,CAAC,KAAKF,IAAI,CAAC,CAAC;EACjG,MAAMG,QAAQ,GAAGxe,OAAO,CAAC,MAAM8c,aAAa,CAACC,OAAO,EAAEC,UAAU,CAAC,EAAE,EAAE,CAAC;EACtE,OAAQtd,KAAK,CAACI,aAAa,CAACke,WAAW,EAAE7S,MAAM,CAACC,MAAM,CAAC;IAAEoT,QAAQ,EAAEA,QAAQ;IAAEnT,GAAG,EAAEiG;EAAa,CAAC,EAAE4M,WAAW,CAAC,EAAEC,KAAK,CAAC;AAC1H,CAAC;AACD,MAAMM,MAAM,GAAG1H,gBAAgB,CAACkH,cAAc,EAAE,QAAQ,CAAC;AAEzD,MAAMS,cAAc,GAAGhf,KAAK,CAACmI,aAAa,CAAC;EACvC8W,SAAS,EAAE3S,SAAS;EACpB4S,SAAS,EAAEA,CAAA,KAAM;AACrB,CAAC,CAAC;AAEF,MAAMC,cAAc,GAAI,OAAOC,WAAW,KAAK,WAAW,GAAGA,WAAW,GAAG,MAAM,EAC/E;AAEF,MAAMC,iBAAiB,SAASrf,KAAK,CAAC+K,SAAS,CAAC;EAC5C9B,WAAWA,CAAC+B,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACsU,aAAa,GAAG,KAAK;IAC1B;AACR;AACA;AACA;AACA;AACA;IACQ,IAAI,CAAC/C,uBAAuB,GAAG,IAAI,CAACA,uBAAuB,CAACC,IAAI,CAAC,IAAI,CAAC;IACtE,IAAI,CAACC,sBAAsB,GAAG,IAAI,CAACA,sBAAsB,CAACD,IAAI,CAAC,IAAI,CAAC;IACpE,IAAI,CAACE,uBAAuB,GAAG,IAAI,CAACA,uBAAuB,CAACF,IAAI,CAAC,IAAI,CAAC;IACtE,IAAI,CAACG,sBAAsB,GAAG,IAAI,CAACA,sBAAsB,CAACH,IAAI,CAAC,IAAI,CAAC;EACxE;EACArR,iBAAiBA,CAAA,EAAG;IAChB,IAAI,IAAI,CAACoU,eAAe,EAAE;MACtB;AACZ;AACA;AACA;MACY,IAAI,CAAC,IAAI,CAACD,aAAa,EAAE;QACrBze,gBAAgB,CAAC,IAAI,CAAC0e,eAAe,EAAE,MAAM;UACzC,IAAI,CAACD,aAAa,GAAG,IAAI;UACzB,IAAI,CAAChU,OAAO,CAAC4Q,eAAe,CAAC,IAAI,CAACqD,eAAe,EAAE,IAAI,CAACvU,KAAK,CAACoC,SAAS,CAAC;QAC5E,CAAC,CAAC;MACN;MACA,IAAI,CAACmS,eAAe,CAAC1O,gBAAgB,CAAC,kBAAkB,EAAE,IAAI,CAAC0L,uBAAuB,CAAC;MACvF,IAAI,CAACgD,eAAe,CAAC1O,gBAAgB,CAAC,iBAAiB,EAAE,IAAI,CAAC4L,sBAAsB,CAAC;MACrF,IAAI,CAAC8C,eAAe,CAAC1O,gBAAgB,CAAC,kBAAkB,EAAE,IAAI,CAAC6L,uBAAuB,CAAC;MACvF,IAAI,CAAC6C,eAAe,CAAC1O,gBAAgB,CAAC,iBAAiB,EAAE,IAAI,CAAC8L,sBAAsB,CAAC;IACzF;EACJ;EACAhD,oBAAoBA,CAAA,EAAG;IACnB,IAAI,IAAI,CAAC4F,eAAe,EAAE;MACtB,IAAI,CAACA,eAAe,CAAC3O,mBAAmB,CAAC,kBAAkB,EAAE,IAAI,CAAC2L,uBAAuB,CAAC;MAC1F,IAAI,CAACgD,eAAe,CAAC3O,mBAAmB,CAAC,iBAAiB,EAAE,IAAI,CAAC6L,sBAAsB,CAAC;MACxF,IAAI,CAAC8C,eAAe,CAAC3O,mBAAmB,CAAC,kBAAkB,EAAE,IAAI,CAAC8L,uBAAuB,CAAC;MAC1F,IAAI,CAAC6C,eAAe,CAAC3O,mBAAmB,CAAC,iBAAiB,EAAE,IAAI,CAAC+L,sBAAsB,CAAC;IAC5F;EACJ;EACAJ,uBAAuBA,CAAA,EAAG;IACtB,IAAI,CAACM,mBAAmB,CAACxU,gBAAgB,CAAC,CAAC;EAC/C;EACAoU,sBAAsBA,CAAA,EAAG;IACrB,IAAI,CAACI,mBAAmB,CAACtU,eAAe,CAAC,CAAC;EAC9C;EACAmU,uBAAuBA,CAAA,EAAG;IACtB,IAAI,CAACG,mBAAmB,CAACpU,gBAAgB,CAAC,CAAC;EAC/C;EACAkU,sBAAsBA,CAAA,EAAG;IACrB,IAAI,CAACE,mBAAmB,CAAClU,eAAe,CAAC,CAAC;EAC9C;EACA4C,MAAMA,CAAA,EAAG;IACL,MAAMkH,EAAE,GAAG,IAAI,CAACzH,KAAK;MAAE;QAAEwU,YAAY;QAAE9M,QAAQ;QAAEtF;MAAU,CAAC,GAAGqF,EAAE;MAAEzH,KAAK,GAAGjJ,MAAM,CAAC0Q,EAAE,EAAE,CAAC,cAAc,EAAE,UAAU,EAAE,WAAW,CAAC,CAAC;IAChI,OAAQzS,KAAK,CAACI,aAAa,CAAC8H,mBAAmB,CAACsD,QAAQ,EAAE,IAAI,EAAGF,OAAO,IAAK;MACzE,IAAI,CAACuR,mBAAmB,GAAGvR,OAAO;MAClC,OAAQtL,KAAK,CAACI,aAAa,CAACof,YAAY,EAAE;QAAEpS,SAAS,EAAEA;MAAU,CAAC,EAC9DpN,KAAK,CAACI,aAAa,CAACqb,oBAAoB,EAAEhQ,MAAM,CAACC,MAAM,CAAC;QAAE0F,MAAM,EAAGqO,GAAG,IAAM,IAAI,CAACF,eAAe,GAAGE;MAAK,CAAC,EAAEzU,KAAK,CAAC,EAAE0H,QAAQ,CAAC,CAAC;IACrI,CAAC,CAAC;EACN;EACA,WAAWO,WAAWA,CAAA,EAAG;IACrB,OAAOgJ,YAAY;EACvB;AACJ;AAEA,MAAMyD,wBAAwB,SAAS1f,KAAK,CAAC+K,SAAS,CAAC;EACnD9B,WAAWA,CAAC+B,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;EAChB;EACAO,MAAMA,CAAA,EAAG;IACL,MAAMiU,YAAY,GAAG,IAAI,CAAClU,OAAO,CAACmB,eAAe,CAAC,CAAC;IACnD,MAAMgG,EAAE,GAAG,IAAI,CAACzH,KAAK;MAAE;QAAE0H,QAAQ;QAAEd;MAAa,CAAC,GAAGa,EAAE;MAAEzH,KAAK,GAAGjJ,MAAM,CAAC0Q,EAAE,EAAE,CAAC,UAAU,EAAE,cAAc,CAAC,CAAC;IACxG,OAAO,IAAI,CAACnH,OAAO,CAAC6B,cAAc,CAAC,CAAC,GAAInC,KAAK,CAAC2U,OAAO,GAAI3f,KAAK,CAACI,aAAa,CAACif,iBAAiB,EAAE5T,MAAM,CAACC,MAAM,CAAC;MAAE8T,YAAY,EAAEA,YAAY;MAAEpS,SAAS,EAAE,IAAI,CAAC9B,OAAO,CAAC8B;IAAU,CAAC,EAAEpC,KAAK,CAAC,EAAE0H,QAAQ,CAAC,GAAK1S,KAAK,CAACI,aAAa,CAACof,YAAY,EAAE;MAAEpS,SAAS,EAAE,IAAI,CAAC9B,OAAO,CAAC8B;IAAU,CAAC,EAC1QpN,KAAK,CAACI,aAAa,CAACqb,oBAAoB,EAAEhQ,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEV,KAAK,EAAE;MAAE4G,YAAY,EAAEA;IAAa,CAAC,CAAC,EAAEc,QAAQ,CAAC,CAAE,GAAK1S,KAAK,CAACI,aAAa,CAACqb,oBAAoB,EAAEhQ,MAAM,CAACC,MAAM,CAAC;MAAEC,GAAG,EAAEiG;IAAa,CAAC,EAAE,IAAI,CAAC5G,KAAK,CAAC,EAAE,IAAI,CAACA,KAAK,CAAC0H,QAAQ,CAAE;EAC7O;EACA,WAAWO,WAAWA,CAAA,EAAG;IACrB,OAAO7G,UAAU;EACrB;AACJ;AACA,MAAMwT,eAAe,GAAGvI,gBAAgB,CAACqI,wBAAwB,EAAE,iBAAiB,CAAC;AAErF,MAAMG,YAAY,GAAG,aAAc,CAAC,MAAM,cAAc7f,KAAK,CAAC+K,SAAS,CAAC;EACpE9B,WAAWA,CAAC+B,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAAC8U,uBAAuB,GAAG,IAAI,CAACA,uBAAuB,CAACtD,IAAI,CAAC,IAAI,CAAC;EAC1E;EACAsD,uBAAuBA,CAAA,EAAG;IACtB,IAAI,IAAI,CAAC9U,KAAK,CAACoN,OAAO,EAAE;MACpB,IAAI,CAACpN,KAAK,CAACoN,OAAO,CAAC,IAAI2H,WAAW,CAAC,mBAAmB,EAAE;QACpDC,MAAM,EAAE;UACJC,GAAG,EAAE,IAAI,CAACjV,KAAK,CAACiV,GAAG;UACnB9H,IAAI,EAAE,IAAI,CAACnN,KAAK,CAACmN,IAAI;UACrB+H,YAAY,EAAE,IAAI,CAAClV,KAAK,CAAC8M;QAC7B;MACJ,CAAC,CAAC,CAAC;IACP;EACJ;EACAvM,MAAMA,CAAA,EAAG;IACL;AACR;AACA;AACA;AACA;IACQ;IACA,MAAMkH,EAAE,GAAG,IAAI,CAACzH,KAAK;MAAEmV,IAAI,GAAGpe,MAAM,CAAC0Q,EAAE,EAAE,CAAC,SAAS,CAAC,CAAC;IACrD,OAAOzS,KAAK,CAACI,aAAa,CAACkb,iBAAiB,EAAE7P,MAAM,CAACC,MAAM,CAAC;MAAE0U,mBAAmB,EAAE,IAAI,CAACN;IAAwB,CAAC,EAAEK,IAAI,CAAC,CAAC;EAC7H;EACA,WAAWzO,WAAWA,CAAA,EAAG;IACrB,OAAO,cAAc;EACzB;AACJ,CAAC,EAAE,CAAC;;AAEJ;AACA,MAAM2O,kBAAkB,SAASrgB,KAAK,CAACqc,aAAa,CAAC;EACjDpT,WAAWA,CAAC+B,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ;IACA,IAAI,CAACsV,qBAAqB,GAAI/S,IAAI,IAAK,CAAE,CAAC;IAC1C,MAAMgT,IAAI,GAAG,CAAC,CAAC;IACfvgB,KAAK,CAACwgB,QAAQ,CAACnW,OAAO,CAACW,KAAK,CAAC0H,QAAQ,EAAG+N,KAAK,IAAK;MAC9C,IAAIhO,EAAE,EAAEgH,EAAE,EAAEC,EAAE,EAAEgH,EAAE;MAClB,IAAID,KAAK,IAAI,IAAI,IACb,OAAOA,KAAK,KAAK,QAAQ,IACzBA,KAAK,CAACzV,KAAK,KACVyV,KAAK,CAACzN,IAAI,KAAK6M,YAAY,IAAIY,KAAK,CAACzN,IAAI,CAAC2N,WAAW,CAAC,EAAE;QACzDJ,IAAI,CAACE,KAAK,CAACzV,KAAK,CAACiV,GAAG,CAAC,GAAG;UACpBW,YAAY,EAAEH,KAAK,CAACzV,KAAK,CAACmN,IAAI;UAC9B0I,WAAW,EAAEJ,KAAK,CAACzV,KAAK,CAACmN,IAAI;UAC7B2I,oBAAoB,EAAEL,KAAK,CAACzV,KAAK,CAACmN,IAAI,MAAM,CAAC1F,EAAE,GAAGzH,KAAK,CAACoC,SAAS,MAAM,IAAI,IAAIqF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC3F,QAAQ,CAAC,GAAG,CAAC2M,EAAE,GAAGzO,KAAK,CAACoC,SAAS,MAAM,IAAI,IAAIqM,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACyG,YAAY,GAAG5T,SAAS;UAC9MyU,mBAAmB,EAAEN,KAAK,CAACzV,KAAK,CAACmN,IAAI,MAAM,CAACuB,EAAE,GAAG1O,KAAK,CAACoC,SAAS,MAAM,IAAI,IAAIsM,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC5M,QAAQ,CAAC,GAAG,CAAC4T,EAAE,GAAG1V,KAAK,CAACoC,SAAS,MAAM,IAAI,IAAIsT,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACR,YAAY,GAAG5T;QACxM,CAAC;MACL;IACJ,CAAC,CAAC;IACF,IAAI,CAACkN,KAAK,GAAG;MACT+G;IACJ,CAAC;IACD,IAAI,CAACS,gBAAgB,GAAG,IAAI,CAACA,gBAAgB,CAACxE,IAAI,CAAC,IAAI,CAAC;IACxD,IAAI,CAACyE,eAAe,GAAG,IAAI,CAACA,eAAe,CAACzE,IAAI,CAAC,IAAI,CAAC;IACtD,IAAI,CAAC8D,qBAAqB,GAAG,IAAI,CAACA,qBAAqB,CAAC9D,IAAI,CAAC,IAAI,CAAC;IAClE,IAAI,CAAC0C,SAAS,GAAG,IAAI,CAACA,SAAS,CAAC1C,IAAI,CAAC,IAAI,CAAC;EAC9C;EACArR,iBAAiBA,CAAA,EAAG;IAChB,MAAMoV,IAAI,GAAG,IAAI,CAAC/G,KAAK,CAAC+G,IAAI;IAC5B,MAAMW,OAAO,GAAGzV,MAAM,CAACqD,IAAI,CAACyR,IAAI,CAAC;IACjC,MAAMtB,SAAS,GAAGiC,OAAO,CAACC,IAAI,CAAE/F,GAAG,IAAK;MACpC,MAAMjD,IAAI,GAAGoI,IAAI,CAACnF,GAAG,CAAC,CAACwF,YAAY;MACnC,OAAO,IAAI,CAAC5V,KAAK,CAACoC,SAAS,CAACN,QAAQ,CAACsU,UAAU,CAACjJ,IAAI,CAAC;IACzD,CAAC,CAAC;IACF,IAAI8G,SAAS,EAAE;MACX,IAAI,CAACpG,QAAQ,CAAC;QACVoG;MACJ,CAAC,CAAC;IACN;EACJ;EACA1M,kBAAkBA,CAAA,EAAG;IACjB,IAAI,IAAI,CAACiH,KAAK,CAACyF,SAAS,EAAE;MACtB,IAAI,CAACqB,qBAAqB,CAAC,IAAI,CAAC9G,KAAK,CAACyF,SAAS,CAAC;IACpD;EACJ;EACAC,SAASA,CAACe,GAAG,EAAE;IACX,MAAMoB,MAAM,GAAG,IAAI,CAAC7H,KAAK,CAAC+G,IAAI,CAACN,GAAG,CAAC;IACnC,IAAIoB,MAAM,EAAE;MACR,IAAI,CAACL,gBAAgB,CAAC,IAAIjB,WAAW,CAAC,mBAAmB,EAAE;QACvDC,MAAM,EAAE;UACJ7H,IAAI,EAAEkJ,MAAM,CAACR,WAAW;UACxBZ,GAAG;UACHqB,QAAQ,EAAErB,GAAG,KAAK,IAAI,CAACzG,KAAK,CAACyF,SAAS;UACtCiB,YAAY,EAAE5T;QAClB;MACJ,CAAC,CAAC,CAAC;MACH,OAAO,IAAI;IACf;IACA,OAAO,KAAK;EAChB;EACA,OAAOiV,wBAAwBA,CAACvW,KAAK,EAAEwO,KAAK,EAAE;IAC1C,IAAI/G,EAAE,EAAEgH,EAAE,EAAEC,EAAE;IACd,MAAM6G,IAAI,GAAG9U,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE8N,KAAK,CAAC+G,IAAI,CAAC;IAC1C,MAAMW,OAAO,GAAGzV,MAAM,CAACqD,IAAI,CAAC0K,KAAK,CAAC+G,IAAI,CAAC;IACvC,MAAMtB,SAAS,GAAGiC,OAAO,CAACC,IAAI,CAAE/F,GAAG,IAAK;MACpC,MAAMjD,IAAI,GAAGqB,KAAK,CAAC+G,IAAI,CAACnF,GAAG,CAAC,CAACwF,YAAY;MACzC,OAAO5V,KAAK,CAACoC,SAAS,CAACN,QAAQ,CAACsU,UAAU,CAACjJ,IAAI,CAAC;IACpD,CAAC,CAAC;IACF;IACAnY,KAAK,CAACwgB,QAAQ,CAACnW,OAAO,CAACW,KAAK,CAAC0H,QAAQ,EAAG+N,KAAK,IAAK;MAC9C,IAAIA,KAAK,IAAI,IAAI,IACb,OAAOA,KAAK,KAAK,QAAQ,IACzBA,KAAK,CAACzV,KAAK,KACVyV,KAAK,CAACzN,IAAI,KAAK6M,YAAY,IAAIY,KAAK,CAACzN,IAAI,CAAC2N,WAAW,CAAC,EAAE;QACzD,MAAMV,GAAG,GAAGM,IAAI,CAACE,KAAK,CAACzV,KAAK,CAACiV,GAAG,CAAC;QACjC,IAAI,CAACA,GAAG,IAAIA,GAAG,CAACW,YAAY,KAAKH,KAAK,CAACzV,KAAK,CAACmN,IAAI,EAAE;UAC/CoI,IAAI,CAACE,KAAK,CAACzV,KAAK,CAACiV,GAAG,CAAC,GAAG;YACpBW,YAAY,EAAEH,KAAK,CAACzV,KAAK,CAACmN,IAAI;YAC9B0I,WAAW,EAAEJ,KAAK,CAACzV,KAAK,CAACmN,IAAI;YAC7B2I,oBAAoB,EAAEL,KAAK,CAACzV,KAAK,CAACkV,YAAY;YAC9Ca,mBAAmB,EAAEN,KAAK,CAACzV,KAAK,CAACkV;UACrC,CAAC;QACL;MACJ;IACJ,CAAC,CAAC;IACF,MAAM;MAAEjB,SAAS,EAAEuC;IAAc,CAAC,GAAGhI,KAAK;IAC1C,IAAIyF,SAAS,IAAIuC,aAAa,EAAE;MAC5B,MAAMC,QAAQ,GAAGjI,KAAK,CAAC+G,IAAI,CAACiB,aAAa,CAAC,CAACX,WAAW;MACtD,MAAMa,gBAAgB,GAAGlI,KAAK,CAAC+G,IAAI,CAACiB,aAAa,CAAC,CAACT,mBAAmB;MACtE,IAAI9B,SAAS,KAAKuC,aAAa,IAC3BC,QAAQ,MAAM,CAAChP,EAAE,GAAGzH,KAAK,CAACoC,SAAS,MAAM,IAAI,IAAIqF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC3F,QAAQ,CAAC,IACtF4U,gBAAgB,MAAM,CAACjI,EAAE,GAAGzO,KAAK,CAACoC,SAAS,MAAM,IAAI,IAAIqM,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACyG,YAAY,CAAC,EAAE;QACpGK,IAAI,CAACtB,SAAS,CAAC,GAAG;UACd2B,YAAY,EAAEL,IAAI,CAACtB,SAAS,CAAC,CAAC2B,YAAY;UAC1CC,WAAW,EAAE7V,KAAK,CAACoC,SAAS,CAACN,QAAQ,IAAI9B,KAAK,CAACoC,SAAS,CAACuU,MAAM,IAAI,EAAE,CAAC;UACtEb,oBAAoB,EAAEP,IAAI,CAACtB,SAAS,CAAC,CAAC6B,oBAAoB;UAC1DC,mBAAmB,EAAE,CAACrH,EAAE,GAAG1O,KAAK,CAACoC,SAAS,MAAM,IAAI,IAAIsM,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACwG;QACxF,CAAC;QACD,IAAIlV,KAAK,CAACoC,SAAS,CAACwU,WAAW,KAAK,KAAK,IAAI3C,SAAS,KAAKuC,aAAa,EAAE;UACtE;UACAjB,IAAI,CAACiB,aAAa,CAAC,GAAG;YAClBZ,YAAY,EAAEL,IAAI,CAACiB,aAAa,CAAC,CAACZ,YAAY;YAC9CC,WAAW,EAAEN,IAAI,CAACiB,aAAa,CAAC,CAACZ,YAAY;YAC7CE,oBAAoB,EAAEP,IAAI,CAACiB,aAAa,CAAC,CAACV,oBAAoB;YAC9DC,mBAAmB,EAAER,IAAI,CAACiB,aAAa,CAAC,CAACT;UAC7C,CAAC;QACL;MACJ;IACJ;IACA9B,SAAS,IAAIjU,KAAK,CAAC6W,eAAe,CAAC5C,SAAS,EAAEjU,KAAK,CAACoC,SAAS,CAAC;IAC9D,OAAO;MACH6R,SAAS;MACTsB;IACJ,CAAC;EACL;EACAS,gBAAgBA,CAACjQ,CAAC,EAAE+Q,SAAS,EAAE;IAC3B,MAAMC,SAAS,GAAG,IAAI,CAACvI,KAAK,CAAC+G,IAAI,CAACxP,CAAC,CAACiP,MAAM,CAACC,GAAG,CAAC;IAC/C,MAAMW,YAAY,GAAGmB,SAAS,CAACnB,YAAY;IAC3C,MAAMC,WAAW,GAAG9P,CAAC,CAACiP,MAAM,CAAC7H,IAAI;IACjC,MAAM;MAAE8G,SAAS,EAAEuC;IAAc,CAAC,GAAG,IAAI,CAAChI,KAAK;IAC/C,IAAIsI,SAAS,EAAE;MACX;AACZ;AACA;AACA;MACYA,SAAS,CAAC/Q,CAAC,CAAC;IAChB;IACA;IACA;IACA,IAAIyQ,aAAa,KAAKzQ,CAAC,CAACiP,MAAM,CAACC,GAAG,EAAE;MAChC,IAAIW,YAAY,KAAKC,WAAW,EAAE;QAC9B,IAAI,CAACvV,OAAO,CAACkC,QAAQ,CAACuD,CAAC,CAACiP,MAAM,CAACC,GAAG,EAAEW,YAAY,EAAEmB,SAAS,CAACjB,oBAAoB,CAAC;MACrF;IACJ,CAAC,MACI;MACD,IAAI,IAAI,CAAC9V,KAAK,CAACgX,mBAAmB,EAAE;QAChC,IAAI,CAAChX,KAAK,CAACgX,mBAAmB,CAAC,IAAIjC,WAAW,CAAC,kBAAkB,EAAE;UAAEC,MAAM,EAAE;YAAEC,GAAG,EAAElP,CAAC,CAACiP,MAAM,CAACC;UAAI;QAAE,CAAC,CAAC,CAAC;MAC1G;MACA,IAAI,IAAI,CAACjV,KAAK,CAACiX,kBAAkB,EAAE;QAC/B,IAAI,CAACjX,KAAK,CAACiX,kBAAkB,CAAC,IAAIlC,WAAW,CAAC,iBAAiB,EAAE;UAAEC,MAAM,EAAE;YAAEC,GAAG,EAAElP,CAAC,CAACiP,MAAM,CAACC;UAAI;QAAE,CAAC,CAAC,CAAC;MACxG;MACA,IAAI,CAACK,qBAAqB,CAACvP,CAAC,CAACiP,MAAM,CAACC,GAAG,CAAC;MACxC,IAAI,CAAC3U,OAAO,CAACgC,SAAS,CAACyD,CAAC,CAACiP,MAAM,CAACC,GAAG,EAAEY,WAAW,EAAE9P,CAAC,CAACiP,MAAM,CAACE,YAAY,CAAC;IAC5E;EACJ;EACAe,eAAeA,CAAChC,SAAS,EAAE;IACvB,OAAQwB,KAAK,IAAK;MACd,IAAIhO,EAAE,EAAEgH,EAAE;MACV,IAAIgH,KAAK,IAAI,IAAI,IAAIA,KAAK,CAACzV,KAAK,KAAKyV,KAAK,CAACzN,IAAI,KAAK6M,YAAY,IAAIY,KAAK,CAACzN,IAAI,CAAC2N,WAAW,CAAC,EAAE;QACzF,MAAMxI,IAAI,GAAGsI,KAAK,CAACzV,KAAK,CAACiV,GAAG,KAAKhB,SAAS,GACpC,CAACxM,EAAE,GAAG,IAAI,CAACzH,KAAK,CAACoC,SAAS,MAAM,IAAI,IAAIqF,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC3F,QAAQ,GAC5E,IAAI,CAAC0M,KAAK,CAAC+G,IAAI,CAACE,KAAK,CAACzV,KAAK,CAACiV,GAAG,CAAC,CAACY,WAAW;QAClD,MAAMX,YAAY,GAAGO,KAAK,CAACzV,KAAK,CAACiV,GAAG,KAAKhB,SAAS,GAC5C,CAACxF,EAAE,GAAG,IAAI,CAACzO,KAAK,CAACoC,SAAS,MAAM,IAAI,IAAIqM,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACyG,YAAY,GAChF,IAAI,CAAC1G,KAAK,CAAC+G,IAAI,CAACE,KAAK,CAACzV,KAAK,CAACiV,GAAG,CAAC,CAACc,mBAAmB;QAC1D,OAAO/gB,KAAK,CAACkiB,YAAY,CAACzB,KAAK,EAAE;UAC7BtI,IAAI;UACJ+H,YAAY;UACZ9H,OAAO,EAAG+J,EAAE,IAAK,IAAI,CAACnB,gBAAgB,CAACmB,EAAE,EAAE1B,KAAK,CAACzV,KAAK,CAACoN,OAAO;QAClE,CAAC,CAAC;MACN;MACA,OAAO,IAAI;IACf,CAAC;EACL;EACA7M,MAAMA,CAAA,EAAG;IACL,MAAM;MAAE0T;IAAU,CAAC,GAAG,IAAI,CAACzF,KAAK;IAChC,OAAQxZ,KAAK,CAACI,aAAa,CAACmb,cAAc,EAAE9P,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAACV,KAAK,EAAE;MAAEoX,WAAW,EAAEnD;IAAU,CAAC,CAAC,EAAEjf,KAAK,CAACwgB,QAAQ,CAAC3S,GAAG,CAAC,IAAI,CAAC7C,KAAK,CAAC0H,QAAQ,EAAE,IAAI,CAACuO,eAAe,CAAChC,SAAS,CAAC,CAAC,CAAC;EACpL;EACA,WAAWhM,WAAWA,CAAA,EAAG;IACrB,OAAO7G,UAAU;EACrB;AACJ;AACA,MAAMiW,kBAAkB,GAAGriB,KAAK,CAACsiB,IAAI,CAAE7P,EAAE,IAAK;EAC1C,IAAI;MAAEb;IAAa,CAAC,GAAGa,EAAE;IAAEzH,KAAK,GAAGjJ,MAAM,CAAC0Q,EAAE,EAAE,CAAC,cAAc,CAAC,CAAC;EAC/D,MAAMnH,OAAO,GAAGrL,UAAU,CAACmM,UAAU,CAAC;EACtC,OAAQpM,KAAK,CAACI,aAAa,CAACigB,kBAAkB,EAAE5U,MAAM,CAACC,MAAM,CAAC;IAAEC,GAAG,EAAEiG;EAAa,CAAC,EAAE5G,KAAK,EAAE;IAAEoC,SAAS,EAAEpC,KAAK,CAACoC,SAAS,IAAI9B,OAAO,CAAC8B,SAAS,IAAI;MAAEN,QAAQ,EAAEF,MAAM,CAACC,QAAQ,CAACC;IAAS,CAAC;IAAE+U,eAAe,EAAEvW,OAAO,CAAC+B;EAAc,CAAC,CAAC,EAAErC,KAAK,CAAC0H,QAAQ,CAAC;AACvP,CAAC,CAAC;AACF,MAAM6P,SAAS,GAAGlL,gBAAgB,CAACgL,kBAAkB,EAAE,WAAW,CAAC;AAEnE,MAAMG,cAAc,SAASrD,cAAc,CAAC;EACxClW,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,CAAC;EACX;AACJ;AACA;AACA,IAAI,OAAO2D,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACmF,cAAc,EAAE;EACxD,MAAM3G,OAAO,GAAGwB,MAAM,CAACmF,cAAc,CAACC,GAAG,CAAC,UAAU,CAAC;EACrD,IAAI,CAAC5G,OAAO,EAAE;IACVwB,MAAM,CAACmF,cAAc,CAACE,MAAM,CAAC,UAAU,EAAEuQ,cAAc,CAAC;EAC5D;AACJ;AACA,MAAMC,UAAU,GAAG;EACfC,OAAO,EAAE,MAAM;EACfC,QAAQ,EAAE,UAAU;EACpBC,GAAG,EAAE,GAAG;EACRC,IAAI,EAAE,GAAG;EACTC,KAAK,EAAE,GAAG;EACVC,MAAM,EAAE,GAAG;EACXC,aAAa,EAAE,QAAQ;EACvBC,KAAK,EAAE,MAAM;EACbC,MAAM,EAAE,MAAM;EACdC,OAAO,EAAE;AACb,CAAC;AACD,MAAMC,SAAS,GAAG;EACdT,QAAQ,EAAE,UAAU;EACpBU,IAAI,EAAE,CAAC;EACPF,OAAO,EAAE;AACb,CAAC;AACD,MAAMG,OAAO,GAAG,aAAc,CAAC,MAAM,cAActjB,KAAK,CAAC+K,SAAS,CAAC;EAC/D9B,WAAWA,CAAC+B,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACuY,eAAe,GAAGvjB,KAAK,CAACkL,SAAS,CAAC,CAAC;IACxC,IAAI,CAACsY,SAAS,GAAGxjB,KAAK,CAACkL,SAAS,CAAC,CAAC;IAClC,IAAI,CAACuY,kBAAkB,GAAG;MACtBxE,SAAS,EAAE3S,SAAS;MACpB4S,SAAS,EAAEA,CAAA,KAAM;IACrB,CAAC;EACL;EACA/T,iBAAiBA,CAAA,EAAG;IAChB,IAAI,IAAI,CAACqY,SAAS,CAACnY,OAAO,EAAE;MACxB;MACA,IAAI,CAACoY,kBAAkB,CAACxE,SAAS,GAAG,IAAI,CAACuE,SAAS,CAACnY,OAAO,CAACmO,KAAK,CAACyF,SAAS;MAC1E;MACA,IAAI,CAACuE,SAAS,CAACnY,OAAO,CAACiV,qBAAqB,GAAIL,GAAG,IAAK;QACpD,IAAI,CAACwD,kBAAkB,CAACxE,SAAS,GAAGgB,GAAG;MAC3C,CAAC;MACD,IAAI,CAACwD,kBAAkB,CAACvE,SAAS,GAAG,IAAI,CAACsE,SAAS,CAACnY,OAAO,CAAC6T,SAAS;IACxE;EACJ;EACA3T,MAAMA,CAAA,EAAG;IACL,IAAImY,MAAM;IACV,IAAIC,MAAM;IACV,MAAMlR,EAAE,GAAG,IAAI,CAACzH,KAAK;MAAE;QAAE2D,SAAS;QAAEsT,kBAAkB;QAAED;MAAoB,CAAC,GAAGvP,EAAE;MAAEzH,KAAK,GAAGjJ,MAAM,CAAC0Q,EAAE,EAAE,CAAC,WAAW,EAAE,oBAAoB,EAAE,qBAAqB,CAAC,CAAC;IAClK,MAAMC,QAAQ,GAAG,OAAO,IAAI,CAAC1H,KAAK,CAAC0H,QAAQ,KAAK,UAAU,GACpD,IAAI,CAAC1H,KAAK,CAAC0H,QAAQ,CAAC,IAAI,CAAC+Q,kBAAkB,CAAC,GAC5C,IAAI,CAACzY,KAAK,CAAC0H,QAAQ;IACzB1S,KAAK,CAACwgB,QAAQ,CAACnW,OAAO,CAACqI,QAAQ,EAAG+N,KAAK,IAAK;MACxC;MACA,IAAIA,KAAK,IAAI,IAAI,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAI,CAACA,KAAK,CAACmD,cAAc,CAAC,MAAM,CAAC,EAAE;QAC7E;MACJ;MACA,IAAInD,KAAK,CAACzN,IAAI,KAAK4M,eAAe,IAAIa,KAAK,CAACzN,IAAI,CAAC6Q,cAAc,EAAE;QAC7DH,MAAM,GAAG1jB,KAAK,CAACkiB,YAAY,CAACzB,KAAK,CAAC;MACtC,CAAC,MACI,IAAIA,KAAK,CAACzN,IAAI,KAAKzS,QAAQ,IAAIkgB,KAAK,CAACzV,KAAK,CAAC0H,QAAQ,CAAC,CAAC,CAAC,CAACM,IAAI,KAAK4M,eAAe,EAAE;QAClF8D,MAAM,GAAGjD,KAAK,CAACzV,KAAK,CAAC0H,QAAQ,CAAC,CAAC,CAAC;MACpC;MACA,IAAIoR,UAAU,GAAG;QACbnY,GAAG,EAAE,IAAI,CAAC6X;MACd,CAAC;MACD;AACZ;AACA;AACA;AACA;AACA;AACA;MACY,IAAIvB,kBAAkB,KAAK3V,SAAS,EAAE;QAClCwX,UAAU,GAAGrY,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEoY,UAAU,CAAC,EAAE;UAAE7B;QAAmB,CAAC,CAAC;MACrF;MACA,IAAID,mBAAmB,KAAK1V,SAAS,EAAE;QACnCwX,UAAU,GAAGrY,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEoY,UAAU,CAAC,EAAE;UAAE9B;QAAoB,CAAC,CAAC;MACtF;MACA,IAAIvB,KAAK,CAACzN,IAAI,KAAKuP,SAAS,IAAI9B,KAAK,CAACzN,IAAI,CAAC+Q,QAAQ,EAAE;QACjDJ,MAAM,GAAG3jB,KAAK,CAACkiB,YAAY,CAACzB,KAAK,EAAEqD,UAAU,CAAC;MAClD,CAAC,MACI,IAAIrD,KAAK,CAACzN,IAAI,KAAKzS,QAAQ,KAC3BkgB,KAAK,CAACzV,KAAK,CAAC0H,QAAQ,CAAC,CAAC,CAAC,CAACM,IAAI,KAAKuP,SAAS,IAAI9B,KAAK,CAACzV,KAAK,CAAC0H,QAAQ,CAAC,CAAC,CAAC,CAACM,IAAI,CAAC+Q,QAAQ,CAAC,EAAE;QACvFJ,MAAM,GAAG3jB,KAAK,CAACkiB,YAAY,CAACzB,KAAK,CAACzV,KAAK,CAAC0H,QAAQ,CAAC,CAAC,CAAC,EAAEoR,UAAU,CAAC;MACpE;IACJ,CAAC,CAAC;IACF,IAAI,CAACJ,MAAM,EAAE;MACT,MAAM,IAAIM,KAAK,CAAC,yCAAyC,CAAC;IAC9D;IACA,IAAI,CAACL,MAAM,EAAE;MACT,MAAM,IAAIK,KAAK,CAAC,2BAA2B,CAAC;IAChD;IACA,OAAQhkB,KAAK,CAACI,aAAa,CAAC4e,cAAc,CAAChD,QAAQ,EAAE;MAAE3K,KAAK,EAAE,IAAI,CAACoS;IAAmB,CAAC,EAAE,IAAI,CAACnY,OAAO,CAAC6B,cAAc,CAAC,CAAC,GAAInN,KAAK,CAACI,aAAa,CAACgc,WAAW,EAAE3Q,MAAM,CAACC,MAAM,CAAC;MAAEiD,SAAS,EAAEA,SAAS,GAAG,GAAGA,SAAS,EAAE,GAAG,EAAE;MAAEvB,SAAS,EAAE,IAAI,CAAC9B,OAAO,CAAC8B;IAAU,CAAC,EAAEpC,KAAK,CAAC,EAC9PhL,KAAK,CAACI,aAAa,CAAC,UAAU,EAAE;MAAEuO,SAAS,EAAE,UAAU;MAAEgE,KAAK,EAAE8P;IAAW,CAAC,EACxEkB,MAAM,CAAC3Y,KAAK,CAACiZ,IAAI,KAAK,KAAK,GAAGN,MAAM,GAAG,IAAI,EAC3C3jB,KAAK,CAACI,aAAa,CAAC,KAAK,EAAE;MAAEuS,KAAK,EAAEyQ,SAAS;MAAEzU,SAAS,EAAE;IAAa,CAAC,EAAE+U,MAAM,CAAC,EACjFC,MAAM,CAAC3Y,KAAK,CAACiZ,IAAI,KAAK,QAAQ,GAAGN,MAAM,GAAG,IAAI,CAAC,CAAC,GAAK3jB,KAAK,CAACI,aAAa,CAAC,KAAK,EAAEqL,MAAM,CAACC,MAAM,CAAC;MAAEiD,SAAS,EAAEA,SAAS,GAAG,GAAGA,SAAS,EAAE,GAAG;IAAW,CAAC,EAAE3D,KAAK,EAAE;MAAE2H,KAAK,EAAE8P;IAAW,CAAC,CAAC,EACvLkB,MAAM,CAAC3Y,KAAK,CAACiZ,IAAI,KAAK,KAAK,GAAGN,MAAM,GAAG,IAAI,EAC3C3jB,KAAK,CAACI,aAAa,CAAC,KAAK,EAAE;MAAEuS,KAAK,EAAEyQ,SAAS;MAAEzU,SAAS,EAAE;IAAa,CAAC,EAAE+U,MAAM,CAAC,EACjFC,MAAM,CAAC3Y,KAAK,CAACiZ,IAAI,KAAK,QAAQ,GAAGN,MAAM,GAAG,IAAI,CAAE,CAAC;EACzD;EACA,WAAW1Q,WAAWA,CAAA,EAAG;IACrB,OAAO7G,UAAU;EACrB;AACJ,CAAC,EAAE,CAAC;AAEJ,MAAM8X,aAAa,GAAG,aAAc,CAAC,MAAM,cAAclkB,KAAK,CAAC+K,SAAS,CAAC;EACrE9B,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,GAAGkb,SAAS,CAAC;IACnB,IAAI,CAACC,WAAW,GAAIrT,CAAC,IAAK;MACtB;AACZ;AACA;AACA;AACA;MACY,IAAIA,CAAC,CAACsT,MAAM,IAAItT,CAAC,CAACsT,MAAM,CAACC,OAAO,CAAC,SAAS,CAAC,KAAK,IAAI,EAAE;QAClD;MACJ;MACA,MAAM;QAAEC,WAAW;QAAExM;MAAgB,CAAC,GAAG,IAAI,CAAC/M,KAAK;MACnD,IAAI,IAAI,CAACM,OAAO,CAAC6B,cAAc,CAAC,CAAC,EAAE;QAC/B4D,CAAC,CAACyT,eAAe,CAAC,CAAC;QACnB,IAAI,CAAClZ,OAAO,CAACoB,MAAM,CAAC6X,WAAW,EAAExM,eAAe,CAAC;MACrD,CAAC,MACI,IAAIwM,WAAW,KAAKjY,SAAS,EAAE;QAChCM,MAAM,CAACC,QAAQ,CAACsL,IAAI,GAAGoM,WAAW;MACtC;IACJ,CAAC;EACL;EACAhZ,MAAMA,CAAA,EAAG;IACL,OAAOvL,KAAK,CAACI,aAAa,CAACob,kBAAkB,EAAE/P,MAAM,CAACC,MAAM,CAAC;MAAE0M,OAAO,EAAE,IAAI,CAACgM;IAAY,CAAC,EAAE,IAAI,CAACpZ,KAAK,CAAC,CAAC;EAC5G;EACA,WAAW0G,WAAWA,CAAA,EAAG;IACrB,OAAO,eAAe;EAC1B;EACA,WAAWuB,WAAWA,CAAA,EAAG;IACrB,OAAO7G,UAAU;EACrB;AACJ,CAAC,EAAE,CAAC;AAEJ,MAAMqY,gBAAgB,SAASzkB,KAAK,CAACqc,aAAa,CAAC;EAC/CpT,WAAWA,CAAC+B,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,IAAI,CAACA,KAAK,CAAC+D,IAAI,EAAE;MACjB2V,OAAO,CAACC,IAAI,CAAC,yJAAyJ,CAAC;IAC3K;EACJ;EACApZ,MAAMA,CAAA,EAAG;IACL,IAAIkH,EAAE,EAAEgH,EAAE;IACV,MAAMC,EAAE,GAAG,IAAI,CAAC1O,KAAK;MAAE;QAAE4Z,IAAI;QAAEC,GAAG;QAAEC,EAAE;QAAEC;MAAK,CAAC,GAAGrL,EAAE;MAAEyG,IAAI,GAAGpe,MAAM,CAAC2X,EAAE,EAAE,CAAC,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,MAAM,CAAC,CAAC;IACrG,IAAIsL,SAAS;IACb,MAAMvN,MAAM,GAAGF,SAAS,CAAC,CAAC;IAC1B,MAAM0N,QAAQ,GAAGF,IAAI,KAAKtN,MAAM,KAAK,IAAI,IAAIA,MAAM,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,MAAM,CAACzF,GAAG,CAAC,MAAM,CAAC,CAAC;IAC7F,IAAI6S,GAAG,IAAIC,EAAE,EAAE;MACX,IAAIG,QAAQ,KAAK,KAAK,EAAE;QACpBD,SAAS,GAAG,CAACvS,EAAE,GAAGoS,GAAG,KAAK,IAAI,IAAIA,GAAG,KAAK,KAAK,CAAC,GAAGA,GAAG,GAAGC,EAAE,MAAM,IAAI,IAAIrS,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAGmS,IAAI;MACtG,CAAC,MACI;QACDI,SAAS,GAAG,CAACvL,EAAE,GAAGqL,EAAE,KAAK,IAAI,IAAIA,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAGD,GAAG,MAAM,IAAI,IAAIpL,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAGmL,IAAI;MACpG;IACJ,CAAC,MACI;MACDI,SAAS,GAAGJ,IAAI;IACpB;IACA,OAAQ5kB,KAAK,CAACI,aAAa,CAACub,YAAY,EAAElQ,MAAM,CAACC,MAAM,CAAC;MAAEC,GAAG,EAAE,IAAI,CAACX,KAAK,CAAC4G,YAAY;MAAEgT,IAAI,EAAEI;IAAU,CAAC,EAAE7E,IAAI,CAAC,EAAE,IAAI,CAACnV,KAAK,CAAC0H,QAAQ,CAAC;EAC1I;EACA,WAAWO,WAAWA,CAAA,EAAG;IACrB,OAAO7G,UAAU;EACrB;AACJ;AACA,MAAM8Y,OAAO,GAAG7N,gBAAgB,CAACoN,gBAAgB,EAAE,SAAS,CAAC;AAE7D,MAAMU,QAAQ,SAASnlB,KAAK,CAACqc,aAAa,CAAC;EACvC9Q,MAAMA,CAAA,EAAG;IACL,MAAM6Z,aAAa,GAAG,IAAI,CAAC9Z,OAAO,CAACiB,WAAW,CAAC,CAAC;IAChD,IAAI,CAAC,IAAI,CAACjB,OAAO,CAAC6B,cAAc,CAAC,CAAC,IAAI,CAACgY,QAAQ,EAAE;MAC7CT,OAAO,CAACW,KAAK,CAAC,kGAAkG,CAAC;MACjH,OAAO,IAAI;IACf;IACA,OAAOrlB,KAAK,CAACI,aAAa,CAACglB,aAAa,EAAE3Z,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAACV,KAAK,CAAC,CAAC;EAC5E;EACA,WAAWiI,WAAWA,CAAA,EAAG;IACrB,OAAO7G,UAAU;EACrB;AACJ;AAEA,MAAMkZ,WAAW,SAAStlB,KAAK,CAACqc,aAAa,CAAC;EAC1C9Q,MAAMA,CAAA,EAAG;IACL,MAAMga,gBAAgB,GAAG,IAAI,CAACja,OAAO,CAACe,cAAc,CAAC,CAAC;IACtD,IAAI,CAAC,IAAI,CAACf,OAAO,CAAC6B,cAAc,CAAC,CAAC,IAAI,CAACmY,WAAW,EAAE;MAChDZ,OAAO,CAACW,KAAK,CAAC,qGAAqG,CAAC;MACpH,OAAO,IAAI;IACf;IACA,OAAOrlB,KAAK,CAACI,aAAa,CAACmlB,gBAAgB,EAAE9Z,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAACV,KAAK,CAAC,CAAC;EAC/E;EACA,WAAWiI,WAAWA,CAAA,EAAG;IACrB,OAAO7G,UAAU;EACrB;AACJ;AAEA,MAAMoZ,gBAAgB,GAAGxlB,KAAK,CAACmI,aAAa,CAAC;EACzCiF,SAAS,EAAEd,SAAS;EACpBvC,IAAI,EAAEA,CAAA,KAAM;IACR,MAAM,IAAIia,KAAK,CAAC,kDAAkD,CAAC;EACvE,CAAC;EACDhX,IAAI,EAAEA,CAAA,KAAM;IACR,MAAM,IAAIgX,KAAK,CAAC,kDAAkD,CAAC;EACvE,CAAC;EACDyB,SAAS,EAAEA,CAAA,KAAM;IACb,MAAM,IAAIzB,KAAK,CAAC,kDAAkD,CAAC;EACvE,CAAC;EACD0B,UAAU,EAAEA,CAAA,KAAM;IACd,MAAM,IAAI1B,KAAK,CAAC,kDAAkD,CAAC;EACvE;AACJ,CAAC,CAAC;AACF;AACA;AACA;AACA,SAAS2B,YAAYA,CAAA,EAAG;EACpB,MAAMra,OAAO,GAAGrL,UAAU,CAACulB,gBAAgB,CAAC;EAC5C,OAAOllB,OAAO,CAAC,OAAO;IAClB0M,IAAI,EAAE1B,OAAO,CAAC0B,IAAI;IAClBjD,IAAI,EAAEuB,OAAO,CAACvB,IAAI;IAClB2C,MAAM,EAAEpB,OAAO,CAAC0B,IAAI;IACpByY,SAAS,EAAEna,OAAO,CAACma,SAAS;IAC5BrY,SAAS,EAAE9B,OAAO,CAAC8B;EACvB,CAAC,CAAC,EAAE,CAAC9B,OAAO,CAAC0B,IAAI,EAAE1B,OAAO,CAACvB,IAAI,EAAEuB,OAAO,CAACma,SAAS,EAAEna,OAAO,CAAC8B,SAAS,CAAC,CAAC;AAC3E;AAEA,MAAMwY,eAAe,SAAS5lB,KAAK,CAACqc,aAAa,CAAC;EAC9CpT,WAAWA,CAAC+B,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAAC6a,KAAK,GAAG,IAAI3U,GAAG,CAAC,CAAC;IACtB,IAAI,CAAC4U,SAAS,GAAGhlB,eAAe,CAACkK,KAAK,CAACrB,EAAE,CAAC;EAC9C;EACAoc,cAAcA,CAAC/a,KAAK,EAAE;IAClB,MAAM8a,SAAS,GAAG,IAAI,CAACA,SAAS;IAChC,IAAI,IAAI,CAACD,KAAK,CAACG,IAAI,GAAG,CAAC,EAAE;MACrBF,SAAS,CAACG,UAAU,CAACC,KAAK,CAACC,IAAI,CAAC,IAAI,CAACN,KAAK,CAACO,MAAM,CAAC,CAAC,CAAC,CAAC;IACzD;IACAC,WAAW,CAACP,SAAS,EAAE9a,KAAK,CAAC;IAC7Bsb,aAAa,CAACR,SAAS,EAAE9a,KAAK,CAAC;EACnC;EACAG,iBAAiBA,CAAA,EAAG;IAChB,MAAMH,KAAK,GAAG,IAAI,CAACA,KAAK;IACxB,IAAI,CAAC+a,cAAc,CAAC/a,KAAK,CAAC;EAC9B;EACAuH,kBAAkBA,CAACC,SAAS,EAAE;IAC1B,MAAMsT,SAAS,GAAG,IAAI,CAACA,SAAS;IAChC,MAAM9a,KAAK,GAAG,IAAI,CAACA,KAAK;IACxBqb,WAAW,CAACP,SAAS,EAAE9a,KAAK,EAAEwH,SAAS,CAAC;IACxC+T,aAAa,CAACT,SAAS,EAAE9a,KAAK,EAAEwH,SAAS,CAAC;IAC1C8T,aAAa,CAACR,SAAS,EAAE9a,KAAK,EAAEwH,SAAS,CAAC;EAC9C;EACAjH,MAAMA,CAAA,EAAG;IACL,MAAM;MAAEmH;IAAS,CAAC,GAAG,IAAI,CAAC1H,KAAK;IAC/B,OAAQhL,KAAK,CAACI,aAAa,CAACJ,KAAK,CAACO,QAAQ,EAAE,IAAI,EAAEP,KAAK,CAACwgB,QAAQ,CAAC3S,GAAG,CAAC6E,QAAQ,EAAE,CAAC+N,KAAK,EAAE9W,EAAE,KAAK3J,KAAK,CAACkiB,YAAY,CAACzB,KAAK,EAAE;MAAE9U,GAAG,EAAG0N,EAAE,IAAK,IAAI,CAACwM,KAAK,CAAC1U,GAAG,CAACxH,EAAE,EAAE0P,EAAE;IAAE,CAAC,CAAC,CAAC,CAAC;EACtK;AACJ;AACA,MAAMgN,WAAW,GAAGA,CAACP,SAAS,EAAEU,YAAY,GAAG,CAAC,CAAC,EAAEhU,SAAS,GAAG,CAAC,CAAC,KAAK;EAClE,MAAMiU,aAAa,GAAG,CAClB,UAAU,EACV,eAAe,EACf,cAAc,EACd,aAAa,EACb,OAAO,EACP,MAAM,EACN,SAAS,EACT,MAAM,EACN,MAAM,EACN,IAAI,EACJ,QAAQ,EACR,UAAU,CACb;EACD,KAAK,MAAMrL,GAAG,IAAIoL,YAAY,EAAE;IAC5B;IACA;IACAA,YAAY,CAAC5C,cAAc,CAACxI,GAAG,CAAC,IAC5B,CAACqL,aAAa,CAACvO,QAAQ,CAACkD,GAAG,CAAC,IAC5BoL,YAAY,CAACpL,GAAG,CAAC,KAAK5I,SAAS,CAAC4I,GAAG,CAAC,EAAE;MACtC0K,SAAS,CAAC1K,GAAG,CAAC,CAACoL,YAAY,CAACpL,GAAG,CAAC,CAAC;IACrC;EACJ;EACA,MAAMsL,UAAU,GAAGF,YAAY,CAACL,IAAI;EACpC,IAAIO,UAAU,IAAIA,UAAU,KAAKlU,SAAS,CAAC2T,IAAI,EAAE;IAC7C,MAAMC,MAAM,GAAGF,KAAK,CAACS,OAAO,CAACD,UAAU,CAAC,GAAGA,UAAU,GAAG,CAACA,UAAU,CAAC;IACpEN,MAAM,CAAC/b,OAAO,CAAEoV,GAAG,IAAKqG,SAAS,CAACK,IAAI,CAAC1G,GAAG,CAACmH,QAAQ,EAAEnH,GAAG,CAACpO,KAAK,CAAC,CAAC;EACpE;EACA,MAAMwV,QAAQ,GAAGL,YAAY,CAACM,EAAE;EAChC,IAAID,QAAQ,IAAIA,QAAQ,KAAKrU,SAAS,CAACsU,EAAE,EAAE;IACvC,MAAMV,MAAM,GAAGF,KAAK,CAACS,OAAO,CAACE,QAAQ,CAAC,GAAGA,QAAQ,GAAG,CAACA,QAAQ,CAAC;IAC9DT,MAAM,CAAC/b,OAAO,CAAEoV,GAAG,IAAKqG,SAAS,CAACgB,EAAE,CAACrH,GAAG,CAACmH,QAAQ,EAAEnH,GAAG,CAACpO,KAAK,CAAC,CAAC;EAClE;EACA,MAAM0V,YAAY,GAAGP,YAAY,CAACQ,MAAM;EACxC,IAAID,YAAY,IAAIA,YAAY,KAAKvU,SAAS,CAACwU,MAAM,EAAE;IACnD,MAAMZ,MAAM,GAAGF,KAAK,CAACS,OAAO,CAACI,YAAY,CAAC,GAAGA,YAAY,GAAG,CAACA,YAAY,CAAC;IAC1EX,MAAM,CAAC/b,OAAO,CAAEoV,GAAG,IAAKqG,SAAS,CAACkB,MAAM,CAACvH,GAAG,CAACmH,QAAQ,EAAEnH,GAAG,CAACwH,SAAS,EAAExH,GAAG,CAACyH,OAAO,CAAC,CAAC;EACvF;EACA,MAAMC,cAAc,GAAGX,YAAY,CAACY,QAAQ;EAC5C,IAAID,cAAc,IAAIA,cAAc,KAAK3U,SAAS,CAAC4U,QAAQ,EAAE;IACzD,MAAMhB,MAAM,GAAGF,KAAK,CAACS,OAAO,CAACQ,cAAc,CAAC,GAAGA,cAAc,GAAG,CAACA,cAAc,CAAC;IAChFf,MAAM,CAAC/b,OAAO,CAAEoV,GAAG,IAAKqG,SAAS,CAACsB,QAAQ,CAAC3H,GAAG,CAAC/V,QAAQ,EAAE+V,GAAG,CAAC4H,IAAI,CAAC,CAAC;EACvE;AACJ,CAAC;AACD,MAAMd,aAAa,GAAGA,CAACT,SAAS,EAAEU,YAAY,GAAG,CAAC,CAAC,EAAEhU,SAAS,GAAG,CAAC,CAAC,KAAK;EACpE,IAAIC,EAAE,EAAEgH,EAAE,EAAEC,EAAE,EAAEgH,EAAE,EAAE4G,EAAE;EACtB,MAAM;IAAEC,aAAa;IAAEC,YAAY;IAAEC;EAAY,CAAC,GAAGjB,YAAY;EACjE,IAAIe,aAAa,KACZ,CAAC,CAAC9U,EAAE,GAAGD,SAAS,CAAC+U,aAAa,MAAM,IAAI,IAAI9U,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACiV,iBAAiB,OAAOH,aAAa,KAAK,IAAI,IAAIA,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACG,iBAAiB,CAAC,IAC3L,CAAC,CAACjO,EAAE,GAAGjH,SAAS,CAAC+U,aAAa,MAAM,IAAI,IAAI9N,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACkO,IAAI,OAAOJ,aAAa,KAAK,IAAI,IAAIA,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACI,IAAI,CAAC,CAAC,EAAE;IAC3K7B,SAAS,CAACyB,aAAa,CAACA,aAAa,CAACG,iBAAiB,EAAEH,aAAa,CAACI,IAAI,CAAC;EAChF;EACA,IAAIH,YAAY,IAAI,CAAC,CAAC9N,EAAE,GAAGlH,SAAS,CAACgV,YAAY,MAAM,IAAI,IAAI9N,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACiO,IAAI,OAAOH,YAAY,KAAK,IAAI,IAAIA,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAACG,IAAI,CAAC,EAAE;IAClL7B,SAAS,CAAC0B,YAAY,CAACA,YAAY,CAACG,IAAI,CAAC;EAC7C;EACA,IAAIF,WAAW,KACV,CAAC,CAAC/G,EAAE,GAAGlO,SAAS,CAACiV,WAAW,MAAM,IAAI,IAAI/G,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACkH,MAAM,OAAOH,WAAW,KAAK,IAAI,IAAIA,WAAW,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,WAAW,CAACG,MAAM,CAAC,IAC7J,CAAC,CAACN,EAAE,GAAG9U,SAAS,CAACiV,WAAW,MAAM,IAAI,IAAIH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACK,IAAI,OAAOF,WAAW,KAAK,IAAI,IAAIA,WAAW,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,WAAW,CAACE,IAAI,CAAC,IAC5J,CAACnV,SAAS,KAAK,IAAI,IAAIA,SAAS,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,SAAS,CAACqV,GAAG,OAAOJ,WAAW,KAAK,IAAI,IAAIA,WAAW,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,WAAW,CAACI,GAAG,CAAC,CAAC,EAAE;IAC5J/B,SAAS,CAAC2B,WAAW,CAACA,WAAW,CAACG,MAAM,EAAEH,WAAW,CAACE,IAAI,EAAEF,WAAW,CAACI,GAAG,CAAC;EAChF;AACJ,CAAC;AACD,MAAMvB,aAAa,GAAGA,CAACR,SAAS,EAAEU,YAAY,GAAG,CAAC,CAAC,EAAEhU,SAAS,GAAG,CAAC,CAAC,KAAK;EACpE,IAAI,CAACA,SAAS,CAACsV,IAAI,IAAItB,YAAY,CAACsB,IAAI,EAAE;IACtChC,SAAS,CAACgC,IAAI,CAAC,CAAC;EACpB;EACA,IAAI,CAACtV,SAAS,CAACuV,KAAK,IAAIvB,YAAY,CAACuB,KAAK,EAAE;IACxCjC,SAAS,CAACiC,KAAK,CAAC,CAAC;EACrB;EACA,IAAI,CAACvV,SAAS,CAACwV,IAAI,IAAIxB,YAAY,CAACwB,IAAI,EAAE;IACtClC,SAAS,CAACkC,IAAI,CAAC,CAAC;EACpB;EACA,IAAI,CAACxV,SAAS,CAACyV,OAAO,IAAIzB,YAAY,CAACyB,OAAO,EAAE;IAC5CnC,SAAS,CAACmC,OAAO,CAAC,CAAC;EACvB;AACJ,CAAC;AAED,SAASC,aAAaA,CAACxW,WAAW,EAAEyW,UAAU,EAAEjmB,mBAAmB,EAAE;EACjE,MAAMkmB,UAAU,GAAGloB,MAAM,CAAC,CAAC;EAC3B,MAAMmoB,mBAAmB,GAAG/nB,OAAO,CAAC,MAAM,KAAKoR,WAAW,YAAY,EAAE,CAACA,WAAW,CAAC,CAAC;EACtF,MAAM4W,mBAAmB,GAAGhoB,OAAO,CAAC,MAAM,KAAKoR,WAAW,YAAY,EAAE,CAACA,WAAW,CAAC,CAAC;EACtF,MAAM6W,oBAAoB,GAAGjoB,OAAO,CAAC,MAAM,KAAKoR,WAAW,aAAa,EAAE,CAACA,WAAW,CAAC,CAAC;EACxF,MAAM8W,oBAAoB,GAAGloB,OAAO,CAAC,MAAM,KAAKoR,WAAW,aAAa,EAAE,CAACA,WAAW,CAAC,CAAC;EACxFxP,mBAAmB,CAAC,CAAC;EACrB,MAAMumB,OAAO,GAAGjoB,WAAW,CAAC,MAAOkoB,OAAO,IAAK;IAC3C,IAAIN,UAAU,CAAC/c,OAAO,EAAE;MACpB;IACJ;IACA,MAAM;QAAEkO,YAAY;QAAEoP,aAAa;QAAEC,YAAY;QAAE3P;MAAc,CAAC,GAAGyP,OAAO;MAAEvI,IAAI,GAAGpe,MAAM,CAAC2mB,OAAO,EAAE,CAAC,cAAc,EAAE,eAAe,EAAE,cAAc,EAAE,eAAe,CAAC,CAAC;IACxK,MAAMG,aAAa,GAAIC,KAAK,IAAK;MAC7B,IAAIvP,YAAY,EAAE;QACdA,YAAY,CAACuP,KAAK,CAAC;MACvB;MACAV,UAAU,CAAC/c,OAAO,GAAGiB,SAAS;IAClC,CAAC;IACD8b,UAAU,CAAC/c,OAAO,GAAG,MAAM8c,UAAU,CAACY,MAAM,CAACtd,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEyU,IAAI,CAAC,CAAC;IACrE7R,WAAW,CAAC8Z,UAAU,CAAC/c,OAAO,EAAE;MAC5B,CAACgd,mBAAmB,GAAGQ,aAAa;MACpC,CAACP,mBAAmB,GAAIvX,CAAC,IAAK6X,YAAY,IAAIA,YAAY,CAAC7X,CAAC,CAAC;MAC7D,CAACwX,oBAAoB,GAAIxX,CAAC,IAAK4X,aAAa,IAAIA,aAAa,CAAC5X,CAAC,CAAC;MAChE,CAACyX,oBAAoB,GAAIzX,CAAC,IAAKkI,aAAa,IAAIA,aAAa,CAAClI,CAAC;IACnE,CAAC,CAAC;IACFqX,UAAU,CAAC/c,OAAO,CAACod,OAAO,CAAC,CAAC;EAChC,CAAC,EAAE,CAACN,UAAU,CAAC,CAAC;EAChB,MAAMa,OAAO,GAAGxoB,WAAW,CAAC,YAAY;IACpC4nB,UAAU,CAAC/c,OAAO,KAAK,MAAM+c,UAAU,CAAC/c,OAAO,CAAC2d,OAAO,CAAC,CAAC,CAAC;IAC1DZ,UAAU,CAAC/c,OAAO,GAAGiB,SAAS;EAClC,CAAC,EAAE,EAAE,CAAC;EACN,OAAO;IACHmc,OAAO;IACPO;EACJ,CAAC;AACL;;AAEA;AACA;AACA;AACA;AACA,SAASC,iBAAiBA,CAAA,EAAG;EACzB,MAAMd,UAAU,GAAGD,aAAa,CAAC,gBAAgB,EAAEnnB,qBAAqB,EAAE0G,sBAAsB,CAAC;EACjG,MAAMghB,OAAO,GAAGjoB,WAAW,CAAC,CAAC0oB,gBAAgB,EAAEC,MAAM,KAAK;IACtD,IAAIjD,KAAK,CAACS,OAAO,CAACuC,gBAAgB,CAAC,EAAE;MACjC,OAAOf,UAAU,CAACM,OAAO,CAAC;QACtBW,OAAO,EAAEF,gBAAgB;QACzBC;MACJ,CAAC,CAAC;IACN,CAAC,MACI;MACD,OAAOhB,UAAU,CAACM,OAAO,CAACS,gBAAgB,CAAC;IAC/C;EACJ,CAAC,EAAE,CAACf,UAAU,CAACM,OAAO,CAAC,CAAC;EACxB,OAAO,CAACA,OAAO,EAAEN,UAAU,CAACa,OAAO,CAAC;AACxC;;AAEA;AACA;AACA;AACA;AACA,SAASK,WAAWA,CAAA,EAAG;EACnB,MAAMlB,UAAU,GAAGD,aAAa,CAAC,UAAU,EAAElnB,eAAe,EAAEqG,sBAAsB,CAAC;EACrF,MAAMohB,OAAO,GAAGjoB,WAAW,CAAC,CAAC8oB,gBAAgB,EAAEF,OAAO,KAAK;IACvD,IAAI,OAAOE,gBAAgB,KAAK,QAAQ,EAAE;MACtC,OAAOnB,UAAU,CAACM,OAAO,CAAC;QACtBc,OAAO,EAAED,gBAAgB;QACzBF,OAAO,EAAEA,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAGA,OAAO,GAAG,CAAC;UAAEI,IAAI,EAAE;QAAK,CAAC;MAC/E,CAAC,CAAC;IACN,CAAC,MACI;MACD,OAAOrB,UAAU,CAACM,OAAO,CAACa,gBAAgB,CAAC;IAC/C;EACJ,CAAC,EAAE,CAACnB,UAAU,CAACM,OAAO,CAAC,CAAC;EACxB,OAAO,CAACA,OAAO,EAAEN,UAAU,CAACa,OAAO,CAAC;AACxC;;AAEA;AACA;AACA;AACA;AACA,SAASS,WAAWA,CAAA,EAAG;EACnB,MAAMtB,UAAU,GAAGD,aAAa,CAAC,UAAU,EAAEjnB,eAAe,EAAEsG,sBAAsB,CAAC;EACrF,MAAMkhB,OAAO,GAAGjoB,WAAW,CAAC,CAAC8oB,gBAAgB,EAAEI,QAAQ,KAAK;IACxD,IAAI,OAAOJ,gBAAgB,KAAK,QAAQ,EAAE;MACtC,OAAOnB,UAAU,CAACM,OAAO,CAAC;QACtBc,OAAO,EAAED,gBAAgB;QACzBI;MACJ,CAAC,CAAC;IACN,CAAC,MACI;MACD,OAAOvB,UAAU,CAACM,OAAO,CAACa,gBAAgB,CAAC;IAC/C;EACJ,CAAC,EAAE,CAACnB,UAAU,CAACM,OAAO,CAAC,CAAC;EACxB,OAAO,CAACA,OAAO,EAAEN,UAAU,CAACa,OAAO,CAAC;AACxC;AAEA,SAASW,UAAUA,CAACjY,WAAW,EAAEyW,UAAU,EAAEjmB,mBAAmB,EAAE8Y,SAAS,EAAE4O,cAAc,EAAE;EACzF,MAAMxB,UAAU,GAAGloB,MAAM,CAAC,CAAC;EAC3B,MAAM2pB,cAAc,GAAG3pB,MAAM,CAAC,CAAC;EAC/B,MAAMmoB,mBAAmB,GAAG/nB,OAAO,CAAC,MAAM,KAAKoR,WAAW,YAAY,EAAE,CAACA,WAAW,CAAC,CAAC;EACtF,MAAM4W,mBAAmB,GAAGhoB,OAAO,CAAC,MAAM,KAAKoR,WAAW,YAAY,EAAE,CAACA,WAAW,CAAC,CAAC;EACtF,MAAM6W,oBAAoB,GAAGjoB,OAAO,CAAC,MAAM,KAAKoR,WAAW,aAAa,EAAE,CAACA,WAAW,CAAC,CAAC;EACxF,MAAM8W,oBAAoB,GAAGloB,OAAO,CAAC,MAAM,KAAKoR,WAAW,aAAa,EAAE,CAACA,WAAW,CAAC,CAAC;EACxF,MAAM,CAACoH,MAAM,EAAEgR,SAAS,CAAC,GAAGzpB,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAMwb,UAAU,GAAG5b,UAAU,CAACsa,UAAU,CAAC;EACzC,MAAM,CAACwP,SAAS,CAAC,GAAG1pB,QAAQ,CAAC6c,UAAU,CAAC,SAAS,CAAC,CAAC;EACnDhb,mBAAmB,CAAC,CAAC;EACrB/B,SAAS,CAAC,MAAM;IACZ,IAAI2Y,MAAM,IAAIkC,SAAS,IAAI6O,cAAc,CAACxe,OAAO,EAAE;MAC/C,IAAIrL,KAAK,CAACgqB,cAAc,CAAChP,SAAS,CAAC,EAAE;QACjCa,UAAU,CAACrB,UAAU,CAACuP,SAAS,EAAE/O,SAAS,EAAE6O,cAAc,CAACxe,OAAO,CAAC;MACvE,CAAC,MACI;QACD,MAAMD,OAAO,GAAGhL,aAAa,CAAC4a,SAAS,EAAE4O,cAAc,CAAC;QACxD/N,UAAU,CAACrB,UAAU,CAACuP,SAAS,EAAE3e,OAAO,EAAEye,cAAc,CAACxe,OAAO,CAAC;MACrE;IACJ;EACJ,CAAC,EAAE,CAAC2P,SAAS,EAAE6O,cAAc,CAACxe,OAAO,EAAEyN,MAAM,EAAE8Q,cAAc,CAAC,CAAC;EAC/D,MAAMnB,OAAO,GAAGjoB,WAAW,CAAC,MAAOkoB,OAAO,IAAK;IAC3C,IAAIN,UAAU,CAAC/c,OAAO,EAAE;MACpB;IACJ;IACA,MAAM;QAAEkO,YAAY;QAAEoP,aAAa;QAAEC,YAAY;QAAE3P;MAAc,CAAC,GAAGyP,OAAO;MAAEvI,IAAI,GAAGpe,MAAM,CAAC2mB,OAAO,EAAE,CAAC,cAAc,EAAE,eAAe,EAAE,cAAc,EAAE,eAAe,CAAC,CAAC;IACxK,IAAI,OAAOpY,QAAQ,KAAK,WAAW,EAAE;MACjCuZ,cAAc,CAACxe,OAAO,GAAGiF,QAAQ,CAAClQ,aAAa,CAAC,KAAK,CAAC;IAC1D;IACAgoB,UAAU,CAAC/c,OAAO,GAAG,MAAM8c,UAAU,CAACY,MAAM,CAACtd,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEyU,IAAI,CAAC,EAAE;MAAEnF,SAAS,EAAE6O,cAAc,CAACxe;IAAQ,CAAC,CAAC,CAAC;IAC3HiD,WAAW,CAAC8Z,UAAU,CAAC/c,OAAO,EAAE;MAC5B,CAACgd,mBAAmB,GAAGQ,aAAa;MACpC,CAACP,mBAAmB,GAAIvX,CAAC,IAAK6X,YAAY,IAAIA,YAAY,CAAC7X,CAAC,CAAC;MAC7D,CAACwX,oBAAoB,GAAIxX,CAAC,IAAK4X,aAAa,IAAIA,aAAa,CAAC5X,CAAC,CAAC;MAChE,CAACyX,oBAAoB,GAAIzX,CAAC,IAAKkI,aAAa,IAAIA,aAAa,CAAClI,CAAC;IACnE,CAAC,CAAC;IACFqX,UAAU,CAAC/c,OAAO,CAACod,OAAO,CAAC,CAAC;IAC5BqB,SAAS,CAAC,IAAI,CAAC;IACf,SAASjB,aAAaA,CAACC,KAAK,EAAE;MAC1B,IAAIvP,YAAY,EAAE;QACdA,YAAY,CAACuP,KAAK,CAAC;MACvB;MACAV,UAAU,CAAC/c,OAAO,GAAGiB,SAAS;MAC9Bud,cAAc,CAACxe,OAAO,GAAGiB,SAAS;MAClCwd,SAAS,CAAC,KAAK,CAAC;MAChBjO,UAAU,CAACpB,aAAa,CAACsP,SAAS,CAAC;IACvC;EACJ,CAAC,EAAE,EAAE,CAAC;EACN,MAAMf,OAAO,GAAGxoB,WAAW,CAAC,OAAOypB,IAAI,EAAEC,IAAI,KAAK;IAC9C9B,UAAU,CAAC/c,OAAO,KAAK,MAAM+c,UAAU,CAAC/c,OAAO,CAAC2d,OAAO,CAACiB,IAAI,EAAEC,IAAI,CAAC,CAAC;IACpE9B,UAAU,CAAC/c,OAAO,GAAGiB,SAAS;IAC9Bud,cAAc,CAACxe,OAAO,GAAGiB,SAAS;EACtC,CAAC,EAAE,EAAE,CAAC;EACN,OAAO;IACHmc,OAAO;IACPO;EACJ,CAAC;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASmB,WAAWA,CAACnP,SAAS,EAAE4O,cAAc,EAAE;EAC5C,MAAMzB,UAAU,GAAGwB,UAAU,CAAC,UAAU,EAAEzoB,eAAe,EAAEwG,sBAAsB,EAAEsT,SAAS,EAAE4O,cAAc,CAAC;EAC7G,MAAMnB,OAAO,GAAGjoB,WAAW,CAAC,CAACkoB,OAAO,GAAG,CAAC,CAAC,KAAK;IAC1CP,UAAU,CAACM,OAAO,CAACC,OAAO,CAAC;EAC/B,CAAC,EAAE,CAACP,UAAU,CAACM,OAAO,CAAC,CAAC;EACxB,OAAO,CAACA,OAAO,EAAEN,UAAU,CAACa,OAAO,CAAC;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASoB,aAAaA,CAACpP,SAAS,EAAE4O,cAAc,EAAE;EAC9C,MAAMzB,UAAU,GAAGwB,UAAU,CAAC,YAAY,EAAExoB,iBAAiB,EAAEwG,sBAAsB,EAAEqT,SAAS,EAAE4O,cAAc,CAAC;EACjH,MAAMnB,OAAO,GAAGjoB,WAAW,CAAC,CAACkoB,OAAO,GAAG,CAAC,CAAC,KAAK;IAC1CP,UAAU,CAACM,OAAO,CAACC,OAAO,CAAC;EAC/B,CAAC,EAAE,CAACP,UAAU,CAACM,OAAO,CAAC,CAAC;EACxB,OAAO,CAACA,OAAO,EAAEN,UAAU,CAACa,OAAO,CAAC;AACxC;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASqB,YAAYA,CAAA,EAAG;EACpB,MAAMlC,UAAU,GAAGD,aAAa,CAAC,WAAW,EAAE9mB,gBAAgB,EAAEoG,sBAAsB,CAAC;EACvF,MAAMihB,OAAO,GAAGjoB,WAAW,CAAC,CAAC8pB,gBAAgB,EAAElB,OAAO,KAAK;IACvD,IAAIlD,KAAK,CAACS,OAAO,CAAC2D,gBAAgB,CAAC,EAAE;MACjC,OAAOnC,UAAU,CAACM,OAAO,CAAC;QACtB8B,OAAO,EAAED,gBAAgB;QACzBlB,OAAO,EAAEA,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAGA,OAAO,GAAG,CAAC;UAAEI,IAAI,EAAE;QAAK,CAAC;MAC/E,CAAC,CAAC;IACN,CAAC,MACI;MACD,OAAOrB,UAAU,CAACM,OAAO,CAAC6B,gBAAgB,CAAC;IAC/C;EACJ,CAAC,EAAE,CAACnC,UAAU,CAACM,OAAO,CAAC,CAAC;EACxB,OAAO,CAACA,OAAO,EAAEN,UAAU,CAACa,OAAO,CAAC;AACxC;;AAEA;AACA;AACA;AACA;AACA,SAASwB,aAAaA,CAAA,EAAG;EACrB,MAAMrC,UAAU,GAAGD,aAAa,CAAC,YAAY,EAAE7mB,iBAAiB,EAAEiG,sBAAsB,CAAC;EACzF,MAAMmhB,OAAO,GAAGjoB,WAAW,CAAC,CAAC8oB,gBAAgB,GAAG,CAAC,CAAC,EAAEI,QAAQ,EAAEe,OAAO,KAAK;IACtE,IAAI,OAAOnB,gBAAgB,KAAK,QAAQ,EAAE;MACtC,OAAOnB,UAAU,CAACM,OAAO,CAAC;QACtBc,OAAO,EAAED,gBAAgB;QACzBI,QAAQ;QACRe;MACJ,CAAC,CAAC;IACN,CAAC,MACI;MACD,OAAOtC,UAAU,CAACM,OAAO,CAACa,gBAAgB,CAAC;IAC/C;EACJ,CAAC,EAAE,CAACnB,UAAU,CAACM,OAAO,CAAC,CAAC;EACxB,OAAO,CAACA,OAAO,EAAEN,UAAU,CAACa,OAAO,CAAC;AACxC;AAEA,MAAM0B,eAAe,GAAGA,CAACjT,MAAM,GAAG,CAAC,CAAC,KAAK;EACrC;AACJ;AACA;AACA;AACA;AACA;AACA;EACI,IAAI,OAAOnH,QAAQ,KAAK,WAAW,EAAE;IACjCA,QAAQ,CAACqa,eAAe,CAAC9b,SAAS,CAAC+N,GAAG,CAAC,QAAQ,CAAC;EACpD;EACAtb,UAAU,CAACmK,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE+L,MAAM,CAAC,CAAC;AACzC,CAAC;;AAED;AACA,MAAMmT,mBAAmB,GAAG,aAAc5qB,KAAK,CAACmI,aAAa,CAAC;EAC1D0iB,WAAW,EAAEA,CAAA,KAAMve,SAAS;EAC5BmZ,SAAS,EAAEA,CAAA,KAAMnZ,SAAS;EAC1Bwe,WAAW,EAAEA,CAAA,KAAMxe,SAAS;EAC5Bye,cAAc,EAAEA,CAAA,KAAMze,SAAS;EAC/B0e,sBAAsB,EAAEA,CAAA,KAAM1e,SAAS;EACvC2e,8BAA8B,EAAEA,CAAA,KAAM3e,SAAS;EAC/C4e,uBAAuB,EAAEA,CAAA,KAAM5e,SAAS;EACxC6e,mBAAmB,EAAEA,CAAA,KAAM7e,SAAS;EACpCI,MAAM,EAAEA,CAAA,KAAMJ,SAAS;EACvB8e,eAAe,EAAEA,CAAA,KAAM9e;AAC3B,CAAC,CAAC;AAEF,MAAM+e,oBAAoB,SAASrrB,KAAK,CAAC+K,SAAS,CAAC;EAC/C9B,WAAWA,CAAC+B,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAAC6R,mBAAmB,GAAG,IAAI7T,0BAA0B,CAAC,CAAC;IAC3D,IAAI,CAACsiB,UAAU,GAAG,KAAK;IACvB,IAAI,CAACzO,mBAAmB,CAACnS,yBAAyB,CAAC,MAAM;MACrD,IAAI,CAAC,IAAI,CAACM,KAAK,CAACugB,KAAK,EAAE;QACnB,IAAI,IAAI,CAACD,UAAU,EAAE;UACjB,IAAI,CAACzS,QAAQ,CAAC;YACV2S,IAAI,EAAE;UACV,CAAC,EAAE,MAAM,IAAI,CAACxgB,KAAK,CAACsS,UAAU,CAAC,CAAC,CAAC;QACrC;MACJ;IACJ,CAAC,CAAC;IACF,IAAI,CAAC9D,KAAK,GAAG;MACTgS,IAAI,EAAE;IACV,CAAC;EACL;EACArgB,iBAAiBA,CAAA,EAAG;IAChB,IAAI,CAACmgB,UAAU,GAAG,IAAI;EAC1B;EACA3R,oBAAoBA,CAAA,EAAG;IACnB,IAAI,CAAC2R,UAAU,GAAG,KAAK;EAC3B;EACA/f,MAAMA,CAAA,EAAG;IACL,MAAM;MAAEigB;IAAK,CAAC,GAAG,IAAI,CAAChS,KAAK;IAC3B,OAAQxZ,KAAK,CAACI,aAAa,CAAC8H,mBAAmB,CAAC8T,QAAQ,EAAE;MAAE3K,KAAK,EAAE,IAAI,CAACwL;IAAoB,CAAC,EAAE2O,IAAI,IAAI,IAAI,CAACxgB,KAAK,CAAC0H,QAAQ,CAAC;EAC/H;AACJ;;AAEA;AACA,MAAM+Y,eAAe,CAAC;EAClBxiB,WAAWA,CAAA,EAAG;IACV,IAAI,CAACyiB,eAAe,GAAG,EAAE;IACzB,IAAI,CAACC,UAAU,GAAG,CAAC,CAAC;EACxB;EACA/O,GAAGA,CAACxP,SAAS,EAAE;IACX,IAAIA,SAAS,CAACwU,WAAW,KAAK,MAAM,IAAIxU,SAAS,CAACwU,WAAW,IAAI,IAAI,EAAE;MACnE,IAAI,CAACgK,IAAI,CAACxe,SAAS,CAAC;IACxB,CAAC,MACI,IAAIA,SAAS,CAACwU,WAAW,KAAK,KAAK,EAAE;MACtC,IAAI,CAACiK,IAAI,CAACze,SAAS,CAAC;IACxB,CAAC,MACI,IAAIA,SAAS,CAACwU,WAAW,KAAK,SAAS,EAAE;MAC1C,IAAI,CAACkK,QAAQ,CAAC1e,SAAS,CAAC;IAC5B;IACA,IAAIA,SAAS,CAAC2e,cAAc,KAAK,MAAM,EAAE;MACrC,IAAI,CAACC,MAAM,CAAC,CAAC;MACb,IAAI,CAACJ,IAAI,CAACxe,SAAS,CAAC;IACxB;EACJ;EACA6e,aAAaA,CAAChM,GAAG,EAAE;IACf,MAAMiM,UAAU,GAAG,IAAI,CAACC,mBAAmB,CAAClM,GAAG,CAAC;IAChD,IAAIiM,UAAU,EAAE;MACZA,UAAU,CAAC7hB,OAAO,CAAE+hB,EAAE,IAAK;QACvB,IAAI,CAACV,eAAe,GAAG,IAAI,CAACA,eAAe,CAACvhB,MAAM,CAAEL,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAKyiB,EAAE,CAACziB,EAAE,CAAC;MAC7E,CAAC,CAAC;MACF,IAAI,CAACgiB,UAAU,CAAC1L,GAAG,CAAC,GAAG,EAAE;IAC7B;EACJ;EACAoM,MAAMA,CAACjf,SAAS,EAAE;IACd,MAAMkf,aAAa,GAAG,IAAI,CAACZ,eAAe,CAAC7hB,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAKyD,SAAS,CAACzD,EAAE,CAAC;IAClF,IAAI2iB,aAAa,GAAG,CAAC,CAAC,EAAE;MACpB,IAAI,CAACZ,eAAe,CAACa,MAAM,CAACD,aAAa,EAAE,CAAC,EAAElf,SAAS,CAAC;IAC5D;IACA,MAAMof,QAAQ,GAAG,IAAI,CAACb,UAAU,CAACve,SAAS,CAAC6S,GAAG,IAAI,EAAE,CAAC;IACrD,IAAIuM,QAAQ,EAAE;MACV,MAAMC,QAAQ,GAAGD,QAAQ,CAAC3iB,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAKyD,SAAS,CAACzD,EAAE,CAAC;MACjE,IAAI8iB,QAAQ,GAAG,CAAC,CAAC,EAAE;QACfD,QAAQ,CAACD,MAAM,CAACE,QAAQ,EAAE,CAAC,EAAErf,SAAS,CAAC;MAC3C,CAAC,MACI;QACDof,QAAQ,CAACziB,IAAI,CAACqD,SAAS,CAAC;MAC5B;IACJ,CAAC,MACI,IAAIA,SAAS,CAAC6S,GAAG,EAAE;MACpB,IAAI,CAAC0L,UAAU,CAACve,SAAS,CAAC6S,GAAG,CAAC,GAAG,CAAC7S,SAAS,CAAC;IAChD;EACJ;EACAwe,IAAIA,CAACxe,SAAS,EAAE;IACZ,MAAM8e,UAAU,GAAG,IAAI,CAACC,mBAAmB,CAAC/e,SAAS,CAAC6S,GAAG,CAAC;IAC1D,IAAIiM,UAAU,EAAE;MACZ;MACA,IAAI,IAAI,CAACQ,eAAe,CAACR,UAAU,CAACA,UAAU,CAAC9hB,MAAM,GAAG,CAAC,CAAC,EAAEgD,SAAS,CAAC,EAAE;QACpE8e,UAAU,CAACS,GAAG,CAAC,CAAC;MACpB;MACAT,UAAU,CAACniB,IAAI,CAACqD,SAAS,CAAC;IAC9B;IACA,IAAI,CAACse,eAAe,CAAC3hB,IAAI,CAACqD,SAAS,CAAC;EACxC;EACAsf,eAAeA,CAACE,MAAM,EAAEC,MAAM,EAAE;IAC5B,IAAI,CAACD,MAAM,IAAI,CAACC,MAAM,EAAE;MACpB,OAAO,KAAK;IAChB;IACA,OAAOD,MAAM,CAAC9f,QAAQ,KAAK+f,MAAM,CAAC/f,QAAQ,IAAI8f,MAAM,CAACjL,MAAM,KAAKkL,MAAM,CAAClL,MAAM;EACjF;EACAkK,IAAIA,CAACze,SAAS,EAAE;IACZ,MAAM8e,UAAU,GAAG,IAAI,CAACC,mBAAmB,CAAC/e,SAAS,CAAC6S,GAAG,CAAC;IAC1D,IAAIiM,UAAU,EAAE;MACZ;MACAA,UAAU,CAACS,GAAG,CAAC,CAAC;MAChB;MACAT,UAAU,CAACS,GAAG,CAAC,CAAC;MAChBT,UAAU,CAACniB,IAAI,CAACqD,SAAS,CAAC;IAC9B;IACA;IACA,IAAI,CAACse,eAAe,CAACiB,GAAG,CAAC,CAAC;IAC1B;IACA,IAAI,CAACjB,eAAe,CAACiB,GAAG,CAAC,CAAC;IAC1B,IAAI,CAACjB,eAAe,CAAC3hB,IAAI,CAACqD,SAAS,CAAC;EACxC;EACA0e,QAAQA,CAAC1e,SAAS,EAAE;IAChB,MAAM8e,UAAU,GAAG,IAAI,CAACC,mBAAmB,CAAC/e,SAAS,CAAC6S,GAAG,CAAC;IAC1DiM,UAAU,IAAIA,UAAU,CAACS,GAAG,CAAC,CAAC;IAC9B,IAAI,CAACjB,eAAe,CAACiB,GAAG,CAAC,CAAC;IAC1B,IAAI,CAACf,IAAI,CAACxe,SAAS,CAAC;EACxB;EACA4e,MAAMA,CAAA,EAAG;IACL,MAAMld,IAAI,GAAGrD,MAAM,CAACqD,IAAI,CAAC,IAAI,CAAC6c,UAAU,CAAC;IACzC7c,IAAI,CAACzE,OAAO,CAAEyiB,CAAC,IAAM,IAAI,CAACnB,UAAU,CAACmB,CAAC,CAAC,GAAG,EAAG,CAAC;IAC9C,IAAI,CAACpB,eAAe,GAAG,EAAE;EAC7B;EACAS,mBAAmBA,CAAC/Q,GAAG,EAAE;IACrB,IAAI8Q,UAAU;IACd,IAAI9Q,GAAG,EAAE;MACL8Q,UAAU,GAAG,IAAI,CAACP,UAAU,CAACvQ,GAAG,CAAC;MACjC,IAAI,CAAC8Q,UAAU,EAAE;QACbA,UAAU,GAAG,IAAI,CAACP,UAAU,CAACvQ,GAAG,CAAC,GAAG,EAAE;MAC1C;IACJ;IACA,OAAO8Q,UAAU;EACrB;EACAa,uBAAuBA,CAAC9M,GAAG,EAAE;IACzB,MAAMiM,UAAU,GAAG,IAAI,CAACC,mBAAmB,CAAClM,GAAG,CAAC;IAChD,IAAIiM,UAAU,EAAE;MACZ,OAAOA,UAAU,CAAC,CAAC,CAAC;IACxB;IACA,OAAO5f,SAAS;EACpB;EACA0gB,yBAAyBA,CAAC/M,GAAG,EAAE;IAC3B,MAAMiM,UAAU,GAAG,IAAI,CAACC,mBAAmB,CAAClM,GAAG,CAAC;IAChD,IAAIiM,UAAU,EAAE;MACZ,OAAOA,UAAU,CAACA,UAAU,CAAC9hB,MAAM,GAAG,CAAC,CAAC;IAC5C;IACA,OAAOkC,SAAS;EACpB;EACA2gB,gBAAgBA,CAAC7f,SAAS,EAAE;IACxB,MAAM8e,UAAU,GAAG,IAAI,CAACC,mBAAmB,CAAC/e,SAAS,CAAC6S,GAAG,CAAC;IAC1D,IAAIiM,UAAU,EAAE;MACZ,KAAK,IAAIgB,CAAC,GAAGhB,UAAU,CAAC9hB,MAAM,GAAG,CAAC,EAAE8iB,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;QAC7C,MAAMd,EAAE,GAAGF,UAAU,CAACgB,CAAC,CAAC;QACxB,IAAId,EAAE,EAAE;UACJ,IAAIA,EAAE,CAACtf,QAAQ,KAAKM,SAAS,CAAC+f,aAAa,EAAE;YACzC,OAAOf,EAAE;UACb;QACJ;MACJ;IACJ;IACA,KAAK,IAAIc,CAAC,GAAG,IAAI,CAACxB,eAAe,CAACthB,MAAM,GAAG,CAAC,EAAE8iB,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE;MACvD,MAAMd,EAAE,GAAG,IAAI,CAACV,eAAe,CAACwB,CAAC,CAAC;MAClC,IAAId,EAAE,EAAE;QACJ,IAAIA,EAAE,CAACtf,QAAQ,KAAKM,SAAS,CAAC+f,aAAa,EAAE;UACzC,OAAOf,EAAE;QACb;MACJ;IACJ;IACA,OAAO9f,SAAS;EACpB;EACA8gB,QAAQA,CAAA,EAAG;IACP,OAAQ,IAAI,CAAC1B,eAAe,CAAC,IAAI,CAACA,eAAe,CAACthB,MAAM,GAAG,CAAC,CAAC,IAAI,IAAI,CAACshB,eAAe,CAAC,IAAI,CAACA,eAAe,CAACthB,MAAM,GAAG,CAAC,CAAC;EAC1H;EACAiB,OAAOA,CAAA,EAAG;IACN,OAAO,IAAI,CAACqgB,eAAe,CAAC,IAAI,CAACA,eAAe,CAACthB,MAAM,GAAG,CAAC,CAAC;EAChE;EACAqb,SAASA,CAAA,EAAG;IACR,OAAO,IAAI,CAACiG,eAAe,CAACthB,MAAM,GAAG,CAAC;EAC1C;AACJ;AAEA,MAAMijB,UAAU,SAASrtB,KAAK,CAACqc,aAAa,CAAC;EACzCpT,WAAWA,CAAC+B,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACsiB,qBAAqB,GAAG;MACzBvjB,IAAI,EAAEA,CAAC+C,QAAQ,EAAE+K,eAAe,EAAE+J,WAAW,EAAE9J,aAAa,EAAEyV,gBAAgB,KAAK;QAC/E,IAAI,CAACtgB,QAAQ,CAACH,QAAQ,EAAE+K,eAAe,EAAE+J,WAAW,EAAE2L,gBAAgB,EAAEzV,aAAa,CAAC;MAC1F,CAAC;MACD9K,IAAI,EAAGugB,gBAAgB,IAAK;QACxB,IAAI,CAAC7gB,MAAM,CAACJ,SAAS,EAAEihB,gBAAgB,CAAC;MAC5C,CAAC;MACD9H,SAAS,EAAEA,CAAA,KAAM,IAAI,CAACza,KAAK,CAAC0gB,eAAe,CAACjG,SAAS,CAAC,CAAC;MACvDC,UAAU,EAAEA,CAAA,KAAM,IAAI,CAAC1a,KAAK,CAACwiB,YAAY,CAAC,CAAC;MAC3CpgB,SAAS,EAAE,IAAI,CAACpC,KAAK,CAACoC;IAC1B,CAAC;IACD,IAAI,CAACoM,KAAK,GAAG;MACT9M,MAAM,EAAE,IAAI,CAACA,MAAM,CAAC8P,IAAI,CAAC,IAAI,CAAC;MAC9BrP,cAAc,EAAEA,CAAA,KAAM,IAAI;MAC1BF,QAAQ,EAAE,IAAI,CAACA,QAAQ,CAACuP,IAAI,CAAC,IAAI,CAAC;MAClCnQ,cAAc,EAAE,IAAI,CAACA,cAAc,CAACmQ,IAAI,CAAC,IAAI,CAAC;MAC9CjQ,WAAW,EAAE,IAAI,CAACA,WAAW,CAACiQ,IAAI,CAAC,IAAI,CAAC;MACxC/P,eAAe,EAAE,IAAI,CAACA,eAAe,CAAC+P,IAAI,CAAC,IAAI,CAAC;MAChDhQ,cAAc,EAAE,IAAI,CAACA,cAAc,CAACgQ,IAAI,CAAC,IAAI,CAAC;MAC9CpP,SAAS,EAAE,IAAI,CAACpC,KAAK,CAACoC,SAAS;MAC/BC,aAAa,EAAE,IAAI,CAACrC,KAAK,CAAC6W,eAAe;MACzCvU,SAAS,EAAE,IAAI,CAACtC,KAAK,CAACyiB,WAAW;MACjCjgB,QAAQ,EAAE,IAAI,CAACxC,KAAK,CAAC0iB;IACzB,CAAC;EACL;EACAviB,iBAAiBA,CAAA,EAAG;IAChB,IAAI,OAAOmF,QAAQ,KAAK,WAAW,EAAE;MACjC,IAAI,CAACqd,wBAAwB,GAAG,IAAI,CAACA,wBAAwB,CAACnR,IAAI,CAAC,IAAI,CAAC;MACxElM,QAAQ,CAACO,gBAAgB,CAAC,eAAe,EAAE,IAAI,CAAC8c,wBAAwB,CAAC;IAC7E;EACJ;EACAhU,oBAAoBA,CAAA,EAAG;IACnB,IAAI,OAAOrJ,QAAQ,KAAK,WAAW,EAAE;MACjCA,QAAQ,CAACM,mBAAmB,CAAC,eAAe,EAAE,IAAI,CAAC+c,wBAAwB,CAAC;IAChF;EACJ;EACAA,wBAAwBA,CAAC5c,CAAC,EAAE;IACxBA,CAAC,CAACiP,MAAM,CAAC4N,QAAQ,CAAC,CAAC,EAAGC,kBAAkB,IAAK;MACzC,IAAI,CAACC,YAAY,CAAC,CAAC;MACnBD,kBAAkB,CAAC,CAAC;IACxB,CAAC,CAAC;EACN;EACAnhB,MAAMA,CAACC,KAAK,EAAE4gB,gBAAgB,EAAE;IAC5B,IAAI,CAACviB,KAAK,CAAC+iB,cAAc,CAACphB,KAAK,EAAE4gB,gBAAgB,CAAC;EACtD;EACAO,YAAYA,CAAA,EAAG;IACX,IAAI,CAAC9iB,KAAK,CAACwiB,YAAY,CAAC,CAAC;EAC7B;EACAvgB,QAAQA,CAACC,IAAI,EAAE8gB,SAAS,GAAG,SAAS,EAAEC,MAAM,GAAG,MAAM,EAAEV,gBAAgB,EAAE7E,OAAO,EAAEzI,GAAG,EAAE;IACnF,IAAI,CAACjV,KAAK,CAACkjB,UAAU,CAAChhB,IAAI,EAAE+gB,MAAM,EAAED,SAAS,EAAET,gBAAgB,EAAE7E,OAAO,EAAEzI,GAAG,CAAC;EAClF;EACAzT,cAAcA,CAAA,EAAG;IACb,OAAO4P,WAAW;EACtB;EACA/P,cAAcA,CAAA,EAAG;IACb,OAAO,IAAI,CAACrB,KAAK,CAACmjB,WAAW;EACjC;EACA5hB,WAAWA,CAAA,EAAG;IACV,OAAO,IAAI,CAACvB,KAAK,CAACojB,QAAQ;EAC9B;EACA3hB,eAAeA,CAAA,EAAG;IACd,OAAO,IAAI,CAACzB,KAAK,CAACqjB,YAAY;EAClC;EACA9iB,MAAMA,CAAA,EAAG;IACL,OAAQvL,KAAK,CAACI,aAAa,CAACgM,UAAU,CAAC4P,QAAQ,EAAE;MAAE3K,KAAK,EAAE5F,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC8N,KAAK,CAAC,EAAE;QAAEpM,SAAS,EAAE,IAAI,CAACpC,KAAK,CAACoC;MAAU,CAAC;IAAE,CAAC,EACzIpN,KAAK,CAACI,aAAa,CAAColB,gBAAgB,CAACxJ,QAAQ,EAAE;MAAE3K,KAAK,EAAE5F,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC4hB,qBAAqB,CAAC,EAAE;QAAElgB,SAAS,EAAE,IAAI,CAACpC,KAAK,CAACoC;MAAU,CAAC;IAAE,CAAC,EAAE,IAAI,CAACpC,KAAK,CAAC0H,QAAQ,CAAC,CAAC;EAC1L;AACJ;AAEA,MAAM4b,UAAU,CAAC;EACbrlB,WAAWA,CAAA,EAAG;IACV,IAAI,CAACslB,UAAU,GAAG,CAAC,CAAC;IACpB,IAAI,CAAC3R,GAAG,GAAG,IAAI,CAACA,GAAG,CAACJ,IAAI,CAAC,IAAI,CAAC;IAC9B,IAAI,CAACgS,KAAK,GAAG,IAAI,CAACA,KAAK,CAAChS,IAAI,CAAC,IAAI,CAAC;IAClC,IAAI,CAACiS,qBAAqB,GAAG,IAAI,CAACA,qBAAqB,CAACjS,IAAI,CAAC,IAAI,CAAC;IAClE,IAAI,CAAC5C,MAAM,GAAG,IAAI,CAACA,MAAM,CAAC4C,IAAI,CAAC,IAAI,CAAC;EACxC;EACAI,GAAGA,CAAC8R,QAAQ,EAAE;IACV,MAAM;MAAEC;IAAS,CAAC,GAAGD,QAAQ;IAC7B,IAAI,CAAC,IAAI,CAACH,UAAU,CAACI,QAAQ,CAAC,EAAE;MAC5B,IAAI,CAACJ,UAAU,CAACI,QAAQ,CAAC,GAAG,CAACD,QAAQ,CAAC;IAC1C,CAAC,MACI;MACD,IAAI,CAACH,UAAU,CAACI,QAAQ,CAAC,CAAC5kB,IAAI,CAAC2kB,QAAQ,CAAC;IAC5C;EACJ;EACAF,KAAKA,CAACG,QAAQ,EAAE;IACZ;IACA,OAAOC,UAAU,CAAC,MAAM;MACpB,OAAO,IAAI,CAACL,UAAU,CAACI,QAAQ,CAAC;IACpC,CAAC,EAAE,GAAG,CAAC;EACX;EACAF,qBAAqBA,CAACE,QAAQ,EAAE;IAC5B,OAAO,IAAI,CAACJ,UAAU,CAACI,QAAQ,CAAC,IAAI,EAAE;EAC1C;EACA/U,MAAMA,CAAC8U,QAAQ,EAAE;IACb,MAAM;MAAEC;IAAS,CAAC,GAAGD,QAAQ;IAC7B,MAAMG,SAAS,GAAG,IAAI,CAACN,UAAU,CAACI,QAAQ,CAAC;IAC3C,IAAIE,SAAS,EAAE;MACX,MAAMC,gBAAgB,GAAGD,SAAS,CAAC1N,IAAI,CAAErX,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAK+kB,QAAQ,CAAC/kB,EAAE,CAAC;MACpE,IAAImlB,gBAAgB,EAAE;QAClBA,gBAAgB,CAACvD,KAAK,GAAG,KAAK;QAC9B,IAAI,CAACgD,UAAU,CAACI,QAAQ,CAAC,GAAGE,SAAS,CAAC1kB,MAAM,CAAEL,CAAC,IAAKA,CAAC,CAACH,EAAE,KAAKmlB,gBAAgB,CAACnlB,EAAE,CAAC;MACrF;IACJ;EACJ;EACAolB,WAAWA,CAAA,EAAG;IACV,OAAOtjB,MAAM,CAACqD,IAAI,CAAC,IAAI,CAACyf,UAAU,CAAC;EACvC;EACAS,eAAeA,CAAA,EAAG;IACd,MAAMlgB,IAAI,GAAG,IAAI,CAACigB,WAAW,CAAC,CAAC;IAC/B,MAAME,SAAS,GAAG,EAAE;IACpBngB,IAAI,CAACzE,OAAO,CAAEyiB,CAAC,IAAK;MAChBmC,SAAS,CAACllB,IAAI,CAAC,GAAG,IAAI,CAACwkB,UAAU,CAACzB,CAAC,CAAC,CAAC;IACzC,CAAC,CAAC;IACF,OAAOmC,SAAS;EACpB;AACJ;AAEA,SAASrJ,eAAe,EAAE5c,0BAA0B,EAAEkK,YAAY,EAAEC,iBAAiB,EAAEiH,cAAc,EAAEJ,QAAQ,EAAE4B,MAAM,EAAExI,SAAS,EAAE8Q,aAAa,EAAE7Q,WAAW,EAAEC,QAAQ,EAAE/M,aAAa,EAAEgN,cAAc,EAAE9M,SAAS,EAAE+M,UAAU,EAAE7M,OAAO,EAAE8M,cAAc,EAAEC,aAAa,EAAEC,eAAe,EAAEC,YAAY,EAAEC,WAAW,EAAEC,OAAO,EAAEC,MAAM,EAAEC,UAAU,EAAEC,WAAW,EAAEC,iBAAiB,EAAEC,MAAM,EAAEtN,YAAY,EAAEuN,UAAU,EAAEC,SAAS,EAAEC,OAAO,EAAEC,SAAS,EAAE2Q,OAAO,EAAE1Q,MAAM,EAAEC,iBAAiB,EAAEC,wBAAwB,EAAEC,QAAQ,EAAEC,sBAAsB,EAAE3N,OAAO,EAAE4N,cAAc,EAAEC,YAAY,EAAE/N,aAAa,EAAEgO,cAAc,EAAEC,cAAc,EAAEC,QAAQ,EAAE/M,mBAAmB,EAAEgN,OAAO,EAAEC,aAAa,EAAE8E,UAAU,EAAE7E,OAAO,EAAEC,aAAa,EAAEC,aAAa,EAAE+E,QAAQ,EAAE0E,MAAM,EAAExJ,UAAU,EAAEC,OAAO,EAAEuH,OAAO,EAAEtH,SAAS,EAAEC,eAAe,EAAEC,qBAAqB,EAAEwE,eAAe,EAAEG,UAAU,EAAE1E,cAAc,EAAEC,QAAQ,EAAEC,aAAa,EAAEC,QAAQ,EAAEuP,WAAW,EAAEtP,YAAY,EAAEC,mBAAmB,EAAEC,UAAU,EAAEC,eAAe,EAAEC,eAAe,EAAE+O,QAAQ,EAAEK,gBAAgB,EAAEre,aAAa,EAAEyY,eAAe,EAAEvJ,MAAM,EAAEC,YAAY,EAAEC,UAAU,EAAEC,gBAAgB,EAAEC,SAAS,EAAEC,eAAe,EAAEC,eAAe,EAAEC,UAAU,EAAEC,YAAY,EAAEC,MAAM,EAAEyL,SAAS,EAAE1C,YAAY,EAAEyD,OAAO,EAAEtE,cAAc,EAAEjI,OAAO,EAAEC,WAAW,EAAEC,YAAY,EAAEC,QAAQ,EAAEgD,QAAQ,EAAE/C,SAAS,EAAEC,UAAU,EAAEqU,eAAe,EAAErf,UAAU,EAAEihB,UAAU,EAAEzC,mBAAmB,EAAE3O,YAAY,EAAEoP,oBAAoB,EAAEiD,UAAU,EAAEpR,UAAU,EAAE3F,SAAS,EAAE5W,YAAY,EAAEF,UAAU,EAAEiqB,eAAe,EAAEzB,iBAAiB,EAAEI,WAAW,EAAEmB,aAAa,EAAEL,WAAW,EAAEE,YAAY,EAAED,aAAa,EAAEzE,YAAY,EAAE8D,WAAW,EAAExd,kBAAkB,EAAEE,kBAAkB,EAAEP,mBAAmB,EAAEM,mBAAmB,EAAEtB,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}