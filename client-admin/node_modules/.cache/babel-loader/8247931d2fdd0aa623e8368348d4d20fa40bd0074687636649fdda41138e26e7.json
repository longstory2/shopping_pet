{"ast":null,"code":"var _jsxFileName = \"D:\\\\H\\u1ECCC T\\u1EACP\\\\L\\u1EADp tr\\xECnh web n\\xE2ng cao\\\\clone\\\\shopping\\\\client-admin\\\\src\\\\components\\\\CategoryComponent.js\";\nimport axios from 'axios';\nimport React, { Component } from 'react';\nimport MyContext from '../contexts/MyContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass CategoryDetailComponent extends Component {\n  // using this.context to access global state\n\n  constructor(props) {\n    super(props);\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const name = this.state.txtName;\n      if (name) {\n        const cate = {\n          name: name\n        };\n        this.apiPostCategory(cate);\n      } else {\n        alert('Please input name');\n      }\n    };\n    this.handleUpdate = () => {\n      const id = this.state.txtID;\n      const name = this.state.txtName;\n      if (id && name) {\n        const cate = {\n          name: name\n        };\n        this.apiPutCategory(id, cate);\n      } else {\n        alert('Please input id and name');\n      }\n    };\n    this.handleDelete = () => {\n      if (window.confirm('Are you sure to delete?')) {\n        const id = this.state.txtID;\n        if (id) {\n          this.apiDeleteCategory(id);\n        } else {\n          alert('Please input id');\n        }\n      }\n    };\n    this.state = {\n      txtID: '',\n      txtName: ''\n    };\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"category-detail\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-center\",\n        children: \"CATEGORY DETAIL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"txtName\",\n            className: \"form-label\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"txtName\",\n            value: this.state.txtName,\n            onChange: e => this.setState({\n              txtName: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 23,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn btn-primary me-2\",\n            children: \"ADD NEW\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 32,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-warning me-2\",\n            onClick: this.handleUpdate,\n            children: \"UPDATE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 33,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-danger\",\n            onClick: this.handleDelete,\n            children: \"DELETE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 34,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }, this);\n  }\n  componentDidUpdate(prevProps) {\n    if (this.props.item !== prevProps.item) {\n      this.setState({\n        txtID: this.props.item._id,\n        txtName: this.props.item.name\n      });\n    }\n  }\n  apiPostCategory(cate) {\n    const config = {\n      headers: {\n        'x-access-token': this.context.token\n      }\n    };\n    axios.post('/api/admin/categories', cate, config).then(res => {\n      const result = res.data;\n      if (result) {\n        alert('Category added successfully!');\n        this.props.updateCategories(result);\n        this.clearForm();\n      } else {\n        alert('Failed to add category.');\n      }\n    }).catch(error => {\n      console.error('Error adding category:', error);\n    });\n  }\n  apiPutCategory(id, cate) {\n    const config = {\n      headers: {\n        'x-access-token': this.context.token\n      }\n    };\n    axios.put(`/api/admin/categories/${id}`, cate, config).then(res => {\n      const result = res.data;\n      if (result) {\n        alert('Category updated successfully!');\n        this.props.updateCategories(result);\n      } else {\n        alert('Failed to update category.');\n      }\n    }).catch(error => {\n      console.error('Error updating category:', error);\n    });\n  }\n  apiDeleteCategory(id) {\n    const config = {\n      headers: {\n        'x-access-token': this.context.token\n      }\n    };\n    axios.delete(`/api/admin/categories/${id}`, config).then(res => {\n      const result = res.data;\n      if (result) {\n        alert('Category deleted successfully!');\n        this.props.updateCategories(result);\n        this.clearForm();\n      } else {\n        alert('Failed to delete category.');\n      }\n    }).catch(error => {\n      console.error('Error deleting category:', error);\n    });\n  }\n  clearForm() {\n    this.setState({\n      txtID: '',\n      txtName: ''\n    });\n  }\n}\nCategoryDetailComponent.contextType = MyContext;\nexport default CategoryDetailComponent;","map":{"version":3,"names":["axios","React","Component","MyContext","jsxDEV","_jsxDEV","CategoryDetailComponent","constructor","props","handleSubmit","e","preventDefault","name","state","txtName","cate","apiPostCategory","alert","handleUpdate","id","txtID","apiPutCategory","handleDelete","window","confirm","apiDeleteCategory","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","htmlFor","type","value","onChange","setState","target","onClick","componentDidUpdate","prevProps","item","_id","config","headers","context","token","post","then","res","result","data","updateCategories","clearForm","catch","error","console","put","delete","contextType"],"sources":["D:/HỌC TẬP/Lập trình web nâng cao/clone/shopping/client-admin/src/components/CategoryComponent.js"],"sourcesContent":["import axios from 'axios';\nimport React, { Component } from 'react';\nimport MyContext from '../contexts/MyContext';\n\nclass CategoryDetailComponent extends Component {\n  static contextType = MyContext; // using this.context to access global state\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      txtID: '',\n      txtName: ''\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"category-detail\">\n        <h2 className=\"text-center\">CATEGORY DETAIL</h2>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"mb-3\">\n            <label htmlFor=\"txtName\" className=\"form-label\">Name</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"txtName\"\n              value={this.state.txtName}\n              onChange={(e) => this.setState({ txtName: e.target.value })}\n            />\n          </div>\n          <div className=\"mb-3\">\n            <button type=\"submit\" className=\"btn btn-primary me-2\">ADD NEW</button>\n            <button type=\"button\" className=\"btn btn-warning me-2\" onClick={this.handleUpdate}>UPDATE</button>\n            <button type=\"button\" className=\"btn btn-danger\" onClick={this.handleDelete}>DELETE</button>\n          </div>\n        </form>\n      </div>\n    );\n  }\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    const name = this.state.txtName;\n    if (name) {\n      const cate = { name: name };\n      this.apiPostCategory(cate);\n    } else {\n      alert('Please input name');\n    }\n  }\n\n  handleUpdate = () => {\n    const id = this.state.txtID;\n    const name = this.state.txtName;\n    if (id && name) {\n      const cate = { name: name };\n      this.apiPutCategory(id, cate);\n    } else {\n      alert('Please input id and name');\n    }\n  }\n\n  handleDelete = () => {\n    if (window.confirm('Are you sure to delete?')) {\n      const id = this.state.txtID;\n      if (id) {\n        this.apiDeleteCategory(id);\n      } else {\n        alert('Please input id');\n      }\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.item !== prevProps.item) {\n      this.setState({ txtID: this.props.item._id, txtName: this.props.item.name });\n    }\n  }\n\n  apiPostCategory(cate) {\n    const config = { headers: { 'x-access-token': this.context.token } };\n    axios.post('/api/admin/categories', cate, config).then((res) => {\n      const result = res.data;\n      if (result) {\n        alert('Category added successfully!');\n        this.props.updateCategories(result);\n        this.clearForm();\n      } else {\n        alert('Failed to add category.');\n      }\n    }).catch(error => {\n      console.error('Error adding category:', error);\n    });\n  }\n\n  apiPutCategory(id, cate) {\n    const config = { headers: { 'x-access-token': this.context.token } };\n    axios.put(`/api/admin/categories/${id}`, cate, config).then((res) => {\n      const result = res.data;\n      if (result) {\n        alert('Category updated successfully!');\n        this.props.updateCategories(result);\n      } else {\n        alert('Failed to update category.');\n      }\n    }).catch(error => {\n      console.error('Error updating category:', error);\n    });\n  }\n\n  apiDeleteCategory(id) {\n    const config = { headers: { 'x-access-token': this.context.token } };\n    axios.delete(`/api/admin/categories/${id}`, config).then((res) => {\n      const result = res.data;\n      if (result) {\n        alert('Category deleted successfully!');\n        this.props.updateCategories(result);\n        this.clearForm();\n      } else {\n        alert('Failed to delete category.');\n      }\n    }).catch(error => {\n      console.error('Error deleting category:', error);\n    });\n  }\n\n  clearForm() {\n    this.setState({ txtID: '', txtName: '' });\n  }\n}\n\nexport default CategoryDetailComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}